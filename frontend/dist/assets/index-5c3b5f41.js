import{r as i,j as e,H as g,d as b,T as u,B as f}from"./index-bc388b4b.js";import{A as j}from"./Alert-c27f4129.js";import{C as y}from"./Card-6273d280.js";import{T as N,a as v}from"./TableBody-782e6f5f.js";import{T as S,a as p,b as r}from"./TableRow-c8f22017.js";function w({customer:s,setCustomer:l,setLoginStatus:c}){const[o,d]=i.useState(""),[t,x]=i.useState("");i.useEffect(()=>{d("")},[s]);const[m,h]=i.useState("sign in");return e.jsxs(e.Fragment,{children:[e.jsx(g,{}),e.jsx("div",{className:"auth-page",children:e.jsxs("form",{className:"",onSubmit:async n=>{n.preventDefault();try{if(s.password.length<5){d("Password must be 5 character");return}const{data:a}=await b.post("/customers",s);localStorage.setItem("customer",JSON.stringify(a.customer)),d(""),x(a.message),setTimeout(()=>{c(!0)},500)}catch(a){x(""),d(a.response.data.message)}},children:[e.jsx("img",{src:"/assets/images/logo/logo_single.webp",width:200,alt:""}),e.jsx("h2",{children:"Welcome To Vape Amazon"}),!!o&&e.jsx(j,{sx:{width:"100%"},severity:"error",children:o}),!!t&&e.jsx(j,{sx:{width:"100%"},severity:"success",children:t}),m==="sign up"&&e.jsxs(e.Fragment,{children:[e.jsx(u,{fullWidth:!0,label:"First Name",onChange:n=>l(a=>({...a,fName:n.target.value})),value:s.fName,type:"text",required:!0}),e.jsx(u,{fullWidth:!0,label:"Last Name",onChange:n=>l(a=>({...a,lName:n.target.value})),value:s.lName,type:"text",required:!0})]}),e.jsx(u,{fullWidth:!0,label:"Email",onChange:n=>l(a=>({...a,email:n.target.value})),value:s.email,type:"email",required:!0}),e.jsx(u,{fullWidth:!0,label:"Password",onChange:n=>l(a=>({...a,password:n.target.value})),value:s.password,type:"password",required:!0}),e.jsx(f,{variant:"contained",color:"success",sx:{px:5,py:1},type:"submit",children:m==="sign in"?"Login":"Register"}),m==="sign in"?e.jsxs("p",{style:{fontSize:"14px"},onClick:()=>h("sign up"),children:["Do you not have an Account?"," ",e.jsx("span",{style:{fontSize:"14px",color:"#2382ed",cursor:"pointer"},children:"Register"})]}):e.jsx("p",{style:{fontSize:"14px"},onClick:()=>h("sign in"),children:"Already have an Account?"})]})})]})}function _({customer:s,setLoginStatus:l}){const[c,o]=i.useState([]),d=i.useCallback(async()=>{const{data:t}=await b.get("/orders",{params:{email:s.email}});o(t)},[s]);return i.useEffect(()=>{s.email&&d()},[s]),e.jsxs("div",{children:[e.jsx(g,{}),e.jsxs("div",{className:"your-orders-content-container__content js-yo-main-content snipcss-i7lG7",style:{margin:"auto",marginTop:"200px"},children:[e.jsxs("div",{className:"a-section a-spacing-medium a-spacing-top-small",style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("ul",{className:"breadcrumbs",children:[e.jsx("li",{className:"breadcrumbs__crumb",children:e.jsx("a",{className:"a-link-normal",children:"Your Account"})}),e.jsx("li",{className:"breadcrumbs__crumb breadcrumbs__crumb--divider",children:"â€º"}),e.jsx("li",{className:"breadcrumbs__crumb breadcrumbs__crumb--current",children:e.jsx("span",{className:"a-color-state",children:"Your Orders"})})]}),e.jsx(f,{size:"small",variant:"contained",color:"warning",onClick:()=>l(!1),children:"Logout"})]}),e.jsx("div",{className:"a-row a-spacing-medium",children:e.jsx("div",{className:"a-column a-span6",children:e.jsx("h1",{children:"Your Orders"})})}),e.jsx("div",{className:"a-section a-spacing-medium page-tabs",children:e.jsx("ul",{role:"tablist",children:e.jsx("li",{className:"page-tabs__tab page-tabs__tab--selected",role:"tab",children:"Orders"})})}),e.jsx(y,{children:e.jsxs(N,{children:[e.jsx(S,{children:e.jsxs(p,{children:[e.jsx(r,{children:"Order Id"}),e.jsx(r,{children:"Product Name"}),e.jsx(r,{children:"Price"}),e.jsx(r,{children:"Quantity"}),e.jsx(r,{children:"Total Amount"}),e.jsx(r,{children:"Status"})]})}),e.jsx(v,{children:c.map(t=>e.jsxs(p,{children:[e.jsxs(r,{children:["# ",t.id]}),e.jsx(r,{children:t.items[0].name}),e.jsxs(r,{children:["AED ",t.items[0].price]}),e.jsx(r,{children:t.items[0].quantity}),e.jsxs(r,{children:["AED ",t.totalAmount]}),e.jsx(r,{children:t.status})]}))})]})})]})]})}function D(){const[s,l]=i.useState(localStorage.loginStatus||!1),[c,o]=i.useState(localStorage.customer||{email:"",password:"",fName:"",lName:""});return i.useEffect(()=>{localStorage.setItem("loginStatus",s)},[s]),JSON.parse(s)===!0?e.jsx(_,{customer:c,setLoginStatus:l}):e.jsx(w,{setCustomer:o,customer:c,setLoginStatus:l})}export{D as default};
