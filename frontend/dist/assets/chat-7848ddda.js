import{H as l,bA as sn,bB as rn,bC as ke,j as t,bD as jt,bE as on,bF as an,bG as cn,bH as ln,bI as xe,bJ as ct,bK as dn,bL as $e,bM as un,bN as hn,bO as fn,bP as pn,bQ as xn,bR as wt,bS as gn,R as ze,bT as mn,bU as vn,bV as bn,aq as yn,bW as ve,bd as K,ax as jn,S as j,be as we,aM as wn,aN as _,ap as y,am as Cn,ay as Ie,bX as En,bY as Rn,bZ as Ct,b_ as Ce,ag as w,T as q,b$ as Et,c0 as de,ad as Rt,aS as qe,b9 as Tt,ao as be,aY as St,b5 as Tn,B as H,ai as Ee,c1 as kt,c2 as Sn,c3 as kn,c4 as In,c5 as _n,af as Q,aT as He,bg as It,bl as An,c6 as On,c7 as Dn,c8 as Ln,aX as Nn,b0 as Mn,ah as Fn,W as Vn}from"./index-7327ab00.js";import{u as Pn}from"./use-search-params-87bf8466.js";import{S as _e,u as Un,L as Wn}from"./lightbox-7f372fd5.js";import{D as $n}from"./DialogContent-8216996b.js";import{F as zn}from"./file-thumbnail-6e25d854.js";import{A as qn}from"./AvatarGroup-ae3349ff.js";function lt(e){return e.substring(2).toLowerCase()}function Hn(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function Bn(e){const{children:n,disableReactTree:s=!1,mouseEvent:o="onClick",onClickAway:a,touchEvent:r="onTouchEnd"}=e,i=l.useRef(!1),c=l.useRef(null),h=l.useRef(!1),u=l.useRef(!1);l.useEffect(()=>(setTimeout(()=>{h.current=!0},0),()=>{h.current=!1}),[]);const m=sn(n.ref,c),g=rn(x=>{const p=u.current;u.current=!1;const T=ke(c.current);if(!h.current||!c.current||"clientX"in x&&Hn(x,T))return;if(i.current){i.current=!1;return}let d;x.composedPath?d=x.composedPath().indexOf(c.current)>-1:d=!T.documentElement.contains(x.target)||c.current.contains(x.target),!d&&(s||!p)&&a(x)}),v=x=>p=>{u.current=!0;const T=n.props[x];T&&T(p)},f={ref:m};return r!==!1&&(f[r]=v(r)),l.useEffect(()=>{if(r!==!1){const x=lt(r),p=ke(c.current),T=()=>{i.current=!0};return p.addEventListener(x,g),p.addEventListener("touchmove",T),()=>{p.removeEventListener(x,g),p.removeEventListener("touchmove",T)}}},[g,r]),o!==!1&&(f[o]=v(o)),l.useEffect(()=>{if(o!==!1){const x=lt(o),p=ke(c.current);return p.addEventListener(x,g),()=>{p.removeEventListener(x,g)}}},[g,o]),t.jsx(l.Fragment,{children:l.cloneElement(n,f)})}var dt=1e3*60,ye=60*24,ut=ye*30,ht=ye*365;function Gn(e,n,s){var o,a,r;jt(2,arguments);var i=dn(),c=(o=(a=s==null?void 0:s.locale)!==null&&a!==void 0?a:i.locale)!==null&&o!==void 0?o:on;if(!c.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var h=an(e,n);if(isNaN(h))throw new RangeError("Invalid time value");var u=cn(ln(s),{addSuffix:!!(s!=null&&s.addSuffix),comparison:h}),m,g;h>0?(m=xe(n),g=xe(e)):(m=xe(e),g=xe(n));var v=String((r=s==null?void 0:s.roundingMethod)!==null&&r!==void 0?r:"round"),f;if(v==="floor")f=Math.floor;else if(v==="ceil")f=Math.ceil;else if(v==="round")f=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var x=g.getTime()-m.getTime(),p=x/dt,T=ct(g)-ct(m),d=(x-T)/dt,F=s==null?void 0:s.unit,S;if(F?S=String(F):p<1?S="second":p<60?S="minute":p<ye?S="hour":d<ut?S="day":d<ht?S="month":S="year",S==="second"){var V=f(x/1e3);return c.formatDistance("xSeconds",V,u)}else if(S==="minute"){var I=f(p);return c.formatDistance("xMinutes",I,u)}else if(S==="hour"){var O=f(p/60);return c.formatDistance("xHours",O,u)}else if(S==="day"){var B=f(d/ye);return c.formatDistance("xDays",B,u)}else if(S==="month"){var C=f(d/ut);return C===12&&F!=="month"?c.formatDistance("xYears",1,u):c.formatDistance("xMonths",C,u)}else if(S==="year"){var W=f(d/ht);return c.formatDistance("xYears",W,u)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function Yn(e,n){return jt(1,arguments),Gn(e,Date.now(),n)}var Kn=un;function Xn(e){return e&&e.length?Kn(e):[]}var Jn=Xn;const Qn=$e(Jn);var Zn=hn,es=fn;function ts(e,n){return e&&Zn(e,n,es)}var ns=ts,ss=pn;function rs(e,n){return function(s,o){if(s==null)return s;if(!ss(s))return e(s,o);for(var a=s.length,r=n?a:-1,i=Object(s);(n?r--:++r<a)&&o(i[r],r,i)!==!1;);return s}}var os=rs,as=ns,is=os,cs=is(as),ls=cs;function ds(e,n,s,o){for(var a=-1,r=e==null?0:e.length;++a<r;){var i=e[a];n(o,i,s(i),e)}return o}var us=ds,hs=ls;function fs(e,n,s,o){return hs(e,function(a,r,i){n(o,a,s(a),i)}),o}var ps=fs,xs=us,gs=ps,ms=xn,vs=wt;function bs(e,n){return function(s,o){var a=vs(s)?xs:gs,r=n?n():{};return a(s,e,ms(o),r)}}var ys=bs,js=gn,ws=ys,Cs=ws(function(e,n,s){js(e,s,n)}),Es=Cs;const Rs=$e(Es),ee=()=>{},M=ee(),Ae=Object,b=e=>e===M,Y=e=>typeof e=="function",te=(e,n)=>({...e,...n}),Ts=e=>Y(e.then),ge=new WeakMap;let Ss=0;const ue=e=>{const n=typeof e,s=e&&e.constructor,o=s==Date;let a,r;if(Ae(e)===e&&!o&&s!=RegExp){if(a=ge.get(e),a)return a;if(a=++Ss+"~",ge.set(e,a),s==Array){for(a="@",r=0;r<e.length;r++)a+=ue(e[r])+",";ge.set(e,a)}if(s==Ae){a="#";const i=Ae.keys(e).sort();for(;!b(r=i.pop());)b(e[r])||(a+=r+":"+ue(e[r])+",");ge.set(e,a)}}else a=o?e.toJSON():n=="symbol"?e.toString():n=="string"?JSON.stringify(e):""+e;return a},Z=new WeakMap,Oe={},me={},Be="undefined",Re=typeof window!=Be,Fe=typeof document!=Be,ks=()=>Re&&typeof window.requestAnimationFrame!=Be,_t=(e,n)=>{const s=Z.get(e);return[()=>!b(n)&&e.get(n)||Oe,o=>{if(!b(n)){const a=e.get(n);n in me||(me[n]=a),s[5](n,te(a,o),a||Oe)}},s[6],()=>!b(n)&&n in me?me[n]:!b(n)&&e.get(n)||Oe]};let Ve=!0;const Is=()=>Ve,[Pe,Ue]=Re&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[ee,ee],_s=()=>{const e=Fe&&document.visibilityState;return b(e)||e!=="hidden"},As=e=>(Fe&&document.addEventListener("visibilitychange",e),Pe("focus",e),()=>{Fe&&document.removeEventListener("visibilitychange",e),Ue("focus",e)}),Os=e=>{const n=()=>{Ve=!0,e()},s=()=>{Ve=!1};return Pe("online",n),Pe("offline",s),()=>{Ue("online",n),Ue("offline",s)}},Ds={isOnline:Is,isVisible:_s},Ls={initFocus:As,initReconnect:Os},ft=!ze.useId,he=!Re||"Deno"in window,Ns=e=>ks()?window.requestAnimationFrame(e):setTimeout(e,1),De=he?l.useEffect:l.useLayoutEffect,Le=typeof navigator<"u"&&navigator.connection,pt=!he&&Le&&(["slow-2g","2g"].includes(Le.effectiveType)||Le.saveData),Ge=e=>{if(Y(e))try{e=e()}catch{e=""}const n=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?ue(e):"",[e,n]};let Ms=0;const We=()=>++Ms,At=0,Ot=1,Dt=2,Fs=3;var le={__proto__:null,ERROR_REVALIDATE_EVENT:Fs,FOCUS_EVENT:At,MUTATE_EVENT:Dt,RECONNECT_EVENT:Ot};async function Lt(...e){const[n,s,o,a]=e,r=te({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let i=r.populateCache;const c=r.rollbackOnError;let h=r.optimisticData;const u=v=>typeof c=="function"?c(v):c!==!1,m=r.throwOnError;if(Y(s)){const v=s,f=[],x=n.keys();for(const p of x)!/^\$(inf|sub)\$/.test(p)&&v(n.get(p)._k)&&f.push(p);return Promise.all(f.map(g))}return g(s);async function g(v){const[f]=Ge(v);if(!f)return;const[x,p]=_t(n,f),[T,d,F,S]=Z.get(n),V=()=>{const z=T[f];return(Y(r.revalidate)?r.revalidate(x().data,v):r.revalidate!==!1)&&(delete F[f],delete S[f],z&&z[0])?z[0](Dt).then(()=>x().data):x().data};if(e.length<3)return V();let I=o,O;const B=We();d[f]=[B,0];const C=!b(h),W=x(),A=W.data,P=W._c,$=b(P)?A:P;if(C&&(h=Y(h)?h($,A):h,p({data:h,_c:$})),Y(I))try{I=I($)}catch(z){O=z}if(I&&Ts(I))if(I=await I.catch(z=>{O=z}),B!==d[f][0]){if(O)throw O;return I}else O&&C&&u(O)&&(i=!0,p({data:$,_c:M}));if(i&&!O)if(Y(i)){const z=i(I,$);p({data:z,error:M,_c:M})}else p({data:I,error:M,_c:M});if(d[f][1]=We(),Promise.resolve(V()).then(()=>{p({_c:M})}),O){if(m)throw O;return}return I}}const xt=(e,n)=>{for(const s in e)e[s][0]&&e[s][0](n)},Vs=(e,n)=>{if(!Z.has(e)){const s=te(Ls,n),o={},a=Lt.bind(M,e);let r=ee;const i={},c=(m,g)=>{const v=i[m]||[];return i[m]=v,v.push(g),()=>v.splice(v.indexOf(g),1)},h=(m,g,v)=>{e.set(m,g);const f=i[m];if(f)for(const x of f)x(g,v)},u=()=>{if(!Z.has(e)&&(Z.set(e,[o,{},{},{},a,h,c]),!he)){const m=s.initFocus(setTimeout.bind(M,xt.bind(M,o,At))),g=s.initReconnect(setTimeout.bind(M,xt.bind(M,o,Ot)));r=()=>{m&&m(),g&&g(),Z.delete(e)}}};return u(),[e,a,u,r]}return[e,Z.get(e)[4]]},Ps=(e,n,s,o,a)=>{const r=s.errorRetryCount,i=a.retryCount,c=~~((Math.random()+.5)*(1<<(i<8?i:8)))*s.errorRetryInterval;!b(r)&&i>r||setTimeout(o,c,a)},Us=(e,n)=>ue(e)==ue(n),[Nt,je]=Vs(new Map),Ws=te({onLoadingSlow:ee,onSuccess:ee,onError:ee,onErrorRetry:Ps,onDiscarded:ee,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:pt?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:pt?5e3:3e3,compare:Us,isPaused:()=>!1,cache:Nt,mutate:je,fallback:{}},Ds),$s=(e,n)=>{const s=te(e,n);if(n){const{use:o,fallback:a}=e,{use:r,fallback:i}=n;o&&r&&(s.use=o.concat(r)),a&&i&&(s.fallback=te(a,i))}return s},zs=l.createContext({}),qs="$inf$",Mt=Re&&window.__SWR_DEVTOOLS_USE__,Hs=Mt?window.__SWR_DEVTOOLS_USE__:[],Bs=()=>{Mt&&(window.__SWR_DEVTOOLS_REACT__=ze)},Gs=e=>Y(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Ys=()=>te(Ws,l.useContext(zs)),Ks=e=>(n,s,o)=>e(n,s&&((...r)=>{const[i]=Ge(n),[,,,c]=Z.get(Nt);if(i.startsWith(qs))return s(...r);const h=c[i];return b(h)?s(...r):(delete c[i],h)}),o),Xs=Hs.concat(Ks),Js=e=>function(...s){const o=Ys(),[a,r,i]=Gs(s),c=$s(o,i);let h=e;const{use:u}=c,m=(u||[]).concat(Xs);for(let g=m.length;g--;)h=m[g](h);return h(a,r||c.fetcher||null,c)},Qs=(e,n,s)=>{const o=n[e]||(n[e]=[]);return o.push(s),()=>{const a=o.indexOf(s);a>=0&&(o[a]=o[o.length-1],o.pop())}};Bs();const gt=ze.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(n=>{e.status="fulfilled",e.value=n},n=>{e.status="rejected",e.reason=n}),e)}),Ne={dedupe:!0},Zs=(e,n,s)=>{const{cache:o,compare:a,suspense:r,fallbackData:i,revalidateOnMount:c,revalidateIfStale:h,refreshInterval:u,refreshWhenHidden:m,refreshWhenOffline:g,keepPreviousData:v}=s,[f,x,p,T]=Z.get(o),[d,F]=Ge(e),S=l.useRef(!1),V=l.useRef(!1),I=l.useRef(d),O=l.useRef(n),B=l.useRef(s),C=()=>B.current,W=()=>C().isVisible()&&C().isOnline(),[A,P,$,z]=_t(o,d),se=l.useRef({}).current,Qt=b(i)?s.fallback[d]:i,Qe=(E,R)=>{for(const L in se){const k=L;if(k==="data"){if(!a(E[k],R[k])&&(!b(E[k])||!a(pe,R[k])))return!1}else if(R[k]!==E[k])return!1}return!0},Ze=l.useMemo(()=>{const E=(()=>!d||!n?!1:b(c)?C().isPaused()||r?!1:b(h)?!0:h:c)(),R=N=>{const X=te(N);return delete X._k,E?{isValidating:!0,isLoading:!0,...X}:X},L=A(),k=z(),G=R(L),ie=L===k?G:R(k);let D=G;return[()=>{const N=R(A());return Qe(N,D)?(D.data=N.data,D.isLoading=N.isLoading,D.isValidating=N.isValidating,D.error=N.error,D):(D=N,N)},()=>ie]},[o,d]),re=mn.useSyncExternalStore(l.useCallback(E=>$(d,(R,L)=>{Qe(L,R)||E()}),[o,d]),Ze[0],Ze[1]),et=!S.current,Zt=f[d]&&f[d].length>0,oe=re.data,ae=b(oe)?Qt:oe,fe=re.error,tt=l.useRef(ae),pe=v?b(oe)?tt.current:oe:ae,nt=(()=>Zt&&!b(fe)?!1:et&&!b(c)?c:C().isPaused()?!1:r?b(ae)?!1:h:b(ae)||h)(),st=!!(d&&n&&et&&nt),en=b(re.isValidating)?st:re.isValidating,tn=b(re.isLoading)?st:re.isLoading,ce=l.useCallback(async E=>{const R=O.current;if(!d||!R||V.current||C().isPaused())return!1;let L,k,G=!0;const ie=E||{},D=!p[d]||!ie.dedupe,N=()=>ft?!V.current&&d===I.current&&S.current:d===I.current,X={isValidating:!1,isLoading:!1},ot=()=>{P(X)},at=()=>{const U=p[d];U&&U[1]===k&&delete p[d]},it={isValidating:!0};b(A().data)&&(it.isLoading=!0);try{if(D&&(P(it),s.loadingTimeout&&b(A().data)&&setTimeout(()=>{G&&N()&&C().onLoadingSlow(d,s)},s.loadingTimeout),p[d]=[R(F),We()]),[L,k]=p[d],L=await L,D&&setTimeout(at,s.dedupingInterval),!p[d]||p[d][1]!==k)return D&&N()&&C().onDiscarded(d),!1;X.error=M;const U=x[d];if(!b(U)&&(k<=U[0]||k<=U[1]||U[1]===0))return ot(),D&&N()&&C().onDiscarded(d),!1;const J=A().data;X.data=a(J,L)?J:L,D&&N()&&C().onSuccess(L,d,s)}catch(U){at();const J=C(),{shouldRetryOnError:Te}=J;J.isPaused()||(X.error=U,D&&N()&&(J.onError(U,d,J),(Te===!0||Y(Te)&&Te(U))&&(!C().revalidateOnFocus||!C().revalidateOnReconnect||W())&&J.onErrorRetry(U,d,J,nn=>{const Se=f[d];Se&&Se[0]&&Se[0](le.ERROR_REVALIDATE_EVENT,nn)},{retryCount:(ie.retryCount||0)+1,dedupe:!0})))}return G=!1,ot(),!0},[d,o]),rt=l.useCallback((...E)=>Lt(o,I.current,...E),[]);if(De(()=>{O.current=n,B.current=s,b(oe)||(tt.current=oe)}),De(()=>{if(!d)return;const E=ce.bind(M,Ne);let R=0;const k=Qs(d,f,(G,ie={})=>{if(G==le.FOCUS_EVENT){const D=Date.now();C().revalidateOnFocus&&D>R&&W()&&(R=D+C().focusThrottleInterval,E())}else if(G==le.RECONNECT_EVENT)C().revalidateOnReconnect&&W()&&E();else{if(G==le.MUTATE_EVENT)return ce();if(G==le.ERROR_REVALIDATE_EVENT)return ce(ie)}});return V.current=!1,I.current=d,S.current=!0,P({_k:F}),nt&&(b(ae)||he?E():Ns(E)),()=>{V.current=!0,k()}},[d]),De(()=>{let E;function R(){const k=Y(u)?u(A().data):u;k&&E!==-1&&(E=setTimeout(L,k))}function L(){!A().error&&(m||C().isVisible())&&(g||C().isOnline())?ce(Ne).then(R):R()}return R(),()=>{E&&(clearTimeout(E),E=-1)}},[u,m,g,d]),l.useDebugValue(pe),r&&b(ae)&&d){if(!ft&&he)throw new Error("Fallback data is required when using suspense in SSR.");O.current=n,B.current=s,V.current=!1;const E=T[d];if(!b(E)){const R=rt(E);gt(R)}if(b(fe)){const R=ce(Ne);b(pe)||(R.status="fulfilled",R.value=!0),gt(R)}else throw fe}return{mutate:rt,get data(){return se.data=!0,pe},get error(){return se.error=!0,fe},get isValidating(){return se.isValidating=!0,en},get isLoading(){return se.isLoading=!0,tn}}},Ye=Js(Zs),Ke=vn.create({baseURL:bn});Ke.interceptors.response.use(e=>e,e=>Promise.reject(e.response&&e.response.data||"Something went wrong"));const Xe=async e=>{const[n,s]=Array.isArray(e)?e:[e];return(await Ke.get(n,{...s})).data},ne={chat:"/api/chat",kanban:"/api/kanban",calendar:"/api/calendar",auth:{me:"/api/auth/me",login:"/api/auth/login",register:"/api/auth/register"},mail:{list:"/api/mail/list",details:"/api/mail/details",labels:"/api/mail/labels"},post:{list:"/api/post/list",details:"/api/post/details",latest:"/api/post/latest",search:"/api/post/search"},product:{list:"/api/product/list",details:"/api/product/details",search:"/api/product/search"}},Je={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1};function er(){const e=[ne.chat,{params:{endpoint:"contacts"}}],{data:n,isLoading:s,error:o,isValidating:a}=Ye(e,Xe,Je);return l.useMemo(()=>({contacts:(n==null?void 0:n.contacts)||[],contactsLoading:s,contactsError:o,contactsValidating:a,contactsEmpty:!s&&!(n!=null&&n.contacts.length)}),[n==null?void 0:n.contacts,o,s,a])}function tr(){const e=[ne.chat,{params:{endpoint:"conversations"}}],{data:n,isLoading:s,error:o,isValidating:a}=Ye(e,Xe,Je);return l.useMemo(()=>{const i=Rs(n==null?void 0:n.conversations,"id")||{},c=Object.keys(i)||[];return{conversations:{byId:i,allIds:c},conversationsLoading:s,conversationsError:o,conversationsValidating:a,conversationsEmpty:!s&&!c.length}},[n==null?void 0:n.conversations,o,s,a])}function nr(e){const n=e?[ne.chat,{params:{conversationId:e,endpoint:"conversation"}}]:null,{data:s,isLoading:o,error:a,isValidating:r}=Ye(n,Xe,Je);return l.useMemo(()=>({conversation:s==null?void 0:s.conversation,conversationLoading:o,conversationError:a,conversationValidating:r}),[s==null?void 0:s.conversation,a,o,r])}async function sr(e,n){const s=[ne.chat,{params:{endpoint:"conversations"}}],o=[ne.chat,{params:{conversationId:e,endpoint:"conversation"}}];je(o,a=>{const{conversation:r}=a;return{conversation:{...r,messages:[...r.messages,n]}}},!1),je(s,a=>{const{conversations:r}=a;return{conversations:r.map(c=>c.id===e?{...c,messages:[...c.messages,n]}:c)}},!1)}async function rr(e){const n=[ne.chat,{params:{endpoint:"conversations"}}],s={conversationData:e},o=await Ke.post(ne.chat,s);return je(n,a=>{const r=[...a.conversations,e];return{...a,conversations:r}},!1),o.data}function or({message:e,participants:n,currentUserId:s}){const o=n.find(c=>c.id===e.senderId),a=e.senderId===s?{type:"me"}:{avatarUrl:o==null?void 0:o.avatarUrl,firstName:o==null?void 0:o.name.split(" ")[0]},r=a.type==="me";return{hasImage:e.contentType==="image",me:r,senderDetails:a}}function Ft(){const[e,n]=l.useState(!1),[s,o]=l.useState(!1),a=l.useCallback(()=>{o(h=>!h)},[]),r=l.useCallback(()=>{o(!1)},[]),i=l.useCallback(()=>{n(!0)},[]),c=l.useCallback(()=>{n(!1)},[]);return{openMobile:e,collapseDesktop:s,onOpenMobile:i,onCloseMobile:c,onCloseDesktop:r,onCollapseDesktop:a}}function ar(e){const n=l.useRef(null),s=l.useCallback(()=>{e&&n.current&&n.current&&(n.current.scrollTop=n.current.scrollHeight)},[e]);return l.useEffect(()=>{s()},[e]),{messagesEndRef:n}}function ir(){const{user:e}=Ce(),n=yn(),[s,o]=l.useState("online"),a=l.useCallback(r=>{o(r.target.value)},[]);return t.jsxs(t.Fragment,{children:[t.jsx(ve,{variant:s,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:t.jsx(K,{src:e==null?void 0:e.photoURL,alt:e==null?void 0:e.displayName,onClick:n.onOpen,sx:{cursor:"pointer",width:48,height:48}})}),t.jsxs(jn,{open:n.open,onClose:n.onClose,arrow:"top-left",sx:{p:0},children:[t.jsxs(j,{direction:"row",alignItems:"center",spacing:2,sx:{py:2,pr:1,pl:2.5},children:[t.jsx(we,{primary:e==null?void 0:e.displayName,secondary:e==null?void 0:e.email,secondaryTypographyProps:{component:"span"}}),t.jsx(wn,{title:"Log out",children:t.jsx(_,{color:"error",children:t.jsx(y,{icon:"ic:round-power-settings-new"})})})]}),t.jsx(Cn,{sx:{borderStyle:"dashed"}}),t.jsxs(j,{sx:{p:1},children:[t.jsxs(Ie,{children:[t.jsx(ve,{variant:s,sx:{[`& .${En.badge}`]:{position:"static",m:.75,width:12,height:12,flexShrink:0}}}),t.jsx(Rn,{native:!0,fullWidth:!0,value:s,onChange:a,input:t.jsx(Ct,{sx:{pl:2}}),inputProps:{sx:{textTransform:"capitalize"}},children:["online","alway","busy","offline"].map(r=>t.jsx("option",{value:r,children:r},r))})]}),t.jsxs(Ie,{children:[t.jsx(y,{icon:"solar:user-id-bold",width:24}),"Profile"]}),t.jsxs(Ie,{children:[t.jsx(y,{icon:"eva:settings-2-fill",width:24}),"Settings"]})]})]})]})}function Vt({sx:e,...n}){return t.jsxs(j,{spacing:2,direction:"row",alignItems:"center",sx:{px:2.5,py:1.5,...e},...n,children:[t.jsx(_e,{variant:"circular",sx:{width:48,height:48}}),t.jsxs(j,{spacing:1,flexGrow:1,children:[t.jsx(_e,{sx:{width:.75,height:10}}),t.jsx(_e,{sx:{width:.5,height:10}})]})]})}Vt.propTypes={sx:w.object};function Pt({query:e,results:n,onClickResult:s}){const o=n.length,a=!o&&!!e;return t.jsxs(t.Fragment,{children:[t.jsxs(q,{paragraph:!0,variant:"h6",sx:{px:2.5},children:["Contacts (",o,")"]}),a?t.jsx(Et,{query:e,sx:{p:3,mx:"auto",width:"calc(100% - 40px)",bgcolor:"background.neutral"}}):t.jsx(t.Fragment,{children:n.map(r=>t.jsxs(de,{onClick:()=>s(r),sx:{px:2.5,py:1.5,typography:"subtitle2"},children:[t.jsx(K,{alt:r.name,src:r.avatarUrl,sx:{mr:2}}),r.name]},r.id))})]})}Pt.propTypes={query:w.string,results:w.array,onClickResult:w.func};const mt=320,cr=96;function Ut({loading:e,contacts:n,conversations:s,selectedConversationId:o}){const a=Rt(),r=qe(),i=Tt("up","md"),{collapseDesktop:c,onCloseDesktop:h,onCollapseDesktop:u,openMobile:m,onOpenMobile:g,onCloseMobile:v}=Ft(),[f,x]=l.useState({query:"",results:[]});l.useEffect(()=>{i||h()},[h,i]);const p=l.useCallback(()=>{i?u():v()},[i,v,u]),T=l.useCallback(()=>{i||v(),r.push(be.dashboard.chat)},[i,v,r]),d=l.useCallback(A=>{if(x(P=>({...P,query:A})),A){const P=n.filter($=>$.name.toLowerCase().includes(A));x($=>({...$,results:P}))}},[n]),F=l.useCallback(()=>{x({query:"",results:[]})},[]),S=l.useCallback(A=>{F(),r.push(`${be.dashboard.chat}?id=${A.id}`)},[F,r]),V=t.jsx(_,{onClick:g,sx:{left:0,top:84,zIndex:9,width:32,height:32,position:"absolute",borderRadius:"0 12px 12px 0",bgcolor:a.palette.primary.main,boxShadow:a.customShadows.primary,color:a.palette.primary.contrastText,"&:hover":{bgcolor:a.palette.primary.darker}},children:t.jsx(y,{width:16,icon:"solar:users-group-rounded-bold"})}),I=t.jsx(t.Fragment,{children:[...Array(12)].map((A,P)=>t.jsx(Vt,{},P))}),O=t.jsx(t.Fragment,{}),B=t.jsx(Pt,{query:f.query,results:f.results,onClickResult:S}),C=t.jsx(Bn,{onClickAway:F,children:t.jsx(St,{fullWidth:!0,value:f.query,onChange:A=>d(A.target.value),placeholder:"Search contacts...",InputProps:{startAdornment:t.jsx(Tn,{position:"start",children:t.jsx(y,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})},sx:{mt:2.5}})}),W=t.jsxs(t.Fragment,{children:[t.jsxs(j,{direction:"row",alignItems:"center",justifyContent:"center",sx:{p:2.5,pb:0},children:[!c&&t.jsxs(t.Fragment,{children:[t.jsx(ir,{}),t.jsx(H,{sx:{flexGrow:1}})]}),t.jsx(_,{onClick:p,children:t.jsx(y,{icon:c?"eva:arrow-ios-forward-fill":"eva:arrow-ios-back-fill"})}),!c&&t.jsx(_,{onClick:T,children:t.jsx(y,{width:24,icon:"solar:user-plus-bold"})})]}),t.jsx(H,{sx:{p:2.5,pt:0},children:!c&&C}),t.jsxs(Ee,{sx:{pb:1},children:[f.query&&B,e&&I,!f.query&&!!s.allIds.length&&O]})]});return t.jsxs(t.Fragment,{children:[!i&&V,i?t.jsx(j,{sx:{height:1,flexShrink:0,width:mt,borderRight:`solid 1px ${a.palette.divider}`,transition:a.transitions.create(["width"],{duration:a.transitions.duration.shorter}),...c&&{width:cr}},children:W}):t.jsx(kt,{open:m,onClose:v,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:mt}},children:W})]})}Ut.propTypes={contacts:w.array,conversations:w.object,loading:w.bool,selectedConversationId:w.string};var vt=Sn,lr=kn,dr=wt,bt=vt?vt.isConcatSpreadable:void 0;function ur(e){return dr(e)||lr(e)||!!(bt&&e&&e[bt])}var hr=ur,fr=In,pr=hr;function Wt(e,n,s,o,a){var r=-1,i=e.length;for(s||(s=pr),a||(a=[]);++r<i;){var c=e[r];n>0&&s(c)?n>1?Wt(c,n-1,s,o,a):fr(a,c):o||(a[a.length]=c)}return a}var xr=Wt,gr=xr;function mr(e){var n=e==null?0:e.length;return n?gr(e,1):[]}var vr=mr;const br=$e(vr);function $t({participant:e,open:n,onClose:s}){return t.jsxs(_n,{fullWidth:!0,maxWidth:"xs",open:n,onClose:s,children:[t.jsx(_,{onClick:s,sx:{position:"absolute",right:8,top:8},children:t.jsx(y,{icon:"mingcute:close-line"})}),t.jsxs($n,{sx:{py:5,px:3,display:"flex"},children:[t.jsx(K,{alt:e.name,src:e.avatarUrl,sx:{width:96,height:96,mr:3}}),t.jsxs(j,{spacing:1,children:[t.jsx(q,{variant:"caption",sx:{color:"primary.main"},children:e.role}),t.jsx(q,{variant:"subtitle1",children:e.name}),t.jsxs(j,{direction:"row",sx:{typography:"caption",color:"text.disabled"},children:[t.jsx(y,{icon:"mingcute:location-fill",width:16,sx:{flexShrink:0,mr:.5,mt:"2px"}}),e.address]}),t.jsxs(j,{spacing:1,direction:"row",sx:{pt:1.5},children:[t.jsx(_,{size:"small",color:"error",sx:{borderRadius:1,bgcolor:o=>Q(o.palette.error.main,.08),"&:hover":{bgcolor:o=>Q(o.palette.error.main,.16)}},children:t.jsx(y,{width:18,icon:"solar:phone-bold"})}),t.jsx(_,{size:"small",color:"info",sx:{borderRadius:1,bgcolor:o=>Q(o.palette.info.main,.08),"&:hover":{bgcolor:o=>Q(o.palette.info.main,.16)}},children:t.jsx(y,{width:18,icon:"solar:chat-round-dots-bold"})}),t.jsx(_,{size:"small",color:"primary",sx:{borderRadius:1,bgcolor:o=>Q(o.palette.primary.main,.08),"&:hover":{bgcolor:o=>Q(o.palette.primary.main,.16)}},children:t.jsx(y,{width:18,icon:"fluent:mail-24-filled"})}),t.jsx(_,{size:"small",color:"secondary",sx:{borderRadius:1,bgcolor:o=>Q(o.palette.secondary.main,.08),"&:hover":{bgcolor:o=>Q(o.palette.secondary.main,.16)}},children:t.jsx(y,{width:18,icon:"solar:videocamera-record-bold"})})]})]})]})]})}$t.propTypes={onClose:w.func,open:w.bool,participant:w.object};function zt({participants:e}){const[n,s]=l.useState(null),o=He(!0),a=l.useCallback(u=>{s(u)},[]),r=()=>{s(null)},i=e.length,c=t.jsxs(de,{onClick:o.onToggle,sx:{pl:2.5,pr:1.5,height:40,flexShrink:0,flexGrow:"unset",typography:"overline",color:"text.secondary",bgcolor:"background.neutral"},children:[t.jsxs(H,{component:"span",sx:{flexGrow:1},children:["In room (",i,")"]}),t.jsx(y,{width:16,icon:o.value?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"})]}),h=t.jsx(Ee,{sx:{height:56*4},children:e.map(u=>t.jsxs(de,{onClick:()=>a(u),children:[t.jsx(ve,{variant:u.status,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:t.jsx(K,{alt:u.name,src:u.avatarUrl})}),t.jsx(we,{sx:{ml:2},primary:u.name,secondary:u.role,primaryTypographyProps:{noWrap:!0,typography:"subtitle2"},secondaryTypographyProps:{noWrap:!0,component:"span",typography:"caption"}})]},u.id))});return t.jsxs(t.Fragment,{children:[c,t.jsx("div",{children:t.jsx(It,{in:o.value,children:h})}),n&&t.jsx($t,{participant:n,open:!!n,onClose:r})]})}zt.propTypes={participants:w.array};function qt({participant:e}){const n=He(!0),{name:s,avatarUrl:o,role:a,address:r,phoneNumber:i,email:c}=e,h=t.jsxs(j,{alignItems:"center",sx:{py:5},children:[t.jsx(K,{alt:s,src:o,sx:{width:96,height:96,mb:2}}),t.jsx(q,{variant:"subtitle1",children:s}),t.jsx(q,{variant:"body2",sx:{color:"text.secondary",mt:.5},children:a})]}),u=t.jsxs(de,{onClick:n.onToggle,sx:{pl:2.5,pr:1.5,height:40,flexShrink:0,flexGrow:"unset",typography:"overline",color:"text.secondary",bgcolor:"background.neutral"},children:[t.jsx(H,{component:"span",sx:{flexGrow:1},children:"Information"}),t.jsx(y,{width:16,icon:n.value?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"})]}),m=t.jsxs(j,{spacing:2,sx:{px:2,py:2.5,"& svg":{mr:1,flexShrink:0,color:"text.disabled"}},children:[t.jsxs(j,{direction:"row",children:[t.jsx(y,{icon:"mingcute:location-fill"}),t.jsx(q,{variant:"body2",children:r})]}),t.jsxs(j,{direction:"row",children:[t.jsx(y,{icon:"solar:phone-bold"}),t.jsx(q,{variant:"body2",children:i})]}),t.jsxs(j,{direction:"row",children:[t.jsx(y,{icon:"fluent:mail-24-filled"}),t.jsx(q,{variant:"body2",noWrap:!0,children:c})]})]});return t.jsxs(t.Fragment,{children:[h,u,t.jsx("div",{children:t.jsx(It,{in:n.value,children:m})})]})}qt.propTypes={participant:w.object};function Ht({attachments:e}){const n=He(!0),s=e.length,o=t.jsxs(de,{disabled:!e.length,onClick:n.onToggle,sx:{pl:2.5,pr:1.5,height:40,flexShrink:0,flexGrow:"unset",typography:"overline",color:"text.secondary",bgcolor:"background.neutral"},children:[t.jsxs(H,{component:"span",sx:{flexGrow:1},children:["Attachments (",s,")"]}),t.jsx(y,{width:16,icon:!n.value&&"eva:arrow-ios-forward-fill"||!e.length&&"eva:arrow-ios-forward-fill"||"eva:arrow-ios-downward-fill"})]}),a=t.jsx(Ee,{sx:{px:2,py:2.5},children:e.map((r,i)=>t.jsxs(j,{spacing:1.5,direction:"row",alignItems:"center",sx:{mb:2},children:[t.jsx(j,{alignItems:"center",justifyContent:"center",sx:{width:40,height:40,flexShrink:0,borderRadius:1,overflow:"hidden",position:"relative",backgroundColor:"background.neutral"},children:t.jsx(zn,{imageView:!0,file:r.preview,onDownload:()=>console.info("DOWNLOAD"),sx:{width:28,height:28}})}),t.jsx(we,{primary:r.name,secondary:An(r.createdAt),primaryTypographyProps:{noWrap:!0,typography:"body2"},secondaryTypographyProps:{mt:.25,noWrap:!0,component:"span",typography:"caption",color:"text.disabled"}})]},r.name+i))});return t.jsxs(t.Fragment,{children:[o,t.jsx(H,{sx:{overflow:"hidden",height:n.value?1:0,transition:r=>r.transitions.create(["height"],{duration:r.transitions.duration.shorter})},children:a})]})}Ht.propTypes={attachments:w.array};const Me=240;function Bt({participants:e,conversation:n}){const s=Rt(),o=Tt("up","lg"),{collapseDesktop:a,onCloseDesktop:r,onCollapseDesktop:i,openMobile:c,onOpenMobile:h,onCloseMobile:u}=Ft();l.useEffect(()=>{o||r()},[r,o]);const m=l.useCallback(()=>{o?i():h()},[o]),g=e.length>1,v=Qn(br(n.messages.map(p=>p.attachments))),f=t.jsxs(t.Fragment,{children:[g?t.jsx(zt,{participants:e}):t.jsx(qt,{participant:e[0]}),t.jsx(Ht,{attachments:v})]}),x=t.jsx(_,{onClick:m,sx:{top:12,right:0,zIndex:9,width:32,height:32,borderRight:0,position:"absolute",borderRadius:"12px 0 0 12px",boxShadow:s.customShadows.z8,bgcolor:s.palette.background.paper,border:`solid 1px ${s.palette.divider}`,"&:hover":{bgcolor:s.palette.background.neutral},...o&&{...!a&&{right:Me}}},children:o?t.jsx(y,{width:16,icon:a?"eva:arrow-ios-back-fill":"eva:arrow-ios-forward-fill"}):t.jsx(y,{width:16,icon:"eva:arrow-ios-back-fill"})});return t.jsxs(H,{sx:{position:"relative"},children:[x,o?t.jsx(j,{sx:{height:1,flexShrink:0,width:Me,borderLeft:`solid 1px ${s.palette.divider}`,transition:s.transitions.create(["width"],{duration:s.transitions.duration.shorter}),...a&&{width:0}},children:!a&&f}):t.jsx(kt,{anchor:"right",open:c,onClose:u,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:Me}},children:f})]})}Bt.propTypes={conversation:w.object,participants:w.array};function Gt({message:e,participants:n,onOpenLightbox:s}){const{user:o}=Ce(),{me:a,senderDetails:r,hasImage:i}=or({message:e,participants:n,currentUserId:o.id}),{firstName:c,avatarUrl:h}=r,{body:u,createdAt:m}=e,g=t.jsxs(q,{noWrap:!0,variant:"caption",sx:{mb:1,color:"text.disabled",...!a&&{mr:"auto"}},children:[!a&&`${c},`," Â ",Yn(new Date(m),{addSuffix:!0})]}),v=t.jsx(j,{sx:{p:1.5,minWidth:48,maxWidth:320,borderRadius:1,typography:"body2",bgcolor:"background.neutral",...a&&{color:"grey.800",bgcolor:"primary.lighter"},...i&&{p:0,bgcolor:"transparent"}},children:i?t.jsx(H,{component:"img",alt:"attachment",src:u,onClick:()=>s(u),sx:{minHeight:220,borderRadius:1.5,cursor:"pointer","&:hover":{opacity:.9}}}):u}),f=t.jsxs(j,{direction:"row",className:"message-actions",sx:{pt:.5,opacity:0,top:"100%",left:0,position:"absolute",transition:x=>x.transitions.create(["opacity"],{duration:x.transitions.duration.shorter}),...a&&{left:"unset",right:0}},children:[t.jsx(_,{size:"small",children:t.jsx(y,{icon:"solar:reply-bold",width:16})}),t.jsx(_,{size:"small",children:t.jsx(y,{icon:"eva:smiling-face-fill",width:16})}),t.jsx(_,{size:"small",children:t.jsx(y,{icon:"solar:trash-bin-trash-bold",width:16})})]});return t.jsxs(j,{direction:"row",justifyContent:a?"flex-end":"unset",sx:{mb:5},children:[!a&&t.jsx(K,{alt:c,src:h,sx:{width:32,height:32,mr:2}}),t.jsxs(j,{alignItems:"flex-end",children:[g,t.jsxs(j,{direction:"row",alignItems:"center",sx:{position:"relative","&:hover":{"& .message-actions":{opacity:1}}},children:[v,f]})]})]})}Gt.propTypes={message:w.object,onOpenLightbox:w.func,participants:w.array};function Yt({messages:e=[],participants:n}){const{messagesEndRef:s}=ar(e),o=e.filter(r=>r.contentType==="image").map(r=>({src:r.body})),a=Un(o);return t.jsxs(t.Fragment,{children:[t.jsx(Ee,{ref:s,sx:{px:3,py:5,height:1},children:t.jsx(H,{children:e.map(r=>t.jsx(Gt,{message:r,participants:n,onOpenLightbox:()=>a.onOpen(r.body)},r.id))})}),t.jsx(Wn,{index:a.selected,slides:o,open:a.open,close:a.onClose})]})}Yt.propTypes={messages:w.array,participants:w.array};function yt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}function Kt({recipients:e,onAddRecipients:n,disabled:s,selectedConversationId:o}){const a=qe(),{user:r}=Ce(),i=l.useRef(null),[c,h]=l.useState(""),u=l.useMemo(()=>({id:r.id,role:r.role,email:r.email,address:r.address,name:r.displayName,lastActivity:new Date,avatarUrl:r.photoURL,phoneNumber:r.phoneNumber,status:"online"}),[r]),m=l.useMemo(()=>({id:yt(),attachments:[],body:c,contentType:"text",createdAt:On(new Date,{minutes:1}),senderId:u.id}),[c,u.id]),g=l.useMemo(()=>({id:yt(),messages:[m],participants:[...e,u],type:e.length>1?"GROUP":"ONE_TO_ONE",unreadCount:0}),[m,u,e]),v=l.useCallback(()=>{i.current&&i.current.click()},[]),f=l.useCallback(p=>{h(p.target.value)},[]),x=l.useCallback(async p=>{try{if(p.key==="Enter"){if(c)if(o)await sr(o,m);else{const T=await rr(g);a.push(`${be.dashboard.chat}?id=${T.conversation.id}`),n([])}h("")}}catch(T){console.error(T)}},[g,c,m,n,a,o]);return t.jsxs(t.Fragment,{children:[t.jsx(Ct,{value:c,onKeyUp:x,onChange:f,placeholder:"Type a message",disabled:s,startAdornment:t.jsx(_,{children:t.jsx(y,{icon:"eva:smiling-face-fill"})}),endAdornment:t.jsxs(j,{direction:"row",sx:{flexShrink:0},children:[t.jsx(_,{onClick:v,children:t.jsx(y,{icon:"solar:gallery-add-bold"})}),t.jsx(_,{onClick:v,children:t.jsx(y,{icon:"eva:attach-2-fill"})}),t.jsx(_,{children:t.jsx(y,{icon:"solar:microphone-bold"})})]}),sx:{px:1,height:56,flexShrink:0,borderTop:p=>`solid 1px ${p.palette.divider}`}}),t.jsx("input",{type:"file",ref:i,style:{display:"none"}})]})}Kt.propTypes={disabled:w.bool,onAddRecipients:w.func,recipients:w.array,selectedConversationId:w.string};function Xt({participants:e}){const n=e.length>1,s=e[0],o=t.jsx(qn,{max:3,sx:{[`& .${Dn.avatar}`]:{width:32,height:32}},children:e.map(r=>t.jsx(K,{alt:r.name,src:r.avatarUrl},r.id))}),a=t.jsxs(j,{flexGrow:1,direction:"row",alignItems:"center",spacing:2,children:[t.jsx(ve,{variant:s.status,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:t.jsx(K,{src:s.avatarUrl,alt:s.name})}),t.jsx(we,{primary:s.name,secondary:s.status==="offline"?Ln(s.lastActivity):s.status,secondaryTypographyProps:{component:"span",...s.status!=="offline"&&{textTransform:"capitalize"}}})]});return t.jsxs(t.Fragment,{children:[n?o:a,t.jsx(j,{flexGrow:1}),t.jsx(_,{children:t.jsx(y,{icon:"solar:phone-bold"})}),t.jsx(_,{children:t.jsx(y,{icon:"solar:videocamera-record-bold"})}),t.jsx(_,{children:t.jsx(y,{icon:"eva:more-vertical-fill"})})]})}Xt.propTypes={participants:w.array};function Jt({contacts:e,onAddRecipients:n}){const[s,o]=l.useState(""),a=l.useCallback(r=>{o(""),n(r)},[n]);return t.jsxs(t.Fragment,{children:[t.jsx(q,{variant:"subtitle2",sx:{color:"text.primary",mr:2},children:"To:"}),t.jsx(Nn,{sx:{minWidth:320},multiple:!0,limitTags:3,popupIcon:null,disableCloseOnSelect:!0,noOptionsText:t.jsx(Et,{query:s}),onChange:(r,i)=>a(i),onInputChange:(r,i)=>o(i),options:e,getOptionLabel:r=>r.name,isOptionEqualToValue:(r,i)=>r.id===i.id,renderInput:r=>t.jsx(St,{...r,placeholder:"+ Recipients"}),renderOption:(r,i,{selected:c})=>l.createElement("li",{...r,key:i.id},t.jsxs(H,{sx:{mr:1,width:32,height:32,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[t.jsx(K,{alt:i.name,src:i.avatarUrl,sx:{width:1,height:1}}),t.jsx(j,{alignItems:"center",justifyContent:"center",sx:{top:0,left:0,width:1,height:1,opacity:0,position:"absolute",bgcolor:h=>Q(h.palette.grey[900],.8),transition:h=>h.transitions.create(["opacity"],{easing:h.transitions.easing.easeInOut,duration:h.transitions.duration.shorter}),...c&&{opacity:1,color:"primary.main"}},children:t.jsx(y,{icon:"eva:checkmark-fill"})})]},i.id),i.name),renderTags:(r,i)=>r.map((c,h)=>l.createElement(Mn,{...i({index:h}),key:c.id,label:c.name,avatar:t.jsx(K,{alt:c.name,src:c.avatarUrl}),size:"small",variant:"soft"}))})]})}Jt.propTypes={contacts:w.array,onAddRecipients:w.func};function yr(){const e=qe(),{user:n}=Ce(),o=Pn().get("id")||"",[a,r]=l.useState([]),{contacts:i}=er(),{conversations:c,conversationsLoading:h}=tr(),{conversation:u,conversationError:m}=nr(`${o}`),g=u?u.participants.filter(d=>d.id!==n.id):[];l.useEffect(()=>{(m||!o)&&e.push(be.dashboard.chat)},[m,e,o]);const v=l.useCallback(d=>{r(d)},[]),f=!!u,x=t.jsx(j,{direction:"row",alignItems:"center",flexShrink:0,sx:{pr:1,pl:2.5,py:1,minHeight:72},children:o?t.jsx(t.Fragment,{children:f&&t.jsx(Xt,{participants:g})}):t.jsx(Jt,{contacts:i,onAddRecipients:v})}),p=t.jsx(Ut,{contacts:i,conversations:c,loading:h,selectedConversationId:o}),T=t.jsxs(j,{sx:{width:1,height:1,overflow:"hidden"},children:[t.jsx(Yt,{messages:u==null?void 0:u.messages,participants:g}),t.jsx(Kt,{recipients:a,onAddRecipients:v,selectedConversationId:o,disabled:!a.length&&!o})]});return t.jsxs(H,{px:5,children:[t.jsx(q,{variant:"h4",sx:{mb:{xs:3,md:5}},children:"Support"}),t.jsxs(j,{component:Fn,direction:"row",sx:{height:"72vh"},children:[p,t.jsxs(j,{sx:{width:1,height:1,overflow:"hidden"},children:[x,t.jsxs(j,{direction:"row",sx:{width:1,height:1,overflow:"hidden",borderTop:d=>`solid 1px ${d.palette.divider}`},children:[T,f&&t.jsx(Bt,{conversation:u,participants:g})]})]})]})]})}function Sr(){return t.jsxs(t.Fragment,{children:[t.jsx(Vn,{children:t.jsx("title",{children:" Dashboard: Chat"})}),t.jsx(yr,{})]})}export{Sr as default};
