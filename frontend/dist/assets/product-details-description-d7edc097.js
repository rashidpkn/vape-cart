import{bl as Te,a6 as Qe,bP as Ye,bk as Ze,D as C,ah as ee,a9 as e,am as D,ad as m,at as Q,aH as re,aa as l,ae as u,bQ as Je,aQ as B,ay as t,ag as Ie,aF as ae,ai as v,bd as Xe,aj as De,bL as es,aC as de,bn as xe,af as N,bo as pe,aK as L,aJ as he,aW as ss,ax as Z,bf as rs,bR as ns,ap as me,bS as as,bB as ts,aI as J,ak as os,al as is,ac as ye,aT as Ae,aD as ue,b1 as te,bT as fe,aY as Fe,aG as ls,bU as ve,bV as we,bW as Ce,bX as ke,bY as cs,bZ as ds,b_ as xs,b2 as ps,b$ as hs,bi as ms,bh as us,a7 as gs,an as js,ao as bs}from"./index-fe4b39cd.js";import{c as Oe,a as W,f as ne,g as V,b as ge,R as O,h as ys,i as fs,j as vs,F as je,k as ws,e as Cs,C as ks}from"./form-provider-12594010.js";import{o as Pe}from"./yup-baf1d63e.js";import{h as Rs,i as Ss}from"./_product-66794ccf.js";import{a as Y}from"./api-1100fa52.js";import{M as z}from"./Chip-b90d29bc.js";import{F as oe}from"./FormControlLabel-28ca214a.js";import{S as Ts}from"./Switch-5669671b.js";import{L as Le}from"./LoadingButton-60cdda3b.js";import{a as M,c as ie}from"./format-number-cfcd7ddb.js";import{I as We}from"./image-53edf818.js";import{C as Is,a as Ds}from"./color-picker-79e7cf52.js";import{F as As}from"./Fab-708a1899.js";import{S as I}from"./Skeleton-ab1ff032.js";import{P as Fs,p as Os}from"./Pagination-cb0de491.js";import{C as X}from"./Checkbox-ed6f451b.js";import{R as Ps}from"./Radio-2ac6b598.js";import{S as Ls}from"./Slider-8796f46c.js";import{R as K}from"./Rating-f2cb05bf.js";import{v as Ws}from"./fade-ba5404aa.js";import{C as zs}from"./confirm-dialog-b3d60482.js";import{T as Ns}from"./table-pagination-custom-8f7c1895.js";import{T as $}from"./TablePagination-898d2adc.js";import{D as $s}from"./DialogTitle-fae0472b.js";import{D as qs}from"./DialogContent-b7c757b0.js";import{D as Es}from"./DialogActions-c8c6bdf3.js";import{u as Gs,L as Us}from"./lightbox-1ef433fc.js";import{a as Re,c as Bs}from"./carousel-arrow-index-fc73c3b7.js";import{u as Se}from"./use-carousel-d4209f89.js";import{M as Hs}from"./markdown-9a18a2cc.js";function _s({currentProduct:s}){const a=Te(),r=Qe("up","md"),{enqueueSnackbar:n}=Ye(),{user:o}=Ze(),x=Oe().shape({name:W().required("Name is required"),subDescription:W().required("Short description is required"),content:W(),images:ne().min(1,"Image is required"),SKU:W().required("SKU is required"),quantity:V(),category:W().required("Category is required"),colors:ne(),tags:ne(),regularPrice:V(),salePrice:V().moreThan(0,"Price should not be AED 0.00"),tax:V().moreThan(-1,"Tax should not be 0%")}),p=C.useMemo(()=>({id:(s==null?void 0:s.id)||"",name:(s==null?void 0:s.name)||"",subDescription:(s==null?void 0:s.subDescription)||"",content:(s==null?void 0:s.content)||"",images:(s==null?void 0:s.images)||[],SKU:(s==null?void 0:s.SKU)||"",regularPrice:(s==null?void 0:s.regularPrice)||0,quantity:(s==null?void 0:s.quantity)||0,salePrice:(s==null?void 0:s.salePrice)||0,tags:(s==null?void 0:s.tags)||[],tax:(s==null?void 0:s.tax)||0,category:(s==null?void 0:s.category)||"",colors:(s==null?void 0:s.colors)||[]}),[s]),h=ge({resolver:Pe(x),defaultValues:p}),{reset:i,watch:d,setValue:g,handleSubmit:b,formState:{isSubmitting:j}}=h,f=d();C.useEffect(()=>{s&&i(p)},[s,p,i]);const k=b(async y=>{try{await new Promise(c=>setTimeout(c,500)),s?await Y.patch("products",{...y,username:o.displayName,userId:o.id,storeName:o.storeName}):await Y.post("products",{...y,username:o.displayName,userId:o.id,storeName:o.storeName}),i(),n(s?"Update success!":"Create success!"),a.push(ee.dashboard.product.root)}catch(c){console.error(c)}}),S=C.useCallback(y=>{const c=f.images||[],w=y.map(T=>Object.assign(T,{preview:URL.createObjectURL(T)}));g("images",[...c,...w],{shouldValidate:!0})},[g,f.images]),A=C.useCallback(y=>{var w;const c=f.images&&((w=f.images)==null?void 0:w.filter(T=>T!==y));g("images",c)},[g,f.images]),P=C.useCallback(()=>{g("images",[])},[g]),H=e.jsxs(e.Fragment,{children:[r&&e.jsxs(D,{md:4,children:[e.jsx(m,{variant:"h6",sx:{mb:.5},children:"Details"}),e.jsx(m,{variant:"body2",sx:{color:"text.secondary"},children:"Title, short description, image..."})]}),e.jsx(D,{xs:12,md:8,children:e.jsxs(Q,{children:[!r&&e.jsx(re,{title:"Details"}),e.jsxs(l,{spacing:3,sx:{p:3},children:[e.jsx(O,{name:"name",label:"Product Name"}),e.jsx(O,{name:"subDescription",label:"Sub Description",multiline:!0,rows:4}),e.jsxs(l,{spacing:1.5,children:[e.jsx(m,{variant:"subtitle2",children:"Content"}),e.jsx(ws,{simple:!0,name:"content"})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(m,{variant:"subtitle2",children:"Images"}),e.jsx(Cs,{multiple:!0,name:"images",maxSize:3145728,onDrop:S,onRemove:A,onRemoveAll:P,onUpload:async y=>{try{const c=new FormData;f.images.forEach(T=>{c.append("images",T)});const{data:w}=await Y.post("upload",c);g("images",w),alert("Image upload complete.")}catch{alert(" Image upload failed, try again.")}}})]})]})]})})]}),_=e.jsxs(e.Fragment,{children:[r&&e.jsxs(D,{md:4,children:[e.jsx(m,{variant:"h6",sx:{mb:.5},children:"Properties"}),e.jsx(m,{variant:"body2",sx:{color:"text.secondary"},children:"Additional functions and attributes..."})]}),e.jsx(D,{xs:12,md:8,children:e.jsxs(Q,{children:[!r&&e.jsx(re,{title:"Properties"}),e.jsxs(l,{spacing:3,sx:{p:3},children:[e.jsxs(u,{columnGap:2,rowGap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[e.jsx(O,{name:"SKU",label:"Product SKU"}),e.jsx(O,{name:"quantity",label:"Quantity",placeholder:"0",type:"number",InputLabelProps:{shrink:!0}}),e.jsx(ys,{native:!0,name:"category",label:"Category",InputLabelProps:{shrink:!0},children:Rs.map(y=>e.jsx("optgroup",{label:y.group,children:y.classify.map(c=>e.jsx("option",{value:c,children:c},c))},y.group))}),e.jsx(fs,{checkbox:!0,name:"colors",label:"Colors",options:Ss})]}),e.jsx(vs,{name:"tags",label:"Tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,options:Je.map(y=>y),getOptionLabel:y=>y,renderOption:(y,c)=>C.createElement("li",{...y,key:c},c),renderTags:(y,c)=>y.map((w,T)=>C.createElement(z,{...c({index:T}),key:w,label:w,size:"small",color:"info",variant:"soft"}))})]})]})})]}),E=e.jsxs(e.Fragment,{children:[r&&e.jsxs(D,{md:4,children:[e.jsx(m,{variant:"h6",sx:{mb:.5},children:"Pricing"}),e.jsx(m,{variant:"body2",sx:{color:"text.secondary"},children:"Price related inputs"})]}),e.jsx(D,{xs:12,md:8,children:e.jsxs(Q,{children:[!r&&e.jsx(re,{title:"Pricing"}),e.jsxs(l,{spacing:3,sx:{p:3},children:[e.jsx(O,{name:"regularPrice",label:"Regular Price",placeholder:"0.00",type:"number",InputLabelProps:{shrink:!0},InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(u,{component:"span",sx:{color:"text.disabled"},children:"AED"})})}}),e.jsx(O,{name:"salePrice",label:"Sale Price",placeholder:"0.00",type:"number",InputLabelProps:{shrink:!0},InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(u,{component:"span",sx:{color:"text.disabled"},children:"AED"})})}}),e.jsx(O,{name:"tax",label:"Tax (%)",placeholder:"0.00",type:"number",InputLabelProps:{shrink:!0},InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(u,{component:"span",sx:{color:"text.disabled"},children:"%"})})}})]})]})})]}),G=e.jsxs(e.Fragment,{children:[r&&e.jsx(D,{md:4}),e.jsxs(D,{xs:12,md:8,sx:{display:"flex",alignItems:"center"},children:[e.jsx(oe,{control:e.jsx(Ts,{defaultChecked:!0}),label:"Publish",sx:{flexGrow:1,pl:3}}),e.jsx(Le,{type:"submit",variant:"contained",size:"large",loading:j,children:s?"Save Changes":"Create Product"})]})]});return e.jsx(je,{methods:h,onSubmit:k,children:e.jsxs(D,{container:!0,spacing:3,children:[H,_,E,G]})})}_s.propTypes={currentProduct:t.object};function Vs({totalItems:s}){return e.jsx(u,{component:Ie,href:ee.product.checkout,sx:{right:0,top:112,zIndex:999,display:"flex",cursor:"pointer",position:"fixed",color:"text.primary",borderTopLeftRadius:16,borderBottomLeftRadius:16,bgcolor:"background.paper",padding:a=>a.spacing(1,3,1,2),boxShadow:a=>a.customShadows.dropdown,transition:a=>a.transitions.create(["opacity"]),"&:hover":{opacity:.72}},children:e.jsx(ae,{showZero:!0,badgeContent:s,color:"error",max:99,children:e.jsx(v,{icon:"solar:cart-3-bold",width:24})})})}Vs.propTypes={totalItems:t.number};function ze({product:s}){const{id:a,name:r,images:n,salePrice:o,colors:x,available:p,sizes:h,regularPrice:i,quantity:d,storeName:g}=s,b=Xe(),j=ee.product.details(a),f=async()=>{const A={id:a,name:r,images:n,available:d,salePrice:o,colors:[x[0]],quantity:1};try{b(es(A))}catch(P){console.error(P)}},k=e.jsxs(u,{sx:{position:"relative",p:1},children:[e.jsx(As,{color:"warning",size:"medium",className:"add-cart-btn",onClick:f,sx:{right:16,bottom:16,zIndex:9,opacity:0,position:"absolute",transition:A=>A.transitions.create("all",{easing:A.transitions.easing.easeInOut,duration:A.transitions.duration.shorter})},children:e.jsx(v,{icon:"solar:cart-plus-bold",width:24})}),e.jsx(We,{alt:r,src:n[0],ratio:"1/1",sx:{borderRadius:1.5}})]}),S=e.jsxs(l,{spacing:1,sx:{p:3,pt:2},children:[e.jsx(De,{component:Ie,href:j,color:"inherit",variant:"subtitle2",noWrap:!0,children:r}),e.jsxs("p",{style:{margin:0,color:"gray",fontStyle:"italic"},children:["Sold by ",g||"Vape Amazon"]}),e.jsxs(l,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(Is,{colors:x}),e.jsxs(l,{direction:"row",spacing:.5,sx:{typography:"subtitle1"},children:[i&&e.jsx(u,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through"},children:M(i)}),e.jsx(u,{component:"span",children:M(o)})]})]})]});return e.jsxs(Q,{sx:{"&:hover .add-cart-btn":{opacity:1}},children:[k,S]})}ze.propTypes={product:t.object};function Ne({sx:s,...a}){return e.jsxs(de,{variant:"outlined",sx:{borderRadius:2,...s},...a,children:[e.jsx(l,{sx:{p:1},children:e.jsx(I,{sx:{paddingTop:"100%"}})}),e.jsxs(l,{spacing:2,sx:{p:3,pt:2},children:[e.jsx(I,{sx:{width:.5,height:16}}),e.jsxs(l,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(l,{direction:"row",children:[e.jsx(I,{variant:"circular",sx:{width:16,height:16}}),e.jsx(I,{variant:"circular",sx:{width:16,height:16}}),e.jsx(I,{variant:"circular",sx:{width:16,height:16}})]}),e.jsx(I,{sx:{width:40,height:16}})]})]})]})}Ne.propTypes={sx:t.object};function Gr({...s}){return e.jsxs(D,{container:!0,spacing:8,...s,children:[e.jsx(D,{xs:12,md:6,lg:7,children:e.jsx(I,{sx:{paddingTop:"100%"}})}),e.jsx(D,{xs:12,md:6,lg:5,children:e.jsxs(l,{spacing:3,children:[e.jsx(I,{variant:"circular",sx:{width:80,height:80}}),e.jsx(I,{sx:{height:240}}),e.jsx(I,{sx:{height:16}}),e.jsx(I,{sx:{height:16,width:.75}}),e.jsx(I,{sx:{height:16,width:.5}})]})}),e.jsx(D,{xs:12,children:e.jsx(l,{direction:"row",alignItems:"center",children:[...Array(3)].map((a,r)=>e.jsxs(l,{spacing:2,alignItems:"center",justifyContent:"center",sx:{width:1},children:[e.jsx(I,{variant:"circular",sx:{width:80,height:80}}),e.jsx(I,{sx:{height:16,width:160}}),e.jsx(I,{sx:{height:16,width:80}})]},r))})})]})}function Ms({products:s,loading:a,...r}){const n=e.jsx(e.Fragment,{children:[...Array(16)].map((x,p)=>e.jsx(Ne,{},p))}),o=e.jsx(e.Fragment,{children:s.map(x=>e.jsx(ze,{product:x},x.id))});return e.jsxs(e.Fragment,{children:[e.jsx(u,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},...r,children:a?n:o}),s.length>8&&e.jsx(Fs,{count:8,sx:{mt:8,[`& .${Os.ul}`]:{justifyContent:"center"}}})]})}Ms.propTypes={loading:t.bool,products:t.array};function Ks({sort:s,onSort:a,sortOptions:r}){var x;const n=xe(),o=(x=r.find(p=>p.value===s))==null?void 0:x.label;return e.jsxs(e.Fragment,{children:[e.jsxs(N,{disableRipple:!0,color:"inherit",onClick:n.onOpen,endIcon:e.jsx(v,{icon:n.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort By:",e.jsx(u,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold"},children:o})]}),e.jsx(pe,{open:n.open,onClose:n.onClose,sx:{width:140},children:r.map(p=>e.jsx(L,{selected:p.value===s,onClick:()=>{n.onClose(),a(p.value)},children:p.label},p.value))})]})}Ks.propTypes={onSort:t.func,sort:t.string,sortOptions:t.array};function Qs({name:s,setName:a,fetchProduct:r}){const n=()=>{console.log("Hello"),r()},o=x=>{x.key==="Enter"&&n()};return e.jsx(he,{placeholder:"Search...",onKeyUp:o,onChange:x=>a(x.target.value),value:s,InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(v,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})}})}Qs.propTypes={hrefItem:t.func,loading:t.bool,onSearch:t.func,query:t.string};function Ys({open:s,onOpen:a,onClose:r,filters:n,onFilters:o,canReset:x,onResetFilters:p,colorOptions:h,genderOptions:i,ratingOptions:d,categoryOptions:g}){const b=[...Array(21)].map((c,w)=>{const T=w*10,se=w===0?`$${T}`:`${T}`;return{value:T,label:w%4?"":se}}),j=C.useCallback(c=>{const w=n.gender.includes(c)?n.gender.filter(T=>T!==c):[...n.gender,c];o("gender",w)},[n.gender,o]),f=C.useCallback(c=>{o("category",c)},[o]),k=C.useCallback(c=>{o("colors",c)},[o]),S=C.useCallback((c,w)=>{o("priceRange",w)},[o]),A=C.useCallback(c=>{o("rating",c)},[o]),P=e.jsxs(l,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[e.jsx(m,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),e.jsx(ts,{title:"Reset",children:e.jsx(J,{onClick:p,children:e.jsx(ae,{color:"error",variant:"dot",invisible:!x,children:e.jsx(v,{icon:"solar:restart-bold"})})})}),e.jsx(J,{onClick:r,children:e.jsx(v,{icon:"mingcute:close-line"})})]}),H=e.jsxs(l,{children:[e.jsx(m,{variant:"subtitle2",sx:{mb:1},children:"Gender"}),i.map(c=>e.jsx(oe,{control:e.jsx(X,{checked:n.gender.includes(c.label),onClick:()=>j(c.label)}),label:c.label},c.value))]}),_=e.jsxs(l,{children:[e.jsx(m,{variant:"subtitle2",sx:{mb:1},children:"Category"}),g.map(c=>e.jsx(oe,{control:e.jsx(Ps,{checked:c===n.category,onClick:()=>f(c)}),label:c,sx:{...c==="all"&&{textTransform:"capitalize"}}},c))]}),E=e.jsxs(l,{children:[e.jsx(m,{variant:"subtitle2",sx:{mb:1},children:"Color"}),e.jsx(Ds,{selected:n.colors,onSelectColor:c=>k(c),colors:h,limit:6})]}),G=e.jsxs(l,{children:[e.jsx(m,{variant:"subtitle2",sx:{flexGrow:1},children:"Price"}),e.jsxs(l,{direction:"row",spacing:5,sx:{my:2},children:[e.jsx(le,{type:"min",value:n.priceRange,onFilters:o}),e.jsx(le,{type:"max",value:n.priceRange,onFilters:o})]}),e.jsx(Ls,{value:n.priceRange,onChange:S,step:10,min:0,max:200,marks:b,getAriaValueText:c=>`$${c}`,valueLabelFormat:c=>`$${c}`,sx:{alignSelf:"center",width:"calc(100% - 24px)"}})]}),y=e.jsxs(l,{spacing:2,alignItems:"flex-start",children:[e.jsx(m,{variant:"subtitle2",children:"Rating"}),d.map((c,w)=>e.jsxs(l,{direction:"row",onClick:()=>A(c),sx:{borderRadius:1,cursor:"pointer",typography:"body2","&:hover":{opacity:.48},...n.rating===c&&{pl:.5,pr:.75,py:.25,bgcolor:"action.selected"}},children:[e.jsx(K,{readOnly:!0,value:4-w,sx:{mr:1}})," & Up"]},c))]});return e.jsxs(e.Fragment,{children:[e.jsx(N,{disableRipple:!0,color:"inherit",endIcon:e.jsx(ae,{color:"error",variant:"dot",invisible:!x,children:e.jsx(v,{icon:"ic:round-filter-list"})}),onClick:a,children:"Filters"}),e.jsxs(ss,{anchor:"right",open:s,onClose:r,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[P,e.jsx(Z,{}),e.jsx(rs,{sx:{px:2.5,py:3},children:e.jsxs(l,{spacing:3,children:[H,_,E,G,y]})})]})]})}Ys.propTypes={open:t.bool,onOpen:t.func,onClose:t.func,canReset:t.bool,filters:t.object,onFilters:t.func,genderOptions:t.array,onResetFilters:t.func,ratingOptions:t.array,categoryOptions:t.array,colorOptions:t.arrayOf(t.string)};function le({type:s,value:a,onFilters:r}){const n=a[0],o=a[1],x=C.useCallback(()=>{n<0&&r("priceRange",[0,o]),n>200&&r("priceRange",[200,o]),o<0&&r("priceRange",[n,0]),o>200&&r("priceRange",[n,200])},[o,n,r]);return e.jsxs(l,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:1},children:[e.jsx(m,{variant:"caption",sx:{flexShrink:0,color:"text.disabled",textTransform:"capitalize",fontWeight:"fontWeightSemiBold"},children:`${s} ($)`}),e.jsx(ns,{fullWidth:!0,value:s==="min"?n:o,onChange:p=>s==="min"?r("priceRange",[Number(p.target.value),o]):r("priceRange",[n,Number(p.target.value)]),onBlur:x,inputProps:{step:10,min:0,max:200,type:"number","aria-labelledby":"input-slider"},sx:{maxWidth:48,borderRadius:.75,bgcolor:p=>me(p.palette.grey[500],.08),[`& .${as.input}`]:{pr:1,py:.75,textAlign:"right",typography:"body2"}}})]})}le.propTypes={onFilters:t.func,type:t.oneOf(["min","max"]),value:t.arrayOf(t.number)};function Zs({filters:s,onFilters:a,canReset:r,onResetFilters:n,results:o,...x}){const p=b=>{const j=s.gender.filter(f=>f!==b);a("gender",j)},h=()=>{a("category","all")},i=b=>{const j=s.colors.filter(f=>f!==b);a("colors",j)},d=()=>{a("priceRange",[0,200])},g=()=>{a("rating","")};return e.jsxs(l,{spacing:1.5,...x,children:[e.jsxs(u,{sx:{typography:"body2"},children:[e.jsx("strong",{children:o}),e.jsx(u,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),e.jsxs(l,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!s.gender.length&&e.jsx(U,{label:"Gender:",children:s.gender.map(b=>e.jsx(z,{label:b,size:"small",onDelete:()=>p(b)},b))}),s.category!=="all"&&e.jsx(U,{label:"Category:",children:e.jsx(z,{size:"small",label:s.category,onDelete:h})}),!!s.colors.length&&e.jsx(U,{label:"Colors:",children:s.colors.map(b=>e.jsx(z,{size:"small",label:e.jsx(u,{sx:{ml:-.5,width:18,height:18,bgcolor:b,borderRadius:"50%",border:j=>`solid 1px ${me(j.palette.common.white,.24)}`}}),onDelete:()=>i(b)},b))}),(s.priceRange[0]!==0||s.priceRange[1]!==200)&&e.jsx(U,{label:"Price:",children:e.jsx(z,{size:"small",label:`$${s.priceRange[0]} - ${s.priceRange[1]}`,onDelete:d})}),!!s.rating&&e.jsx(U,{label:"Rating:",children:e.jsx(z,{size:"small",label:s.rating,onDelete:g})}),r&&e.jsx(N,{color:"error",onClick:n,startIcon:e.jsx(v,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}Zs.propTypes={canReset:t.bool,filters:t.object,onFilters:t.func,results:t.number,onResetFilters:t.func};function U({label:s,children:a,sx:r,...n}){return e.jsxs(l,{component:de,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...r},...n,children:[e.jsx(u,{component:"span",sx:{typography:"subtitle2"},children:s}),e.jsx(l,{spacing:1,direction:"row",flexWrap:"wrap",children:a})]})}U.propTypes={children:t.node,label:t.string,sx:t.object};function Ur({name:s,setName:a,fetchProduct:r}){return e.jsx(u,{sx:{height:{sm:735,xs:550},py:{xs:20,md:0},overflow:"hidden",position:"relative",backgroundSize:"22%, 18.75%",backgroundRepeat:"no-repeat",backgroundPosition:"left bottom, right bottom",backgroundImage:"url(https://vapemonkeydubai.co/wp-content/uploads/2023/09/Joyetech-Tralus.png), url(https://vapemonkeydubai.co/wp-content/uploads/2023/09/apple_bomb.png)"},children:e.jsx(os,{component:is,children:e.jsxs(u,{sx:{bottom:{md:300},left:{md:100},right:{md:100},position:{md:"absolute"},textAlign:{xs:"center",md:"center"}},children:[e.jsxs(l,{spacing:2,display:"inline-flex",direction:"row",sx:{color:"common.black"},children:[e.jsx(R,{text:"Get"}),e.jsx(R,{text:"your"}),e.jsx(R,{text:"vape"}),e.jsx(R,{text:"delivered"})]}),e.jsx("br",{}),e.jsxs(l,{spacing:2,display:"inline-flex",direction:"row",sx:{color:"common.black"},children:[e.jsx(R,{text:"within"}),e.jsx(R,{text:"30"}),e.jsx(R,{text:"minutes"})]}),e.jsx("br",{}),e.jsx(he,{sx:{height:{sm:50,xs:20},width:{sm:300,md:600}},placeholder:"Search...",value:s,onChange:n=>a(n.target.value),InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(v,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:e.jsx(e.Fragment,{children:e.jsx(N,{variant:"contained",position:"end",sx:{backgroundColor:"primary.main",height:50,borderRadius:"0 10rem 10rem 0",width:100},onClick:()=>{r()},children:"Search"})}),style:{padding:0,borderRadius:50}}}),e.jsx("br",{}),e.jsxs(l,{spacing:2,display:"inline-flex",direction:"row",sx:{color:"common.black",mt:3},children:[e.jsx(R,{text:"Your"}),e.jsx(R,{text:"Ultimate"}),e.jsx(R,{text:"Destination"}),e.jsx(R,{text:"for"}),e.jsx(R,{text:"All"}),e.jsx(R,{text:"Vape"})]}),e.jsxs(l,{spacing:2,display:"inline-flex",direction:"row",sx:{color:"common.black"},children:[e.jsx(R,{text:"Shops:"}),e.jsx(R,{text:"One"}),e.jsx(R,{text:"Website,"}),e.jsx(R,{text:"Endless"}),e.jsx(R,{text:"Choices!"})]})]})})})}function R({text:s,variants:a,sx:r,...n}){return e.jsx(u,{component:ye.div,sx:{typography:"h2",overflow:"hidden",display:"inline-flex",fontSize:{sm:25,xs:12.5},...r},...n,children:s.split("").map((o,x)=>e.jsx(ye.span,{variants:a||Ws().inUp,children:o},x))})}R.propTypes={sx:t.object,text:t.string,variants:t.object};function Js({row:s,selected:a,onSelectRow:r,onDeleteRow:n,onEditRow:o,onViewRow:x}){const{name:p,salePrice:h,publish:i,category:d,quantity:g,createdAt:b,inventoryType:j,images:f}=s,k=Ae(),S=xe();return e.jsxs(e.Fragment,{children:[e.jsxs(Ns,{hover:!0,selected:a,children:[e.jsx($,{padding:"checkbox",children:e.jsx(X,{checked:a,onClick:r})}),e.jsxs($,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ue,{alt:p,src:f[0],variant:"rounded",sx:{width:64,height:64,mr:2}}),e.jsx(te,{disableTypography:!0,primary:e.jsx(De,{noWrap:!0,color:"inherit",variant:"subtitle2",onClick:x,sx:{cursor:"pointer"},children:p}),secondary:e.jsx(u,{component:"div",sx:{typography:"body2",color:"text.disabled"},children:d})})]}),e.jsx($,{children:e.jsx(te,{primary:fe(new Date(b),"dd MMM yyyy"),secondary:fe(new Date(b),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),e.jsxs($,{sx:{typography:"caption",color:"text.secondary"},children:[e.jsx(Fe,{value:g*100/g,variant:"determinate",color:j==="out of stock"&&"error"||j==="low stock"&&"warning"||"success",sx:{mb:1,height:6,maxWidth:80}}),!!g&&g," ",j]}),e.jsx($,{children:M(h)}),e.jsx($,{children:e.jsx(ls,{variant:"soft",color:i&&"info"||"default",children:i?"Publish":"Draft"})}),e.jsx($,{align:"right",children:e.jsx(J,{color:S.open?"primary":"default",onClick:S.onOpen,children:e.jsx(v,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(pe,{open:S.open,onClose:S.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(L,{onClick:()=>{x(),S.onClose()},children:[e.jsx(v,{icon:"solar:eye-bold"}),"View"]}),e.jsxs(L,{onClick:()=>{o(),S.onClose()},children:[e.jsx(v,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(L,{onClick:()=>{k.onTrue(),S.onClose()},sx:{color:"error.main"},children:[e.jsx(v,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(zs,{open:k.value,onClose:k.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(N,{variant:"contained",color:"error",onClick:n,children:"Delete"})})]})}Js.propTypes={onDeleteRow:t.func,onEditRow:t.func,onSelectRow:t.func,onViewRow:t.func,row:t.object,selected:t.bool};function Xs({filters:s,onFilters:a,stockOptions:r,publishOptions:n}){const o=xe(),x=C.useCallback(i=>{a("name",i.target.value)},[a]),p=C.useCallback(i=>{a("stock",typeof i.target.value=="string"?i.target.value.split(","):i.target.value)},[a]),h=C.useCallback(i=>{a("publish",typeof i.target.value=="string"?i.target.value.split(","):i.target.value)},[a]);return e.jsxs(e.Fragment,{children:[e.jsxs(l,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[e.jsxs(ve,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(we,{children:"Stock"}),e.jsx(Ce,{multiple:!0,value:s.stock,onChange:p,input:e.jsx(ke,{label:"Stock"}),renderValue:i=>i.map(d=>d).join(", "),sx:{textTransform:"capitalize"},children:r.map(i=>e.jsxs(L,{value:i.value,children:[e.jsx(X,{disableRipple:!0,size:"small",checked:s.stock.includes(i.value)}),i.label]},i.value))})]}),e.jsxs(ve,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(we,{children:"Publish"}),e.jsx(Ce,{multiple:!0,value:s.publish,onChange:h,input:e.jsx(ke,{label:"Publish"}),renderValue:i=>i.map(d=>d).join(", "),sx:{textTransform:"capitalize"},children:n.map(i=>e.jsxs(L,{value:i.value,children:[e.jsx(X,{disableRipple:!0,size:"small",checked:s.publish.includes(i.value)}),i.label]},i.value))})]}),e.jsxs(l,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[e.jsx(he,{fullWidth:!0,value:s.name,onChange:x,placeholder:"Search...",InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(v,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),e.jsx(J,{onClick:o.onOpen,children:e.jsx(v,{icon:"eva:more-vertical-fill"})})]})]}),e.jsxs(pe,{open:o.open,onClose:o.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(L,{onClick:()=>{o.onClose()},children:[e.jsx(v,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),e.jsxs(L,{onClick:()=>{o.onClose()},children:[e.jsx(v,{icon:"solar:import-bold"}),"Import"]}),e.jsxs(L,{onClick:()=>{o.onClose()},children:[e.jsx(v,{icon:"solar:export-bold"}),"Export"]})]})]})}Xs.propTypes={filters:t.object,onFilters:t.func,publishOptions:t.array,stockOptions:t.array};function er({filters:s,onFilters:a,onResetFilters:r,results:n,...o}){const x=h=>{const i=s.stock.filter(d=>d!==h);a("stock",i)},p=h=>{const i=s.publish.filter(d=>d!==h);a("publish",i)};return e.jsxs(l,{spacing:1.5,...o,children:[e.jsxs(u,{sx:{typography:"body2"},children:[e.jsx("strong",{children:n}),e.jsx(u,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),e.jsxs(l,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!s.stock.length&&e.jsx(ce,{label:"Stock:",children:s.stock.map(h=>e.jsx(z,{label:h,size:"small",onDelete:()=>x(h)},h))}),!!s.publish.length&&e.jsx(ce,{label:"Publish:",children:s.publish.map(h=>e.jsx(z,{label:h,size:"small",onDelete:()=>p(h)},h))}),e.jsx(N,{color:"error",onClick:r,startIcon:e.jsx(v,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}er.propTypes={filters:t.object,onFilters:t.func,onResetFilters:t.func,results:t.number};function ce({label:s,children:a,sx:r,...n}){return e.jsxs(l,{component:de,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...r},...n,children:[e.jsx(u,{component:"span",sx:{typography:"subtitle2"},children:s}),e.jsx(l,{spacing:1,direction:"row",flexWrap:"wrap",children:a})]})}ce.propTypes={children:t.node,label:t.string,sx:t.object};var sr=ds,rr=xs;function nr(s,a){return s&&s.length?rr(s,sr(a)):0}var ar=nr;const tr=cs(ar);function $e({reviews:s}){const{name:a,rating:r,review:n,postedAt:o,avatarUrl:x,attachments:p,isPurchased:h}=s,i=e.jsxs(l,{spacing:2,alignItems:"center",direction:{xs:"row",md:"column"},sx:{width:{md:240},textAlign:{md:"center"}},children:[e.jsx(ue,{src:x,sx:{width:{xs:48,md:64},height:{xs:48,md:64}}}),e.jsx(te,{primary:a,secondary:ps(o),primaryTypographyProps:{noWrap:!0,typography:"subtitle2",mb:.5},secondaryTypographyProps:{noWrap:!0,typography:"caption",component:"span"}})]}),d=e.jsxs(l,{spacing:1,flexGrow:1,children:[e.jsx(K,{size:"small",value:r,precision:.1,readOnly:!0}),e.jsx(m,{variant:"body2",children:n}),!!(p!=null&&p.length)&&e.jsx(l,{direction:"row",flexWrap:"wrap",spacing:1,sx:{pt:1},children:p.map(g=>e.jsx(u,{component:"img",alt:g,src:g,sx:{width:64,height:64,borderRadius:1.5}},g))}),e.jsxs(l,{direction:"row",spacing:2,sx:{pt:1.5},children:[e.jsxs(l,{direction:"row",alignItems:"center",sx:{typography:"caption"},children:[e.jsx(v,{icon:"solar:like-outline",width:16,sx:{mr:.5}}),"123"]}),e.jsxs(l,{direction:"row",alignItems:"center",sx:{typography:"caption"},children:[e.jsx(v,{icon:"solar:dislike-outline",width:16,sx:{mr:.5}}),"34"]})]})]});return e.jsxs(l,{spacing:2,direction:{xs:"column",md:"row"},sx:{mt:5,px:{xs:2.5,md:0}},children:[i,d]})}$e.propTypes={review:t.object};function qe({reviews:s}){return e.jsx(e.Fragment,{children:s.map(a=>e.jsx($e,{reviews:a},a.id))})}qe.propTypes={reviews:t.array};function Ee({onClose:s,...a}){var f;const{id:r}=hs(),n=Oe().shape({rating:V().min(1,"Rating must be greater than or equal to 1"),review:W().required("Review is required"),name:W().required("Name is required"),email:W().required("Email is required").email("Email must be a valid email address")}),o={rating:0,review:"",name:"",email:""},x=ge({resolver:Pe(n),defaultValues:o}),{reset:p,control:h,handleSubmit:i,formState:{errors:d,isSubmitting:g}}=x,b=i(async k=>{try{const S=await Y.post("products/review",{...k,id:r});p(),s(),console.info("DATA",k)}catch(S){console.error(S)}}),j=C.useCallback(()=>{s(),p()},[s,p]);return e.jsx(ms,{onClose:s,...a,children:e.jsxs(je,{methods:x,onSubmit:b,children:[e.jsx($s,{children:" Add Review "}),e.jsxs(qs,{children:[e.jsxs(l,{direction:"row",flexWrap:"wrap",alignItems:"center",spacing:1.5,children:[e.jsx(m,{variant:"body2",children:"Your review about this product:"}),e.jsx(ks,{name:"rating",control:h,render:({field:k})=>e.jsx(K,{...k,size:"small",value:Number(k.value)})})]}),!!d.rating&&e.jsxs(us,{error:!0,children:[" ",(f=d.rating)==null?void 0:f.message]}),e.jsx(O,{name:"review",label:"Review *",multiline:!0,rows:3,sx:{mt:3}}),e.jsx(O,{name:"name",label:"Name *",sx:{mt:3}}),e.jsx(O,{name:"email",label:"Email *",sx:{mt:3}})]}),e.jsxs(Es,{children:[e.jsx(N,{color:"inherit",variant:"outlined",onClick:j,children:"Cancel"}),e.jsx(Le,{type:"submit",variant:"contained",loading:g,children:"Post"})]})]})})}Ee.propTypes={onClose:t.func};function or({totalRatings:s,totalReviews:a,ratings:r,reviews:n}){const o=Ae();tr(r,i=>i.starCount);const x=e.jsxs(l,{spacing:1,alignItems:"center",justifyContent:"center",children:[e.jsx(m,{variant:"subtitle2",children:"Average rating"}),e.jsxs(m,{variant:"h2",children:[n.reduce((i,d)=>i+d.rating,0)/n.length,"/5"]}),e.jsx(K,{readOnly:!0,value:n.reduce((i,d)=>i+d.rating,0)/n.length,precision:.1}),e.jsxs(m,{variant:"caption",sx:{color:"text.secondary"},children:["(",ie(n.length)," reviews)"]})]}),p=e.jsx(l,{spacing:1.5,sx:{py:5,px:{xs:3,md:5},borderLeft:i=>({md:`dashed 1px ${i.palette.divider}`}),borderRight:i=>({md:`dashed 1px ${i.palette.divider}`})},children:[1,2,3,4,5].map(i=>e.jsxs(l,{direction:"row",alignItems:"center",children:[e.jsx(m,{variant:"subtitle2",component:"span",sx:{width:42},children:i}),e.jsx(Fe,{color:"inherit",variant:"determinate",value:n.filter(d=>d.rating===i).length/n.length*100,sx:{mx:2,flexGrow:1}}),e.jsx(m,{variant:"body2",component:"span",sx:{minWidth:48,color:"text.secondary"},children:ie(n.filter(d=>d===i).length)})]},i))}),h=e.jsx(l,{alignItems:"center",justifyContent:"center",children:e.jsx(N,{size:"large",variant:"soft",color:"inherit",onClick:o.onTrue,startIcon:e.jsx(v,{icon:"solar:pen-bold"}),children:"Write your review"})});return e.jsxs(e.Fragment,{children:[e.jsxs(u,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{py:{xs:5,md:0}},children:[x,p,h]}),e.jsx(Z,{sx:{borderStyle:"dashed"}}),e.jsx(qe,{reviews:n}),e.jsx(Ee,{open:o.value,onClose:o.onFalse})]})}or.propTypes={ratings:t.array,reviews:t.array,totalRatings:t.number,totalReviews:t.number};function ir({cart:s,product:a,onAddCart:r,onGotoStep:n,disabledActions:o,...x}){var be;const p=Te(),{id:h,name:i,sizes:d,regularPrice:g,coverUrl:b,colors:j=[],quantity:f,salePrice:k,totalRatings:S,totalReviews:A,inventoryType:P,subDescription:H}=a,_=(be=s==null?void 0:s.map(F=>F.id))==null?void 0:be.includes(h),E={id:h,name:i,coverUrl:b,quantity:f,price:k,colors:(j==null?void 0:j.length)&&j[0],size:(d==null?void 0:d.lenght)&&d[0]},G=ge({defaultValues:E}),{reset:y,watch:c,handleSubmit:w}=G,T=c();C.useEffect(()=>{a&&y(E)},[a]);const se=w(async F=>{try{_||r({...F,colors:[T.colors],subTotal:F.price*F.quantity}),n(0),p.push(ee.product.checkout)}catch(Ke){console.error(Ke)}}),Ge=e.jsxs(u,{sx:{typography:"h5"},children:[k&&e.jsx(u,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through",mr:.5},children:M(g)}),M(k)]}),Ue=e.jsxs(l,{direction:"row",children:[e.jsx(m,{variant:"subtitle2",sx:{flexGrow:1},children:"Color"}),e.jsx(l,{direction:"row",children:j==null?void 0:j.map(F=>e.jsxs(m,{children:[F," , "]},F))})]}),Be=e.jsxs(l,{direction:"row",children:[e.jsx(m,{variant:"subtitle2",sx:{flexGrow:1},children:"Size"}),e.jsx(l,{direction:"row",children:d==null?void 0:d.map(F=>e.jsxs(m,{children:[F," , "]},F))})]}),He=e.jsxs(l,{direction:"row",children:[e.jsx(m,{variant:"subtitle2",sx:{flexGrow:1},children:"Quantity"}),e.jsx(l,{spacing:1,children:e.jsxs(m,{variant:"caption",component:"div",sx:{textAlign:"right"},children:["Available: ",f]})})]}),_e=e.jsx(m,{variant:"body2",sx:{color:"text.secondary"},children:H}),Ve=e.jsxs(l,{direction:"row",alignItems:"center",sx:{color:"text.disabled",typography:"body2"},children:[e.jsx(K,{size:"small",value:S,precision:.1,readOnly:!0,sx:{mr:1}}),`(${ie(A)} reviews)`]}),Me=e.jsx(u,{component:"span",sx:{typography:"overline",color:P==="out of stock"&&"error.main"||P==="low stock"&&"warning.main"||"success.main"},children:P});return e.jsx(je,{methods:G,onSubmit:se,children:e.jsxs(l,{spacing:3,sx:{pt:3},...x,children:[e.jsxs(l,{spacing:2,alignItems:"flex-start",children:[Me,e.jsx(m,{variant:"h5",children:i}),Ve,Ge,_e]}),e.jsx(Z,{sx:{borderStyle:"dashed"}}),Ue,Be,He,e.jsx(Z,{sx:{borderStyle:"dashed"}})]})})}ir.propTypes={cart:t.array,disabledActions:t.bool,onAddCart:t.func,onGotoStep:t.func,product:t.object};const q=64,lr=js("div")(({length:s,theme:a})=>({position:"relative",margin:a.spacing(0,"auto"),"& .slick-slide":{lineHeight:0},...s===1&&{maxWidth:q*1+16},...s===2&&{maxWidth:q*2+32},...(s===3||s===4)&&{maxWidth:q*3+48},...s>=5&&{maxWidth:q*6},...s>3&&{"&:before, &:after":{...bs({direction:"to left",startColor:`${me(a.palette.background.default,0)} 0%`,endColor:`${a.palette.background.default} 100%`}),top:0,zIndex:9,content:"''",height:"100%",position:"absolute",width:q*2/3},"&:after":{right:0,transform:"scaleX(-1)"}}}));function cr({product:s={}}){var i;const a=gs(),r=(i=s==null?void 0:s.images)==null?void 0:i.map(d=>({src:d})),n=Gs(r),o=Se({rtl:!1,draggable:!1,adaptiveHeight:!0}),x=Se({rtl:!1,centerMode:!0,swipeToSlide:!0,focusOnSelect:!0,variableWidth:!0,centerPadding:"0px",slidesToShow:(r==null?void 0:r.length)>3?3:r==null?void 0:r.length});C.useEffect(()=>{o.onSetNav(),x.onSetNav()},[o,x]),C.useEffect(()=>{n.open&&o.onTogo(n.selected)},[o,n.open,n.selected]);const p=e.jsxs(u,{sx:{mb:3,borderRadius:2,overflow:"hidden",position:"relative"},children:[e.jsx(Re,{...o.carouselSettings,asNavFor:x.nav,ref:o.carouselRef,children:r==null?void 0:r.map(d=>e.jsx(We,{alt:d.src,src:d.src,ratio:"1/1",onClick:()=>n.onOpen(d.src),sx:{cursor:"zoom-in"}},d.src))}),e.jsx(Bs,{index:o.currentIndex,total:r==null?void 0:r.length,onNext:x.onNext,onPrev:x.onPrev})]}),h=e.jsx(lr,{length:r==null?void 0:r.length,children:e.jsx(Re,{...x.carouselSettings,asNavFor:o.nav,ref:x.carouselRef,children:r==null?void 0:r.map((d,g)=>e.jsx(u,{sx:{px:.5},children:e.jsx(ue,{alt:d.src,src:d.src,variant:"rounded",sx:{width:q,height:q,opacity:.48,cursor:"pointer",...o.currentIndex===g&&{opacity:1,border:`solid 2.5px ${a.palette.primary.main}`}}},d.src)},d.src))})});return e.jsxs(u,{sx:{"& .slick-slide":{float:a.direction==="rtl"?"right":"left"}},children:[p,h,e.jsx(Us,{index:n.selected,slides:r,open:n.open,close:n.onClose,onGetCurrentIndex:d=>n.setSelected(d)})]})}cr.propTypes={product:t.object};function dr({description:s}){return e.jsx(Hs,{children:s,sx:{p:3,"& p, li, ol":{typography:"body2"},"& ol":{p:0,display:{md:"flex"},listStyleType:"none","& li":{"&:first-of-type":{minWidth:240,mb:{xs:.5,md:0}}}}}})}dr.propTypes={description:t.string};export{Vs as C,Ur as H,Zs as P,Ms as a,Qs as b,Ys as c,Ks as d,cr as e,ir as f,dr as g,or as h,Gr as i,Xs as j,er as k,Js as l,_s as m};
