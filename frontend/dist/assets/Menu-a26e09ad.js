import{D as f,ch as k,a$ as A,d7 as H,cJ as j,cl as _,a8 as T,b5 as $,ce as b,cp as z,cq as U,am as K,d8 as W,cw as G,d9 as V,cg as q,a6 as J,cm as B,cn as Q}from"./index-2b1d90a0.js";const X=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function S(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function N(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function O(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function P(t,e,n,g,m,v){let d=!1,i=m(t,e,e?n:!1);for(;i;){if(i===t.firstChild){if(d)return!1;d=!0}const h=g?!1:i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||!O(i,v)||h)i=m(t,i,n);else return i.focus(),!0}return!1}const Y=f.forwardRef(function(e,n){const{actions:g,autoFocus:m=!1,autoFocusItem:v=!1,children:d,className:i,disabledItemsFocusable:h=!1,disableListWrap:M=!1,onKeyDown:w,variant:C="selectedMenu"}=e,I=k(e,X),u=f.useRef(null),x=f.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});A(()=>{m&&u.current.focus()},[m]),f.useImperativeHandle(g,()=>({adjustStyleForScrollbar:(s,r)=>{const l=!u.current.style.width;if(s.clientHeight<u.current.clientHeight&&l){const c=`${H(j(s))}px`;u.current.style[r.direction==="rtl"?"paddingLeft":"paddingRight"]=c,u.current.style.width=`calc(100% + ${c})`}return u.current}}),[]);const R=s=>{const r=u.current,l=s.key,c=j(r).activeElement;if(l==="ArrowDown")s.preventDefault(),P(r,c,M,h,S);else if(l==="ArrowUp")s.preventDefault(),P(r,c,M,h,N);else if(l==="Home")s.preventDefault(),P(r,null,M,h,S);else if(l==="End")s.preventDefault(),P(r,null,M,h,N);else if(l.length===1){const o=x.current,D=l.toLowerCase(),y=performance.now();o.keys.length>0&&(y-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&D!==o.keys[0]&&(o.repeating=!1)),o.lastTime=y,o.keys.push(D);const p=c&&!o.repeating&&O(c,o);o.previousKeyMatched&&(p||P(r,c,!1,h,S,o))?s.preventDefault():o.previousKeyMatched=!1}w&&w(s)},L=_(u,n);let a=-1;f.Children.forEach(d,(s,r)=>{if(!f.isValidElement(s)){a===r&&(a+=1,a>=d.length&&(a=-1));return}s.props.disabled||(C==="selectedMenu"&&s.props.selected||a===-1)&&(a=r),a===r&&(s.props.disabled||s.props.muiSkipListHighlight||s.type.muiSkipListHighlight)&&(a+=1,a>=d.length&&(a=-1))});const F=f.Children.map(d,(s,r)=>{if(r===a){const l={};return v&&(l.autoFocus=!0),s.props.tabIndex===void 0&&C==="selectedMenu"&&(l.tabIndex=0),f.cloneElement(s,l)}return s});return T.jsx($,b({role:"menu",ref:L,className:i,onKeyDown:R,tabIndex:m?0:-1},I,{children:F}))}),Z=Y;function ee(t){return z("MuiMenu",t)}U("MuiMenu",["root","paper","list"]);const te=["onEntering"],se=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],ne={vertical:"top",horizontal:"right"},re={vertical:"top",horizontal:"left"},oe=t=>{const{classes:e}=t;return Q({root:["root"],paper:["paper"],list:["list"]},ee,e)},ie=K(W,{shouldForwardProp:t=>G(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ae=K(V,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),le=K(Z,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),ue=f.forwardRef(function(e,n){const g=q({props:e,name:"MuiMenu"}),{autoFocus:m=!0,children:v,disableAutoFocusItem:d=!1,MenuListProps:i={},onClose:h,open:M,PaperProps:w={},PopoverClasses:C,transitionDuration:I="auto",TransitionProps:{onEntering:u}={},variant:x="selectedMenu"}=g,R=k(g.TransitionProps,te),L=k(g,se),a=J(),F=a.direction==="rtl",s=b({},g,{autoFocus:m,disableAutoFocusItem:d,MenuListProps:i,onEntering:u,PaperProps:w,transitionDuration:I,TransitionProps:R,variant:x}),r=oe(s),l=m&&!d&&M,c=f.useRef(null),o=(p,E)=>{c.current&&c.current.adjustStyleForScrollbar(p,a),u&&u(p,E)},D=p=>{p.key==="Tab"&&(p.preventDefault(),h&&h(p,"tabKeyDown"))};let y=-1;return f.Children.map(v,(p,E)=>{f.isValidElement(p)&&(p.props.disabled||(x==="selectedMenu"&&p.props.selected||y===-1)&&(y=E))}),T.jsx(ie,b({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?ne:re,slots:{paper:ae},slotProps:{paper:b({},w,{classes:b({},w.classes,{root:r.paper})})},className:r.root,open:M,ref:n,transitionDuration:I,TransitionProps:b({onEntering:o},R),ownerState:s},L,{classes:C,children:T.jsx(le,b({onKeyDown:D,actions:c,autoFocus:m&&(y===-1||d),autoFocusItem:l,variant:x},i,{className:B(r.list,i.className),children:v}))}))}),pe=ue;export{pe as M,Z as a};
