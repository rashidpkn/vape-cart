import{U as _,Q as D,$ as q,a5 as L,Y as j,r as b,a3 as Z,V as U,b1 as ne,b2 as le,p as Q,j as e,l as B,v as E,a6 as A,Z as ie,b3 as ce,a2 as ge,b4 as ye,X as je,b5 as Ce,b6 as ve,E as t,a1 as ke,aq as Re,z as T,x as Pe,ar as de,A as we,y as K,o as X,c as V,b7 as J,b8 as Se,e as ee,h as Fe,I as Ie,aj as $e,as as ue,t as O,B as oe,M as Te,T as G,F as Y,q as pe,s as me,aK as Oe,k as qe,b9 as Me,ai as Le}from"./index-ec998887.js";import{C as Ne}from"./confirm-dialog-cff5589d.js";import{b as Ge,c as F}from"./TableRow-36e71984.js";import{S as ze,C as H}from"./Checkbox-4ed042a5.js";function Be(o){return D("MuiFormControlLabel",o)}const Ee=_("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),z=Ee,_e=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],De=o=>{const{classes:r,disabled:a,labelPlacement:s,error:n,required:c}=o,g={root:["root",a&&"disabled",`labelPlacement${L(s)}`,n&&"error",c&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",n&&"error"]};return A(g,Be,r)},Ue=q("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:a}=o;return[{[`& .${z.label}`]:r.label},r.root,r[`labelPlacement${L(a.labelPlacement)}`]]}})(({theme:o,ownerState:r})=>j({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${z.disabled}`]:{cursor:"default"}},r.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},r.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},r.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${z.label}`]:{[`&.${z.disabled}`]:{color:(o.vars||o).palette.text.disabled}}})),Ae=q("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(o,r)=>r.asterisk})(({theme:o})=>({[`&.${z.error}`]:{color:(o.vars||o).palette.error.main}})),Ve=b.forwardRef(function(r,a){var s,n;const c=Z({props:r,name:"MuiFormControlLabel"}),{className:g,componentsProps:l={},control:u,disabled:i,disableTypography:m,label:p,labelPlacement:k="end",required:I,slotProps:w={}}=c,C=U(c,_e),R=ne(),y=(s=i??u.props.disabled)!=null?s:R==null?void 0:R.disabled,x=I??u.props.required,M={disabled:y,required:x};["checked","name","onChange","value","inputRef"].forEach(P=>{typeof u.props[P]>"u"&&typeof c[P]<"u"&&(M[P]=c[P])});const $=le({props:c,muiFormControl:R,states:["error"]}),h=j({},c,{disabled:y,labelPlacement:k,required:x,error:$.error}),v=De(h),N=(n=w.typography)!=null?n:l.typography;let S=p;return S!=null&&S.type!==Q&&!m&&(S=e.jsx(Q,j({component:"span"},N,{className:B(v.label,N==null?void 0:N.className),children:S}))),e.jsxs(Ue,j({className:B(v.root,g),ownerState:h,ref:a},C,{children:[b.cloneElement(u,M),x?e.jsxs(E,{display:"block",children:[S,e.jsxs(Ae,{ownerState:h,"aria-hidden":!0,className:v.asterisk,children:["â€‰","*"]})]}):S]}))}),W=Ve;function We(o){return D("MuiFormGroup",o)}_("MuiFormGroup",["root","row","error"]);const Qe=["className","row"],Ye=o=>{const{classes:r,row:a,error:s}=o;return A({root:["root",a&&"row",s&&"error"]},We,r)},He=q("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:a}=o;return[r.root,a.row&&r.row]}})(({ownerState:o})=>j({display:"flex",flexDirection:"column",flexWrap:"wrap"},o.row&&{flexDirection:"row"})),Ze=b.forwardRef(function(r,a){const s=Z({props:r,name:"MuiFormGroup"}),{className:n,row:c=!1}=s,g=U(s,Qe),l=ne(),u=le({props:s,muiFormControl:l,states:["error"]}),i=j({},s,{row:c,error:u.error}),m=Ye(i);return e.jsx(He,j({className:B(m.root,n),ownerState:i,ref:a},g))}),Ke=Ze,Xe=ie(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Je=ie(e.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),eo=q("span",{shouldForwardProp:ce})({position:"relative",display:"flex"}),oo=q(Xe)({transform:"scale(1)"}),ro=q(Je)(({theme:o,ownerState:r})=>j({left:0,position:"absolute",transform:"scale(0)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeIn,duration:o.transitions.duration.shortest})},r.checked&&{transform:"scale(1)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.shortest})}));function he(o){const{checked:r=!1,classes:a={},fontSize:s}=o,n=j({},o,{checked:r});return e.jsxs(eo,{className:a.root,ownerState:n,children:[e.jsx(oo,{fontSize:s,className:a.background,ownerState:n}),e.jsx(ro,{fontSize:s,className:a.dot,ownerState:n})]})}const to=b.createContext(void 0),xe=to;function ao(){return b.useContext(xe)}function so(o){return D("MuiRadio",o)}const no=_("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),re=no,lo=["checked","checkedIcon","color","icon","name","onChange","size","className"],io=o=>{const{classes:r,color:a,size:s}=o,n={root:["root",`color${L(a)}`,s!=="medium"&&`size${L(s)}`]};return j({},r,A(n,so,r))},co=q(ze,{shouldForwardProp:o=>ce(o)||o==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:a}=o;return[r.root,a.size!=="medium"&&r[`size${L(a.size)}`],r[`color${L(a.color)}`]]}})(({theme:o,ownerState:r})=>j({color:(o.vars||o).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${r.color==="default"?o.vars.palette.action.activeChannel:o.vars.palette[r.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:ge(r.color==="default"?o.palette.action.active:o.palette[r.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},r.color!=="default"&&{[`&.${re.checked}`]:{color:(o.vars||o).palette[r.color].main}},{[`&.${re.disabled}`]:{color:(o.vars||o).palette.action.disabled}}));function uo(o,r){return typeof r=="object"&&r!==null?o===r:String(o)===String(r)}const te=e.jsx(he,{checked:!0}),ae=e.jsx(he,{}),po=b.forwardRef(function(r,a){var s,n;const c=Z({props:r,name:"MuiRadio"}),{checked:g,checkedIcon:l=te,color:u="primary",icon:i=ae,name:m,onChange:p,size:k="medium",className:I}=c,w=U(c,lo),C=j({},c,{color:u,size:k}),R=io(C),y=ao();let x=g;const M=ye(p,y&&y.onChange);let $=m;return y&&(typeof x>"u"&&(x=uo(y.value,c.value)),typeof $>"u"&&($=y.name)),e.jsx(co,j({type:"radio",icon:b.cloneElement(i,{fontSize:(s=ae.props.fontSize)!=null?s:k}),checkedIcon:b.cloneElement(l,{fontSize:(n=te.props.fontSize)!=null?n:k}),ownerState:C,classes:R,name:$,checked:x,onChange:M,ref:a,className:B(R.root,I)},w))}),se=po;function mo(o){return D("MuiRadioGroup",o)}_("MuiRadioGroup",["root","row","error"]);const ho=["actions","children","className","defaultValue","name","onChange","value"],xo=o=>{const{classes:r,row:a,error:s}=o;return A({root:["root",a&&"row",s&&"error"]},mo,r)},fo=b.forwardRef(function(r,a){const{actions:s,children:n,className:c,defaultValue:g,name:l,onChange:u,value:i}=r,m=U(r,ho),p=b.useRef(null),k=xo(r),[I,w]=je({controlled:i,default:g,name:"RadioGroup"});b.useImperativeHandle(s,()=>({focus:()=>{let x=p.current.querySelector("input:not(:disabled):checked");x||(x=p.current.querySelector("input:not(:disabled)")),x&&x.focus()}}),[]);const C=Ce(a,p),R=ve(l),y=b.useMemo(()=>({name:R,onChange(x){w(x.target.value),u&&u(x,x.target.value)},value:I}),[R,u,w,I]);return e.jsx(xe.Provider,{value:y,children:e.jsx(Ke,j({role:"radiogroup",ref:C,className:B(k.root,c)},m,{children:n}))})}),bo=fo;t.arrayOf(t.string),t.number,t.object;const go=b.forwardRef(({colors:o,selected:r,onSelectColor:a,limit:s="auto",sx:n,...c},g)=>{const l=typeof r=="string",u=b.useCallback(i=>{if(l)i!==r&&a(i);else{const m=r!=null&&r.includes(i)?r.filter(p=>p!==i):[...r,i];a(m)}},[a,r,l]);return e.jsx(E,{ref:g,direction:"row",display:"inline-flex",sx:{flexWrap:"wrap",...s!=="auto"&&{width:s*36,justifyContent:"flex-end"},...n},...c,children:o==null?void 0:o.map(i=>{const m=l?r===i:r==null?void 0:r.includes(i);return console.log(i),e.jsx(ke,{sx:{width:36,height:36,borderRadius:"50%"},onClick:()=>{u(i)},children:e.jsx(E,{alignItems:"center",justifyContent:"center",sx:{width:20,height:20,bgcolor:i,borderRadius:"50%",border:p=>`solid 1px ${Re(p.palette.grey[500],.16)}`,...m&&{transform:"scale(1.3)",transition:p=>p.transitions.create("all",{duration:p.transitions.duration.shortest})}},children:e.jsx(T,{width:m?12:0,icon:"eva:checkmark-fill",sx:{transition:p=>p.transitions.create("all",{duration:p.transitions.duration.shortest})}})})},i)})})});go.propTypes={colors:t.oneOfType([t.string,t.arrayOf(t.string)]),limit:t.number,onSelectColor:t.func,selected:t.oneOfType([t.string,t.arrayOf(t.string)]),sx:t.object};t.object;t.object;t.bool,t.array;t.func,t.string,t.array;t.bool,t.func,t.func,t.bool,t.object,t.func,t.array,t.func,t.array,t.array,t.arrayOf(t.string);t.func,t.oneOf(["min","max"]),t.arrayOf(t.number);t.bool,t.object,t.func,t.number,t.func;t.node,t.string,t.object;t.object,t.string,t.object;function yo({row:o,selected:r,onSelectRow:a,onDeleteRow:s,onEditRow:n,fetchProduct:c}){const{id:g,name:l,salePrice:u,category:i,quantity:m,createdAt:p,inventoryType:k,images:I,regularPrice:w,status:C,track:R,type:y,availability:x}=o,[M,$]=b.useState(!1),[h,v]=b.useState({name:l,salePrice:u,quantity:m,regularPrice:w,status:C,availability:x,track:R}),N=async()=>{try{if(h.salePrice){const fe=parseFloat(h.regularPrice),be=parseFloat(h.salePrice);if(fe<=be)return alert("Sale price must be less than the regular price")}let d=parseFloat(h.salePrice)?parseFloat(h.salePrice):parseFloat(h.regularPrice);const f=await qe.post(`/products/quick_edit/${g}`,{...h,salePrice:d});alert("Product Updated"),c(),$(!1)}catch(d){console.log(d)}},S=Pe(),P=de();return e.jsxs(e.Fragment,{children:[e.jsxs(Ge,{hover:!0,selected:r,children:[e.jsx(F,{padding:"checkbox",children:e.jsx(H,{checked:r,onClick:a})}),e.jsxs(F,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(we,{alt:l,src:I[0],variant:"rounded",sx:{width:64,height:64,mr:2}}),e.jsx(K,{disableTypography:!0,primary:e.jsx(X,{to:`/dashboard/product/${g}/edit`,noWrap:!0,color:"inherit",variant:"subtitle2",style:{cursor:"pointer",color:"black"},children:l}),secondary:e.jsx(V,{component:"div",sx:{typography:"body2",color:"text.disabled"},children:i})})]}),e.jsx(F,{children:e.jsx(K,{primary:J(new Date(p),"dd MMM yyyy"),secondary:J(new Date(p),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),e.jsx(F,{children:y}),e.jsxs(F,{sx:{typography:"caption",color:"text.secondary"},children:[e.jsx(Se,{value:m*100/m,variant:"determinate",color:k==="out of stock"&&"error"||k==="low stock"&&"warning"||"success",sx:{mb:1,height:6,maxWidth:80}}),!!m&&m," ",k]}),e.jsx(F,{children:y==="Simple"&&ee(w)}),e.jsx(F,{children:w>u&&y==="Simple"&&ee(u)}),e.jsx(F,{children:e.jsx(Fe,{variant:"soft",color:C==="Published"&&"info"||"default",children:C})}),e.jsx(F,{align:"center",children:y==="Simple"&&C!=="Adjustment"&&e.jsx(Ie,{icon:"mdi:magic",cursor:"pointer",width:25,color:"#086c9c",onClick:()=>{if(C==="In Revision"){alert("You cannot edit this product while it is under review. Once the admin has completed the review, you will be able to make edits.");return}$(d=>!0)}})}),e.jsx(F,{align:"right",children:e.jsx($e,{color:P.open?"primary":"default",onClick:P.onOpen,children:e.jsx(T,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(ue,{open:P.open,onClose:P.onClose,arrow:"right-top",sx:{width:140},children:[e.jsx(O,{children:e.jsxs(X,{to:`/product/${g}`,target:"_blank",style:{color:"black"},children:[e.jsx(T,{icon:"solar:eye-bold"}),"View"]})}),e.jsxs(O,{onClick:()=>{if(C==="In Revision"){alert("You cannot edit this product while it is under review. Once the admin has completed the review, you will be able to make edits."),P.onClose();return}n()},children:[e.jsx(T,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(O,{onClick:()=>{S.onTrue(),P.onClose()},sx:{color:"error.main"},children:[e.jsx(T,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(Ne,{open:S.value,onClose:S.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(oe,{variant:"contained",color:"error",onClick:s,children:"Delete"})}),e.jsx(Te,{open:M,onClose:()=>$(d=>!1),"aria-labelledby":"quickedit-model","aria-describedby":"quickedit-model-description",children:e.jsxs(V,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,bgcolor:"background.paper",boxShadow:24,borderRadius:2,p:4},children:[e.jsxs(Q,{id:"quickedit-model",variant:"h6",component:"h2",children:["Quick Edit - ",l]}),e.jsxs(V,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr"},mt:5,gap:5,children:[e.jsx(G,{label:"Name",value:h.name,onChange:d=>v(f=>({...f,name:d.target.value}))}),e.jsx(G,{type:"number",label:"Regular Price",value:h.regularPrice,onChange:d=>v(f=>({...f,regularPrice:d.target.value}))}),e.jsx(G,{type:"number",label:"Sale Price",value:h.salePrice,onChange:d=>v(f=>({...f,salePrice:d.target.value}))}),e.jsx(W,{label:"Track Stock",control:e.jsx(H,{checked:h.track,onChange:d=>{v(f=>({...f,track:d.target.checked})),d.target.checked?v(f=>({...f,quantity:m})):v(f=>({...f,quantity:100}))}})}),h.track?e.jsx(G,{type:"number",label:"Quantity",value:h.quantity,onChange:d=>v(f=>({...f,quantity:d.target.value}))}):e.jsx(Y,{children:e.jsxs(bo,{onChange:d=>v(f=>({...f,availability:d.target.value})),defaultValue:"In Stock",value:h.availability,row:!0,children:[e.jsx(W,{value:"In Stock",control:e.jsx(se,{defaultChecked:!0}),label:"In Stock"}),e.jsx(W,{value:"Out Stock",control:e.jsx(se,{}),label:"Out Stock"})]})}),e.jsxs(Y,{fullWidth:!0,children:[e.jsx(pe,{children:"Status"}),e.jsx(me,{label:"Status",value:h.status,onChange:d=>v(f=>({...f,status:d.target.value})),children:Oe.map(d=>e.jsx(O,{value:d,children:d}))})]}),e.jsx(oe,{variant:"contained",color:"success",onClick:N,children:"Save Changes"})]})]})})]})}yo.propTypes={onDeleteRow:t.func,onEditRow:t.func,onSelectRow:t.func,onViewRow:t.func,row:t.object,selected:t.bool};function jo({filters:o,onFilters:r,stockOptions:a,publishOptions:s}){const n=de(),c=b.useCallback(l=>{r("name",l.target.value)},[r]),g=b.useCallback(l=>{r("stock",typeof l.target.value=="string"?l.target.value.split(","):l.target.value)},[r]);return e.jsxs(e.Fragment,{children:[e.jsxs(E,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[e.jsxs(Y,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(pe,{children:"Stock"}),e.jsx(me,{value:o.stock,onChange:g,input:e.jsx(Me,{label:"Stock"}),renderValue:l=>l.map(u=>u).join(", "),sx:{textTransform:"capitalize"},children:a.map(l=>e.jsxs(O,{value:l.value,children:[e.jsx(H,{disableRipple:!0,size:"small",checked:o.stock.includes(l.value)}),l.label]},l.value))})]}),e.jsx(E,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:e.jsx(G,{fullWidth:!0,value:o.name,onChange:c,placeholder:"Search...",InputProps:{startAdornment:e.jsx(Le,{position:"start",children:e.jsx(T,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})})]}),e.jsxs(ue,{open:n.open,onClose:n.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(O,{onClick:()=>{n.onClose()},children:[e.jsx(T,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),e.jsxs(O,{onClick:()=>{n.onClose()},children:[e.jsx(T,{icon:"solar:import-bold"}),"Import"]}),e.jsxs(O,{onClick:()=>{n.onClose()},children:[e.jsx(T,{icon:"solar:export-bold"}),"Export"]})]})]})}jo.propTypes={filters:t.object,onFilters:t.func,publishOptions:t.array,stockOptions:t.array};export{W as F,jo as P,bo as R,yo as a,se as b};
