import{bJ as S,bK as v,F as P,bF as T,bL as A,j as e,S as o,T as d,aT as l,aQ as c,aR as m,bz as E,bd as R,aS as I,W as k}from"./index-f9021dbd.js";import{c as q,a as u,b as z,F as B,R as p}from"./form-provider-36cc4b55.js";import{o as C,L as H}from"./yup-1cead020.js";import{u as V}from"./use-search-params-8a74fe14.js";import{A as M}from"./Alert-c8839e3a.js";import"./plan-premium-icon-20092326.js";import"./format-number-91b78f73.js";import"./image-d8d1557a.js";import"./transition-bee6630b.js";import"./Checkbox-02cb7b46.js";import"./Switch-157692af.js";import"./CircularProgress-1760bc16.js";function N(){const{login:s}=S(),h=v(),[t,x]=P.useState(""),g=V().get("returnTo"),a=T(),b=q().shape({email:u().required("Email is required").email("Email must be a valid email address"),password:u().required("Password is required")}),j={email:"",password:""},n=z({resolver:C(b),defaultValues:j}),{reset:W,handleSubmit:f,formState:{isSubmitting:w}}=n,y=f(async i=>{try{await(s==null?void 0:s(i.email,i.password)),h.push(g||A)}catch(r){console.log("hELLO"+r),x(typeof r=="string"?r:r.message)}}),L=e.jsxs(o,{spacing:2,sx:{mb:5},children:[e.jsx(d,{variant:"h4",children:"Sign in to Vape Amazon"}),e.jsxs(o,{direction:"row",spacing:.5,children:[e.jsx(d,{variant:"body2",children:"New user?"}),e.jsx(l,{component:c,href:m.auth.firebase.register,variant:"subtitle2",children:"Create an account"})]})]}),F=e.jsxs(o,{spacing:2.5,children:[!!t&&e.jsx(M,{severity:"error",children:t}),e.jsx(p,{name:"email",label:"Email address"}),e.jsx(p,{name:"password",label:"Password",type:a.value?"text":"password",InputProps:{endAdornment:e.jsx(E,{position:"end",children:e.jsx(R,{onClick:a.onToggle,edge:"end",children:e.jsx(I,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(l,{component:c,href:m.auth.firebase.forgotPassword,variant:"body2",color:"inherit",underline:"always",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx(H,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:w,children:"Login"})]});return e.jsxs(B,{methods:n,onSubmit:y,children:[L,F]})}function re(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{children:e.jsx("title",{children:"  Login"})}),e.jsx(N,{})]})}export{re as default};
