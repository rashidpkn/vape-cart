import{ae as s,j as e,bB as F,S as u,B as C,at as o,cj as w,F as g,am as S,al as q,cG as T,bt as D,T as f,ar as L,ba as N,be as $,co as R}from"./index-c7e94a78.js";import{c as H,a as i,o as I,u as k,F as B,q as E,R as m,g as O,h as G,r as P}from"./form-provider-d67f7eb8.js";import{L as U,o as W}from"./yup-8a6616ef.js";import{a as K,D as Q}from"./DialogTitle-6ce3d93d.js";import{D as M}from"./DialogContent-3aa10b48.js";s.node,s.object,s.object;function V({open:l,onClose:t,onCreate:n}){const A=H().shape({name:i().required("Fullname is required"),phoneNumber:i().required("Phone number is required"),apartment:i().required("Apartment is required"),address:i().required("Address is required"),city:i().required("City is required"),state:i().required("State is required"),country:i().required("Country is required"),email:i().email().required("Email is required"),addressType:i(),primary:I()}),p={name:"",city:"",state:"",address:"",primary:!0,phoneNumber:"",apartment:"",addressType:"Home",country:"United Arab Emirates",email:""},x=k({resolver:W(A),defaultValues:p}),{handleSubmit:j,formState:{isSubmitting:c}}=x,b=j(async r=>{try{n({name:r.name,phoneNumber:r.phoneNumber,fullAddress:`${r.apartment} ,${r.address}, ${r.city}, ${r.state}, ${r.country}`,addressType:r.addressType,primary:r.primary,email:r.email}),t()}catch(h){console.error(h)}});return e.jsx(F,{fullWidth:!0,maxWidth:"sm",open:l,onClose:t,children:e.jsxs(B,{methods:x,onSubmit:b,children:[e.jsx(K,{children:"New address"}),e.jsx(M,{dividers:!0,children:e.jsxs(u,{spacing:3,children:[e.jsx(E,{row:!0,name:"addressType",options:[{label:"Home",value:"Home"},{label:"Office",value:"Office"}]}),e.jsxs(C,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(m,{name:"name",label:"Full Name"}),e.jsx(m,{name:"phoneNumber",label:"Phone Number"})]}),e.jsx(m,{name:"apartment",label:"Apartment ,suite,unit etc"}),e.jsx(m,{name:"address",label:"Street Address"}),e.jsxs(C,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(m,{name:"city",label:"City"}),e.jsxs(O,{name:"state",label:"Emirate / Province",children:[e.jsx(o,{value:"",children:"Select an Emirate"}),e.jsx(o,{value:"Abu Dhabi",children:"Abu Dhabi"}),e.jsx(o,{value:"Ajman",children:"Ajman"}),e.jsx(o,{value:"Dubai",children:"Dubai"}),e.jsx(o,{value:"Fujairah",children:"Fujairah"}),e.jsx(o,{value:"Ras Al Khaimah",children:"Ras Al Khaimah"}),e.jsx(o,{value:"Sharjah",children:"Sharjah"}),e.jsx(o,{value:"Umm Al Quwain",children:"Umm Al Quwain"})]})]}),e.jsx(m,{name:"email",label:"E-mail"}),e.jsx(G,{name:"country",label:"Country",options:w.map(r=>r.label),getOptionLabel:r=>r,renderOption:(r,h)=>{const{code:y,label:d,phone:v}=w.filter(a=>a.label===h)[0];return d?g.createElement("li",{...r,key:d},e.jsx(S,{icon:`circle-flags:${y.toLowerCase()}`,width:28,sx:{mr:1}},d),d," (",y,") +",v):null}}),e.jsx(P,{name:"primary",label:"Use this address as default."})]})}),e.jsxs(Q,{children:[e.jsx(q,{color:"inherit",variant:"outlined",onClick:t,children:"Cancel"}),e.jsx(U,{type:"submit",variant:"contained",loading:c,children:"Deliver to this Address"})]})]})})}V.propTypes={onClose:s.func,onCreate:s.func,open:s.bool};function X({title:l="Address Book",list:t,action:n,open:A,onClose:p,selected:x,onSelect:j}){const[c,b]=g.useState(""),r=z({inputData:t,query:c}),h=!r.length&&!!c,y=g.useCallback(a=>{b(a.target.value)},[]),d=g.useCallback(a=>{j(a),b(""),p()},[p,j]),v=e.jsx(u,{spacing:.5,sx:{p:.5,maxHeight:80*8,overflowX:"hidden"},children:r.map(a=>e.jsxs(u,{spacing:.5,component:T,selected:x(`${a.id}`),onClick:()=>d(a),sx:{py:1,px:1.5,borderRadius:1,flexDirection:"column",alignItems:"flex-start",[`&.${D.selected}`]:{bgcolor:"action.selected","&:hover":{bgcolor:"action.selected"}}},children:[e.jsxs(u,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(f,{variant:"subtitle2",children:a.name}),a.primary&&e.jsx(L,{color:"info",children:"Default"})]}),a.company&&e.jsx(C,{sx:{color:"primary.main",typography:"caption"},children:a.company}),e.jsx(f,{variant:"body2",sx:{color:"text.secondary"},children:a.fullAddress}),a.phoneNumber&&e.jsx(f,{variant:"body2",sx:{color:"text.secondary"},children:a.phoneNumber})]},a.id))});return e.jsxs(F,{fullWidth:!0,maxWidth:"xs",open:A,onClose:p,children:[e.jsxs(u,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:3,pr:1.5},children:[e.jsxs(f,{variant:"h6",children:[" ",l," "]}),n&&n]}),e.jsx(u,{sx:{p:2,pt:0},children:e.jsx(N,{value:c,onChange:y,placeholder:"Search...",InputProps:{startAdornment:e.jsx($,{position:"start",children:e.jsx(S,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),h?e.jsx(R,{query:c,sx:{px:3,pt:5,pb:10}}):v]})}X.propTypes={action:s.node,list:s.array,onClose:s.func,onSelect:s.func,open:s.bool,selected:s.func,title:s.string};function z({inputData:l,query:t}){return t?l.filter(n=>n.name.toLowerCase().indexOf(t.toLowerCase())!==-1||n.fullAddress.toLowerCase().indexOf(t.toLowerCase())!==-1||`${n.company}`.toLowerCase().indexOf(t.toLowerCase())!==-1):l}export{X as A,V as a};
