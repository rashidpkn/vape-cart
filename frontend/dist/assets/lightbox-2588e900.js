import{cg as er,ch as tr,dt as Qn,aJ as nr,aY as ht,af as Ft,du as pn,H as n,cm as or,ci as rr,j as G,cj as sr,cl as ir,R as Kt,dv as cr,dw as lr,dx as ar,d4 as ur,ad as dr,dg as fr,ap as Ee,ag as me,B as hr}from"./index-c2b1ffda.js";function mr(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function pr(e){return parseFloat(e)}function vr(e){return er("MuiSkeleton",e)}tr("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const gr=["animation","className","component","height","style","variant","width"];let vt=e=>e,vn,gn,bn,En;const br=e=>{const{classes:t,variant:o,animation:r,hasChildren:s,width:c,height:i}=e;return ir({root:["root",o,r,s&&"withChildren",s&&!c&&"fitContent",s&&!i&&"heightAuto"]},vr,t)},Er=Qn(vn||(vn=vt`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),wr=Qn(gn||(gn=vt`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),_r=nr("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.animation!==!1&&t[o.animation],o.hasChildren&&t.withChildren,o.hasChildren&&!o.width&&t.fitContent,o.hasChildren&&!o.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const o=mr(e.shape.borderRadius)||"px",r=pr(e.shape.borderRadius);return ht({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Ft(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${o}/${Math.round(r/.6*10)/10}${o}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&pn(bn||(bn=vt`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Er),({ownerState:e,theme:t})=>e.animation==="wave"&&pn(En||(En=vt`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),wr,(t.vars||t).palette.action.hover)),Cr=n.forwardRef(function(t,o){const r=or({props:t,name:"MuiSkeleton"}),{animation:s="pulse",className:c,component:i="span",height:l,style:a,variant:d="text",width:u}=r,h=rr(r,gr),E=ht({},r,{animation:s,component:i,variant:d,hasChildren:!!h.children}),f=br(E);return G.jsx(_r,ht({as:i,ref:o,className:sr(f.root,c),ownerState:E},h,{style:ht({width:u,height:l},a)}))}),Bi=Cr,Te=()=>{},ce=Te(),Rt=Object,V=e=>e===ce,be=e=>typeof e=="function",Le=(e,t)=>({...e,...t}),xr=e=>be(e.then),ut=new WeakMap;let yr=0;const Qe=e=>{const t=typeof e,o=e&&e.constructor,r=o==Date;let s,c;if(Rt(e)===e&&!r&&o!=RegExp){if(s=ut.get(e),s)return s;if(s=++yr+"~",ut.set(e,s),o==Array){for(s="@",c=0;c<e.length;c++)s+=Qe(e[c])+",";ut.set(e,s)}if(o==Rt){s="#";const i=Rt.keys(e).sort();for(;!V(c=i.pop());)V(e[c])||(s+=c+":"+Qe(e[c])+",");ut.set(e,s)}}else s=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return s},_e=new WeakMap,Pt={},dt={},qt="undefined",Et=typeof window!=qt,Vt=typeof document!=qt,Sr=()=>Et&&typeof window.requestAnimationFrame!=qt,eo=(e,t)=>{const o=_e.get(e);return[()=>!V(t)&&e.get(t)||Pt,r=>{if(!V(t)){const s=e.get(t);t in dt||(dt[t]=s),o[5](t,Le(s,r),s||Pt)}},o[6],()=>!V(t)&&t in dt?dt[t]:!V(t)&&e.get(t)||Pt]};let $t=!0;const Rr=()=>$t,[Wt,Ht]=Et&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Te,Te],Pr=()=>{const e=Vt&&document.visibilityState;return V(e)||e!=="hidden"},Tr=e=>(Vt&&document.addEventListener("visibilitychange",e),Wt("focus",e),()=>{Vt&&document.removeEventListener("visibilitychange",e),Ht("focus",e)}),Ir=e=>{const t=()=>{$t=!0,e()},o=()=>{$t=!1};return Wt("online",t),Wt("offline",o),()=>{Ht("online",t),Ht("offline",o)}},Lr={isOnline:Rr,isVisible:Pr},Mr={initFocus:Tr,initReconnect:Ir},wn=!Kt.useId,et=!Et||"Deno"in window,Nr=e=>Sr()?window.requestAnimationFrame(e):setTimeout(e,1),Tt=et?n.useEffect:n.useLayoutEffect,It=typeof navigator<"u"&&navigator.connection,_n=!et&&It&&(["slow-2g","2g"].includes(It.effectiveType)||It.saveData),Gt=e=>{if(be(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Qe(e):"",[e,t]};let Or=0;const Ut=()=>++Or,to=0,no=1,oo=2,kr=3;var qe={__proto__:null,ERROR_REVALIDATE_EVENT:kr,FOCUS_EVENT:to,MUTATE_EVENT:oo,RECONNECT_EVENT:no};async function ro(...e){const[t,o,r,s]=e,c=Le({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let i=c.populateCache;const l=c.rollbackOnError;let a=c.optimisticData;const d=E=>typeof l=="function"?l(E):l!==!1,u=c.throwOnError;if(be(o)){const E=o,f=[],m=t.keys();for(const w of m)!/^\$(inf|sub)\$/.test(w)&&E(t.get(w)._k)&&f.push(w);return Promise.all(f.map(h))}return h(o);async function h(E){const[f]=Gt(E);if(!f)return;const[m,w]=eo(t,f),[v,b,g,I]=_e.get(t),P=()=>{const p=v[f];return(be(c.revalidate)?c.revalidate(m().data,E):c.revalidate!==!1)&&(delete g[f],delete I[f],p&&p[0])?p[0](oo).then(()=>m().data):m().data};if(e.length<3)return P();let x=r,S;const O=Ut();b[f]=[O,0];const y=!V(a),R=m(),_=R.data,L=R._c,W=V(L)?_:L;if(y&&(a=be(a)?a(W,_):a,w({data:a,_c:W})),be(x))try{x=x(W)}catch(p){S=p}if(x&&xr(x))if(x=await x.catch(p=>{S=p}),O!==b[f][0]){if(S)throw S;return x}else S&&y&&d(S)&&(i=!0,w({data:W,_c:ce}));if(i&&!S)if(be(i)){const p=i(x,W);w({data:p,error:ce,_c:ce})}else w({data:x,error:ce,_c:ce});if(b[f][1]=Ut(),Promise.resolve(P()).then(()=>{w({_c:ce})}),S){if(u)throw S;return}return x}}const Cn=(e,t)=>{for(const o in e)e[o][0]&&e[o][0](t)},Dr=(e,t)=>{if(!_e.has(e)){const o=Le(Mr,t),r={},s=ro.bind(ce,e);let c=Te;const i={},l=(u,h)=>{const E=i[u]||[];return i[u]=E,E.push(h),()=>E.splice(E.indexOf(h),1)},a=(u,h,E)=>{e.set(u,h);const f=i[u];if(f)for(const m of f)m(h,E)},d=()=>{if(!_e.has(e)&&(_e.set(e,[r,{},{},{},s,a,l]),!et)){const u=o.initFocus(setTimeout.bind(ce,Cn.bind(ce,r,to))),h=o.initReconnect(setTimeout.bind(ce,Cn.bind(ce,r,no)));c=()=>{u&&u(),h&&h(),_e.delete(e)}}};return d(),[e,s,d,c]}return[e,_e.get(e)[4]]},Ar=(e,t,o,r,s)=>{const c=o.errorRetryCount,i=s.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*o.errorRetryInterval;!V(c)&&i>c||setTimeout(r,l,s)},Fr=(e,t)=>Qe(e)==Qe(t),[so,Vr]=Dr(new Map),$r=Le({onLoadingSlow:Te,onSuccess:Te,onError:Te,onErrorRetry:Ar,onDiscarded:Te,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:_n?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:_n?5e3:3e3,compare:Fr,isPaused:()=>!1,cache:so,mutate:Vr,fallback:{}},Lr),Wr=(e,t)=>{const o=Le(e,t);if(t){const{use:r,fallback:s}=e,{use:c,fallback:i}=t;r&&c&&(o.use=r.concat(c)),s&&i&&(o.fallback=Le(s,i))}return o},Hr=n.createContext({}),Ur="$inf$",io=Et&&window.__SWR_DEVTOOLS_USE__,zr=io?window.__SWR_DEVTOOLS_USE__:[],Zr=()=>{io&&(window.__SWR_DEVTOOLS_REACT__=Kt)},Br=e=>be(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Xr=()=>Le($r,n.useContext(Hr)),jr=e=>(t,o,r)=>e(t,o&&((...c)=>{const[i]=Gt(t),[,,,l]=_e.get(so);if(i.startsWith(Ur))return o(...c);const a=l[i];return V(a)?o(...c):(delete l[i],a)}),r),Yr=zr.concat(jr),Kr=e=>function(...o){const r=Xr(),[s,c,i]=Br(o),l=Wr(r,i);let a=e;const{use:d}=l,u=(d||[]).concat(Yr);for(let h=u.length;h--;)a=u[h](a);return a(s,c||l.fetcher||null,l)},qr=(e,t,o)=>{const r=t[e]||(t[e]=[]);return r.push(o),()=>{const s=r.indexOf(o);s>=0&&(r[s]=r[r.length-1],r.pop())}};Zr();const xn=Kt.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),Lt={dedupe:!0},Gr=(e,t,o)=>{const{cache:r,compare:s,suspense:c,fallbackData:i,revalidateOnMount:l,revalidateIfStale:a,refreshInterval:d,refreshWhenHidden:u,refreshWhenOffline:h,keepPreviousData:E}=o,[f,m,w,v]=_e.get(r),[b,g]=Gt(e),I=n.useRef(!1),P=n.useRef(!1),x=n.useRef(b),S=n.useRef(t),O=n.useRef(o),y=()=>O.current,R=()=>y().isVisible()&&y().isOnline(),[_,L,W,p]=eo(r,b),N=n.useRef({}).current,U=V(i)?o.fallback[b]:i,T=($,z)=>{for(const q in N){const X=q;if(X==="data"){if(!s($[X],z[X])&&(!V($[X])||!s(xe,z[X])))return!1}else if(z[X]!==$[X])return!1}return!0},k=n.useMemo(()=>{const $=(()=>!b||!t?!1:V(l)?y().isPaused()||c?!1:V(a)?!0:a:l)(),z=D=>{const B=Le(D);return delete B._k,$?{isValidating:!0,isLoading:!0,...B}:B},q=_(),X=p(),le=z(q),ye=q===X?le:z(X);let C=le;return[()=>{const D=z(_());return T(D,C)?(C.data=D.data,C.isLoading=D.isLoading,C.isValidating=D.isValidating,C.error=D.error,C):(C=D,D)},()=>ye]},[r,b]),Z=cr.useSyncExternalStore(n.useCallback($=>W(b,(z,q)=>{T(q,z)||$()}),[r,b]),k[0],k[1]),K=!I.current,A=f[b]&&f[b].length>0,Y=Z.data,ne=V(Y)?U:Y,Ce=Z.error,Ye=n.useRef(ne),xe=E?V(Y)?Ye.current:Y:ne,Me=(()=>A&&!V(Ce)?!1:K&&!V(l)?l:y().isPaused()?!1:c?V(ne)?!1:a:V(ne)||a)(),Ue=!!(b&&t&&K&&Me),yt=V(Z.isValidating)?Ue:Z.isValidating,lt=V(Z.isLoading)?Ue:Z.isLoading,Ne=n.useCallback(async $=>{const z=S.current;if(!b||!z||P.current||y().isPaused())return!1;let q,X,le=!0;const ye=$||{},C=!w[b]||!ye.dedupe,D=()=>wn?!P.current&&b===x.current&&I.current:b===x.current,B={isValidating:!1,isLoading:!1},ae=()=>{L(B)},re=()=>{const te=w[b];te&&te[1]===X&&delete w[b]},Se={isValidating:!0};V(_().data)&&(Se.isLoading=!0);try{if(C&&(L(Se),o.loadingTimeout&&V(_().data)&&setTimeout(()=>{le&&D()&&y().onLoadingSlow(b,o)},o.loadingTimeout),w[b]=[z(g),Ut()]),[q,X]=w[b],q=await q,C&&setTimeout(re,o.dedupingInterval),!w[b]||w[b][1]!==X)return C&&D()&&y().onDiscarded(b),!1;B.error=ce;const te=m[b];if(!V(te)&&(X<=te[0]||X<=te[1]||te[1]===0))return ae(),C&&D()&&y().onDiscarded(b),!1;const ie=_().data;B.data=s(ie,q)?ie:q,C&&D()&&y().onSuccess(q,b,o)}catch(te){re();const ie=y(),{shouldRetryOnError:Oe}=ie;ie.isPaused()||(B.error=te,C&&D()&&(ie.onError(te,b,ie),(Oe===!0||be(Oe)&&Oe(te))&&(!y().revalidateOnFocus||!y().revalidateOnReconnect||R())&&ie.onErrorRetry(te,b,ie,ue=>{const ke=f[b];ke&&ke[0]&&ke[0](qe.ERROR_REVALIDATE_EVENT,ue)},{retryCount:(ye.retryCount||0)+1,dedupe:!0})))}return le=!1,ae(),!0},[b,r]),at=n.useCallback((...$)=>ro(r,x.current,...$),[]);if(Tt(()=>{S.current=t,O.current=o,V(Y)||(Ye.current=Y)}),Tt(()=>{if(!b)return;const $=Ne.bind(ce,Lt);let z=0;const X=qr(b,f,(le,ye={})=>{if(le==qe.FOCUS_EVENT){const C=Date.now();y().revalidateOnFocus&&C>z&&R()&&(z=C+y().focusThrottleInterval,$())}else if(le==qe.RECONNECT_EVENT)y().revalidateOnReconnect&&R()&&$();else{if(le==qe.MUTATE_EVENT)return Ne();if(le==qe.ERROR_REVALIDATE_EVENT)return Ne(ye)}});return P.current=!1,x.current=b,I.current=!0,L({_k:g}),Me&&(V(ne)||et?$():Nr($)),()=>{P.current=!0,X()}},[b]),Tt(()=>{let $;function z(){const X=be(d)?d(_().data):d;X&&$!==-1&&($=setTimeout(q,X))}function q(){!_().error&&(u||y().isVisible())&&(h||y().isOnline())?Ne(Lt).then(z):z()}return z(),()=>{$&&(clearTimeout($),$=-1)}},[d,u,h,b]),n.useDebugValue(xe),c&&V(ne)&&b){if(!wn&&et)throw new Error("Fallback data is required when using suspense in SSR.");S.current=t,O.current=o,P.current=!1;const $=v[b];if(!V($)){const z=at($);xn(z)}if(V(Ce)){const z=Ne(Lt);V(xe)||(z.status="fulfilled",z.value=!0),xn(z)}else throw Ce}return{mutate:at,get data(){return N.data=!0,xe},get error(){return N.error=!0,Ce},get isValidating(){return N.isValidating=!0,yt},get isLoading(){return N.isLoading=!0,lt}}},Xi=Kr(Gr),co=lr.create({baseURL:ar});co.interceptors.response.use(e=>e,e=>Promise.reject(e.response&&e.response.data||"Something went wrong"));const ji=async e=>{const[t,o]=Array.isArray(e)?e:[e];return(await co.get(t,{...o})).data},Yi={chat:"/api/chat",kanban:"/api/kanban",calendar:"/api/calendar",auth:{me:"/api/auth/me",login:"/api/auth/login",register:"/api/auth/register"},mail:{list:"/api/mail/list",details:"/api/mail/details",labels:"/api/mail/labels"},post:{list:"/api/post/list",details:"/api/post/details",latest:"/api/post/latest",search:"/api/post/search"},product:{list:"/api/product/list",details:"/api/product/details",search:"/api/product/search"}},lo="carousel",wt="controller",Jr="navigation",Qr="no-scroll",Jt="portal",es="root",ao="toolbar",yn="captions",tt="fullscreen",Sn="slideshow",nt="thumbnails",Rn="zoom",Ze="loading",zt="playing",Ge="error",Je="complete",ts="placeholder",rt=e=>`active-slide-${e}`,uo=rt(Ze),fo=rt(zt),ns=rt(Ge),ho=rt(Je),Qt="fullsize",Fe="flex_center",os="no_scroll",mo="no_scroll_padding",en="slide_wrapper",Re="prev",Pe="next",Zt="swipe",Xe="close",po="onPointerDown",vo="onPointerMove",go="onPointerUp",bo="onPointerLeave",Eo="onPointerCancel",tn="onKeyDown",rs="onKeyUp",nn="onWheel",ss="Escape",is="ArrowLeft",cs="ArrowRight",ls="button",gt="icon",wo="contain",Pn="cover",_o="Unknown action type",ee=(...e)=>[...e].filter(t=>!!t).join(" "),Co="yarl__",M=e=>`${Co}${e}`,H=e=>`--${Co}${e}`,Ve=(e,t)=>`${e}${t?`_${t}`:""}`,$e=e=>t=>Ve(e,t),as=(e,t)=>e&&e[t]?e[t]:t,st=(...e)=>()=>{e.forEach(t=>{t()})},ve=(e,t,o)=>()=>{const r=n.useContext(o);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r},on=()=>typeof window<"u";function rn(e,t=0){const o=10**t;return Math.round((e+Number.EPSILON)*o)/o}const je=e=>e.type===void 0||e.type==="image",sn=(e,t)=>e.imageFit===Pn||e.imageFit!==wo&&t===Pn;function _t(e){return typeof e=="string"?Number.parseInt(e,10):e}function bt(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=_t(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function us(e,t){const o=bt(t),r=o.percent!==void 0?e.width/100*o.percent:o.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}const ds=()=>(on()?window==null?void 0:window.devicePixelRatio:void 0)||1,xo=(e,t)=>t>0?(e%t+t)%t:0,cn=e=>e.length>0,mt=(e,t)=>e[xo(t,e.length)],Bt=(e,t)=>cn(e)?mt(e,t):void 0;function it(e,t,o){if(!o)return e;const{buttons:r,...s}=e,c=r.findIndex(l=>l===t),i=n.isValidElement(o)?n.cloneElement(o,{key:t},null):o;if(c>=0){const l=[...r];return l.splice(c,1,i),{buttons:l,...s}}return{buttons:[i,...r],...s}}function yo(e,t,o=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),o))}const Xt={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Xe]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:wo,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function fe(e,t){return{name:e,component:t}}function J(e,t){return{module:e,children:t}}function So(e,t,o){return e.module.name===t?o(e):e.children?[J(e.module,e.children.flatMap(r=>{var s;return(s=So(r,t,o))!==null&&s!==void 0?s:[]}))]:[e]}function ze(e,t,o){return e.flatMap(r=>{var s;return(s=So(r,t,o))!==null&&s!==void 0?s:[]})}function fs(e,t=[],o=[]){let r=e;const s=f=>{const m=[...r];for(;m.length>0;){const w=m.pop();if((w==null?void 0:w.module.name)===f)return!0;w!=null&&w.children&&m.push(...w.children)}return!1},c=(f,m)=>{if(f===""){r=[J(m,r)];return}r=ze(r,f,w=>[J(m,[w])])},i=(f,m)=>{r=ze(r,f,w=>[J(w.module,[J(m,w.children)])])},l=(f,m,w)=>{r=ze(r,f,v=>{var b;return[J(v.module,[...w?[J(m)]:[],...(b=v.children)!==null&&b!==void 0?b:[],...w?[]:[J(m)]])]})},a=(f,m,w)=>{r=ze(r,f,v=>[...w?[J(m)]:[],v,...w?[]:[J(m)]])},d=f=>{i(wt,f)},u=(f,m)=>{r=ze(r,f,w=>[J(m,w.children)])},h=f=>{r=ze(r,f,m=>m.children)},E=f=>{o.push(f)};return t.forEach(f=>{f({contains:s,addParent:c,append:i,addChild:l,addSibling:a,addModule:d,replace:u,remove:h,augment:E})}),{config:r,augmentation:f=>o.reduce((m,w)=>w(m),f)}}const Ro=n.createContext(null),We=ve("useEvents","EventsContext",Ro);function hs({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const o=n.useMemo(()=>{const r=(i,l)=>{var a;(a=t[i])===null||a===void 0||a.splice(0,t[i].length,...t[i].filter(d=>d!==l))};return{publish:(...[i,l])=>{var a;(a=t[i])===null||a===void 0||a.forEach(d=>d(l))},subscribe:(i,l)=>(t[i]||(t[i]=[]),t[i].push(l),()=>r(i,l)),unsubscribe:r}},[t]);return n.createElement(Ro.Provider,{value:o},e)}const Po=n.createContext(null),j=ve("useLightboxProps","LightboxPropsContext",Po);function To({children:e,...t}){return n.createElement(Po.Provider,{value:t},e)}const Io=n.createContext(null),ge=ve("useLightboxState","LightboxStateContext",Io),Lo=n.createContext(null),ms=ve("useLightboxDispatch","LightboxDispatchContext",Lo);function ps(e,t){switch(t.type){case"swipe":{const{slides:o}=e,r=(t==null?void 0:t.increment)||0,s=e.globalIndex+r,c=xo(s,o.length),i=Bt(o,c),l=r||t.duration?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:o,currentIndex:c,globalIndex:s,currentSlide:i,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:Bt(t.slides,t.index)}:e;default:throw new Error(_o)}}function vs({slides:e,index:t,children:o}){const[r,s]=n.useReducer(ps,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Bt(e,t)});n.useEffect(()=>{s({type:"update",slides:e,index:t})},[e,t]);const c=n.useMemo(()=>({...r,state:r,dispatch:s}),[r,s]);return n.createElement(Lo.Provider,{value:s},n.createElement(Io.Provider,{value:c},o))}const Mo=n.createContext(null),ct=ve("useTimeouts","TimeoutsContext",Mo);function gs({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const o=n.useMemo(()=>{const r=i=>{t.splice(0,t.length,...t.filter(l=>l!==i))};return{setTimeout:(i,l)=>{const a=window.setTimeout(()=>{r(a),i()},l);return t.push(a),a},clearTimeout:i=>{i!==void 0&&(r(i),window.clearTimeout(i))}}},[t]);return n.createElement(Mo.Provider,{value:o},e)}const He=n.forwardRef(function({label:t,className:o,icon:r,renderIcon:s,onClick:c,style:i,...l},a){const{styles:d,labels:u}=j();return n.createElement("button",{ref:a,type:"button","aria-label":as(u,t),className:ee(M(ls),o),onClick:c,style:{...i,...d.button},...l},s?s():n.createElement(r,{className:M(gt),style:d.icon}))});function No(e,t){const o=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return o.displayName=e,o}function se(e,t){return No(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function Oo(e,t){return No(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const bs=se("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Es=se("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),ws=se("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),_s=se("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,o)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/o.length*(t+1),transform:`rotate(${360/o.length*t}, 12, 12)`})))),Cs=se("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),de=on()?n.useLayoutEffect:n.useEffect;function ln(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var o,r;const s=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(prefers-reduced-motion: reduce)");t(s==null?void 0:s.matches);const c=i=>t(i.matches);return(r=s==null?void 0:s.addEventListener)===null||r===void 0||r.call(s,"change",c),()=>{var i;return(i=s==null?void 0:s.removeEventListener)===null||i===void 0?void 0:i.call(s,"change",c)}},[]),e}function xs(e){let t=0,o=0,r=0;const c=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(c){const i=c[1].split(",").map(_t);i.length===6?(t=i[4],o=i[5]):i.length===16&&(t=i[12],o=i[13],r=i[14])}return{x:t,y:o,z:r}}function jt(e,t){const o=n.useRef(),r=n.useRef(),s=ln();return de(()=>{var c,i,l;if(e.current&&o.current!==void 0&&!s){const{keyframes:a,duration:d,easing:u,onfinish:h}=t(o.current,e.current.getBoundingClientRect(),xs(e.current))||{};if(a&&d){(c=r.current)===null||c===void 0||c.cancel(),r.current=void 0;try{r.current=(l=(i=e.current).animate)===null||l===void 0?void 0:l.call(i,a,{duration:d,easing:u})}catch(E){console.error(E)}r.current&&(r.current.onfinish=()=>{r.current=void 0,h==null||h()})}}o.current=void 0}),{prepareAnimation:c=>{o.current=c},isAnimationPlaying:()=>{var c;return((c=r.current)===null||c===void 0?void 0:c.playState)==="running"}}}function an(){const e=n.useRef(null),t=n.useRef(),[o,r]=n.useState();return{setContainerRef:n.useCallback(c=>{e.current=c,t.current&&(t.current.disconnect(),t.current=void 0);const i=()=>{if(c){const l=window.getComputedStyle(c),a=d=>parseFloat(d)||0;r({width:Math.round(c.clientWidth-a(l.paddingLeft)-a(l.paddingRight)),height:Math.round(c.clientHeight-a(l.paddingTop)-a(l.paddingBottom))})}else r(void 0)};i(),c&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(i),t.current.observe(c))},[]),containerRef:e,containerRect:o}}function pt(){const e=n.useRef(),{setTimeout:t,clearTimeout:o}=ct();return n.useCallback((r,s)=>{o(e.current),e.current=t(r,s>0?s:0)},[t,o])}function F(e){const t=n.useRef(e);return de(()=>{t.current=e}),n.useCallback((...o)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...o)},[])}function Tn(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function In(e,t){return n.useMemo(()=>e==null&&t==null?null:o=>{Tn(e,o),Tn(t,o)},[e,t])}function ko(e,t=!1){const o=n.useRef();de(()=>{t&&o.current&&(o.current=!1,e())},[t,e]);const r=n.useCallback(()=>{o.current=!0},[]),s=n.useCallback(()=>{o.current=!1},[]);return{onFocus:r,onBlur:s}}function Ct(){const[e,t]=n.useState(!1);return de(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Do(){const[e]=n.useState({}),t=n.useCallback((s,c)=>{var i;(i=e[s])===null||i===void 0||i.forEach(l=>{c.isPropagationStopped()||l(c)})},[e]),o=n.useMemo(()=>({onPointerDown:s=>t(po,s),onPointerMove:s=>t(vo,s),onPointerUp:s=>t(go,s),onPointerLeave:s=>t(bo,s),onPointerCancel:s=>t(Eo,s),onKeyDown:s=>t(tn,s),onKeyUp:s=>t(rs,s),onWheel:s=>t(nn,s)}),[t]),r=n.useCallback((s,c)=>(e[s]||(e[s]=[]),e[s].unshift(c),()=>{const i=e[s];i&&i.splice(0,i.length,...i.filter(l=>l!==c))}),[e]);return{registerSensors:o,subscribeSensors:r}}function Ln(e,t){const o=n.useRef(0),r=pt(),s=F((...c)=>{o.current=Date.now(),e(c)});return n.useCallback((...c)=>{r(()=>{s(c)},t-(Date.now()-o.current))},[t,s,r])}const Mt=$e("slide"),Nt=$e("slide_image");function ot({slide:e,offset:t,render:o,rect:r,imageFit:s,imageProps:c,onClick:i,onLoad:l,style:a}){var d,u,h,E,f,m,w;const[v,b]=n.useState(Ze),{publish:g}=We(),{setTimeout:I}=ct(),P=n.useRef(null);n.useEffect(()=>{t===0&&g(rt(v))},[t,v,g]);const x=F(A=>{("decode"in A?A.decode():Promise.resolve()).catch(()=>{}).then(()=>{A.parentNode&&(b(Je),I(()=>{l==null||l(A)},0))})}),S=n.useCallback(A=>{P.current=A,A!=null&&A.complete&&x(A)},[x]),O=n.useCallback(A=>{x(A.currentTarget)},[x]),y=n.useCallback(()=>{b(Ge)},[]),R=sn(e,s),_=(A,Y)=>Number.isFinite(A)?A:Y,L=_(Math.max(...((u=(d=e.srcSet)===null||d===void 0?void 0:d.map(A=>A.width))!==null&&u!==void 0?u:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((h=P.current)===null||h===void 0?void 0:h.naturalWidth)||0),W=_(Math.max(...((f=(E=e.srcSet)===null||E===void 0?void 0:E.map(A=>A.height))!==null&&f!==void 0?f:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((m=P.current)===null||m===void 0?void 0:m.naturalHeight)||0),p=L&&W?{maxWidth:`min(${L}px, 100%)`,maxHeight:`min(${W}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},N=(w=e.srcSet)===null||w===void 0?void 0:w.sort((A,Y)=>A.width-Y.width).map(A=>`${A.src} ${A.width}w`).join(", "),U=()=>r&&!R&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,T=N&&r&&on()?`${Math.round(Math.min(U(),r.width))}px`:void 0,{style:k,className:Z,...K}=c||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:S,onLoad:O,onError:y,onClick:i,draggable:!1,className:ee(M(Nt()),R&&M(Nt("cover")),v!==Je&&M(Nt("loading")),Z),style:{...p,...a,...k},...K,alt:e.alt,sizes:T,srcSet:N,src:e.src}),v!==Je&&n.createElement("div",{className:M(Mt(ts))},v===Ze&&(o!=null&&o.iconLoading?o.iconLoading():n.createElement(_s,{className:ee(M(gt),M(Mt(Ze)))})),v===Ge&&(o!=null&&o.iconError?o.iconError():n.createElement(Cs,{className:ee(M(gt),M(Mt(Ge)))}))))}var oe;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(oe||(oe={}));function Ao(e,t,o,r,s){n.useEffect(()=>s?()=>{}:st(e(po,t),e(vo,o),e(go,r),e(bo,r),e(Eo,r)),[e,t,o,r,s])}var pe;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(pe||(pe={}));const Ot=30;function ys(e,t,o,r,s,c,i,l,a,d,u,h,E,f){const m=n.useRef(0),w=n.useRef([]),v=n.useRef(),b=n.useRef(0),g=n.useRef(pe.NONE),I=n.useCallback(R=>{v.current===R.pointerId&&(v.current=void 0,g.current=pe.NONE);const _=w.current;_.splice(0,_.length,..._.filter(L=>L.pointerId!==R.pointerId))},[]),P=n.useCallback(R=>{I(R),R.persist(),w.current.push(R)},[I]),x=F(R=>{P(R)}),S=(R,_)=>d&&R>_||a&&R<-_,O=F(R=>{if(w.current.find(_=>_.pointerId===R.pointerId)&&v.current===R.pointerId){const _=Date.now()-b.current,L=m.current;g.current===pe.SWIPE?Math.abs(L)>.3*o||Math.abs(L)>5&&_<r?i(L,_):l(L):g.current===pe.PULL&&(S(L,2*Ot)?E(L,_):f(L)),m.current=0,g.current=pe.NONE}I(R)}),y=F(R=>{const _=w.current.find(L=>L.pointerId===R.pointerId);if(_){const L=v.current===R.pointerId;if(R.buttons===0){L&&m.current!==0?O(R):I(_);return}const W=R.clientX-_.clientX,p=R.clientY-_.clientY;if(v.current===void 0){const N=U=>{P(R),v.current=R.pointerId,b.current=Date.now(),g.current=U};Math.abs(W)>Math.abs(p)&&Math.abs(W)>Ot&&t(W)?(N(pe.SWIPE),s()):Math.abs(p)>Math.abs(W)&&S(p,Ot)&&(N(pe.PULL),u())}else L&&(g.current===pe.SWIPE?(m.current=W,c(W)):g.current===pe.PULL&&(m.current=p,h(p)))}});Ao(e,x,y,O)}const Mn="wheel";function Nn(e){(Math.abs(e.deltaX)>Math.abs(e.deltaY)||e.ctrlKey)&&e.preventDefault()}function Ss(){const e=n.useRef(null);return n.useCallback(t=>{var o;t?t.addEventListener(Mn,Nn,{passive:!1}):(o=e.current)===null||o===void 0||o.removeEventListener(Mn,Nn),e.current=t},[])}function Rs(e,t,o,r,s,c,i,l,a){const d=n.useRef(0),u=n.useRef(0),h=n.useRef(),E=n.useRef(),f=n.useRef(0),m=n.useRef(0),{setTimeout:w,clearTimeout:v}=ct(),b=n.useCallback(()=>{h.current&&(v(h.current),h.current=void 0)},[v]),g=n.useCallback(()=>{E.current&&(v(E.current),E.current=void 0)},[v]),I=F(()=>{e!==oe.SWIPE&&(d.current=0,m.current=0,b(),g())});n.useEffect(I,[e,I]);const P=F(S=>{E.current=void 0,d.current===S&&a(d.current)}),x=F(S=>{if(!S.ctrlKey&&!(Math.abs(S.deltaY)>Math.abs(S.deltaX)))if(e===oe.NONE){if(Math.abs(S.deltaX)<=1.2*Math.abs(f.current)){f.current=S.deltaX;return}if(!o(-S.deltaX))return;if(u.current+=S.deltaX,b(),Math.abs(u.current)>30)u.current=0,f.current=0,m.current=Date.now(),c();else{const O=u.current;h.current=w(()=>{h.current=void 0,O===u.current&&(u.current=0)},s)}}else if(e===oe.SWIPE){let O=d.current-S.deltaX;if(O=Math.min(Math.abs(O),r)*Math.sign(O),d.current=O,i(O),g(),Math.abs(O)>.2*r){f.current=S.deltaX,l(O,Date.now()-m.current);return}E.current=w(()=>P(O),2*s)}else f.current=S.deltaX});n.useEffect(()=>t(nn,x),[t,x])}const On=$e("container"),Fo=n.createContext(null),he=ve("useController","ControllerContext",Fo);function Ps({children:e,...t}){var o;const{carousel:r,animation:s,controller:c,on:i,styles:l,render:a}=t,[d,u]=n.useState(),h=ge(),E=ms(),[f,m]=n.useState(oe.NONE),w=n.useRef(0),v=n.useRef(0),b=n.useRef(1),{registerSensors:g,subscribeSensors:I}=Do(),{subscribe:P,publish:x}=We(),S=pt(),O=pt(),y=pt(),{containerRef:R,setContainerRef:_,containerRect:L}=an(),W=In(Ss(),_),p=n.useRef(null),N=In(p,void 0),U=Ct(),T=C=>(U?-1:1)*(typeof C=="number"?C:1),k=F(()=>{var C;return(C=R.current)===null||C===void 0?void 0:C.focus()}),Z=F(()=>t),K=F(()=>h),A=n.useCallback(C=>x(Re,C),[x]),Y=n.useCallback(C=>x(Pe,C),[x]),ne=n.useCallback(()=>x(Xe),[x]),Ce=C=>!(r.finite&&(T(C)>0&&h.currentIndex===0||T(C)<0&&h.currentIndex===h.slides.length-1)),Ye=C=>{var D;w.current=C,(D=R.current)===null||D===void 0||D.style.setProperty(H("swipe_offset"),`${Math.round(C)}px`)},{closeOnPullUp:xe,closeOnPullDown:Me}=c,Ue=C=>{var D,B;v.current=C,b.current=(()=>{const Se=(()=>Me&&C>0?C:xe&&C<0?-C:0)();return Math.min(Math.max(rn(1-Se/60*(1-.5),2),.5),1)})(),(D=R.current)===null||D===void 0||D.style.setProperty(H("pull_offset"),`${Math.round(C)}px`),(B=R.current)===null||B===void 0||B.style.setProperty(H("pull_opacity"),`${b.current}`)},{prepareAnimation:yt}=jt(p,(C,D,B)=>{if(p.current&&L)return{keyframes:[{transform:`translate(0, ${C.rect.y-D.y+B.y}px)`,opacity:C.opacity},{transform:"translate(0, 0)",opacity:1}],duration:C.duration,easing:s.easing.fade}}),lt=(C,D)=>{if(xe||Me){Ue(C);let B=0;p.current&&(B=s.fade*(D?2:1),yt({rect:p.current.getBoundingClientRect(),opacity:b.current,duration:B})),y(()=>{Ue(0),m(oe.NONE)},B),m(oe.ANIMATION),D||ne()}},{prepareAnimation:Ne,isAnimationPlaying:at}=jt(p,(C,D,B)=>{var ae;if(p.current&&L&&(!((ae=h.animation)===null||ae===void 0)&&ae.duration)){const re=bt(r.spacing),Se=(re.percent?re.percent*L.width/100:re.pixel)||0;return{keyframes:[{transform:`translate(${T(h.globalIndex-C.index)*(L.width+Se)+C.rect.x-D.x+B.x}px, 0)`},{transform:"translate(0, 0)"}],duration:h.animation.duration,easing:h.animation.easing}}}),$=F(C=>{var D,B;const ae=C.offset||0,re=ae?s.swipe:(D=s.navigation)!==null&&D!==void 0?D:s.swipe,Se=!ae&&!at()?s.easing.navigation:s.easing.swipe;let{direction:te}=C;const ie=(B=C.count)!==null&&B!==void 0?B:1;let Oe=oe.ANIMATION,ue=re*ie;if(!te){const Ke=L==null?void 0:L.width,mn=C.duration||0,St=Ke?re/Ke*Math.abs(ae):re;ie!==0?(mn<St?ue=ue/St*Math.max(mn,St/5):Ke&&(ue=re/Ke*(Ke-Math.abs(ae))),te=T(ae)>0?Re:Pe):ue=re/2}let ke=0;te===Re?Ce(T(1))?ke=-ie:(Oe=oe.NONE,ue=re):te===Pe&&(Ce(T(-1))?ke=ie:(Oe=oe.NONE,ue=re)),ue=Math.round(ue),O(()=>{Ye(0),m(oe.NONE)},ue),p.current&&Ne({rect:p.current.getBoundingClientRect(),index:h.globalIndex}),m(Oe),x(Zt,{type:"swipe",increment:ke,duration:ue,easing:Se})});n.useEffect(()=>{var C,D;!((C=h.animation)===null||C===void 0)&&C.increment&&(!((D=h.animation)===null||D===void 0)&&D.duration)&&S(()=>E({type:"swipe",increment:0}),h.animation.duration)},[h.animation,E,S]);const z=[I,Ce,(L==null?void 0:L.width)||0,s.swipe,()=>m(oe.SWIPE),C=>Ye(C),(C,D)=>$({offset:C,duration:D,count:1}),C=>$({offset:C,count:0})],q=[()=>{Me&&m(oe.PULL)},C=>Ue(C),C=>lt(C),C=>lt(C,!0)];ys(...z,xe,Me,...q),Rs(f,...z);const X=F(()=>{c.focus&&document.querySelector(`.${M(Jt)} .${M(On())}`)&&k()});n.useEffect(X,[X]);const le=F(()=>{var C;(C=i.view)===null||C===void 0||C.call(i,{index:h.currentIndex})});n.useEffect(le,[h.globalIndex,le]),n.useEffect(()=>st(P(Re,C=>$({direction:Re,...C})),P(Pe,C=>$({direction:Pe,...C})),P(Zt,C=>E(C))),[P,$,E]);const ye=n.useMemo(()=>({prev:A,next:Y,close:ne,focus:k,slideRect:L?us(L,r.padding):{width:0,height:0},containerRect:L||{width:0,height:0},subscribeSensors:I,containerRef:R,setCarouselRef:N,toolbarWidth:d,setToolbarWidth:u}),[A,Y,ne,k,I,L,R,N,d,u,r.padding]);return n.useImperativeHandle(c.ref,()=>({prev:A,next:Y,close:ne,focus:k,getLightboxProps:Z,getLightboxState:K}),[A,Y,ne,k,Z,K]),n.createElement("div",{ref:W,className:ee(M(On()),M(Fe)),style:{...f===oe.SWIPE?{[H("swipe_offset")]:`${Math.round(w.current)}px`}:null,...f===oe.PULL?{[H("pull_offset")]:`${Math.round(v.current)}px`,[H("pull_opacity")]:`${b.current}`}:null,...c.touchAction!=="none"?{[H("controller_touch_action")]:c.touchAction}:null,...l.container},...c.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...g},L&&n.createElement(Fo.Provider,{value:ye},e,(o=a.controls)===null||o===void 0?void 0:o.call(a)))}const Ts=fe(wt,Ps);function De(e){return Ve(lo,e)}function kn(e){return Ve("slide",e)}function kt({slide:e,offset:t}){const o=n.useRef(null),{currentIndex:r}=ge(),{slideRect:s,close:c}=he(),{render:i,carousel:{imageFit:l,imageProps:a},on:{click:d},controller:{closeOnBackdropClick:u},styles:{slide:h}}=j(),E=()=>{var m,w,v,b;let g=(m=i.slide)===null||m===void 0?void 0:m.call(i,{slide:e,offset:t,rect:s});return!g&&je(e)&&(g=n.createElement(ot,{slide:e,offset:t,render:i,rect:s,imageFit:l,imageProps:a,onClick:t===0?()=>d==null?void 0:d({index:r}):void 0})),g?n.createElement(n.Fragment,null,(w=i.slideHeader)===null||w===void 0?void 0:w.call(i,{slide:e}),((v=i.slideContainer)!==null&&v!==void 0?v:({children:I})=>I)({slide:e,children:g}),(b=i.slideFooter)===null||b===void 0?void 0:b.call(i,{slide:e})):null},f=m=>{const w=o.current,v=m.target instanceof HTMLElement?m.target:void 0;u&&v&&w&&(v===w||Array.from(w.children).find(b=>b===v)&&v.classList.contains(M(en)))&&c()};return n.createElement("div",{ref:o,className:ee(M(kn()),t===0&&M(kn("current")),M(Fe)),onClick:f,style:h},E())}function Dn(){const e=j().styles.slide;return n.createElement("div",{className:M("slide"),style:e})}function Is({carousel:e}){const{slides:t,currentIndex:o,globalIndex:r}=ge(),{setCarouselRef:s}=he(),c=bt(e.spacing),i=bt(e.padding),l=[],a=yo(e,t,1);if(cn(t)){for(let d=o-a;d<o;d+=1){const u=r+d-o;l.push(!e.finite||d>=0?n.createElement(kt,{key:u,slide:t[(d+a*t.length)%t.length],offset:d-o}):n.createElement(Dn,{key:u}))}l.push(n.createElement(kt,{key:r,slide:t[o],offset:0}));for(let d=o+1;d<=o+a;d+=1){const u=r+d-o;l.push(!e.finite||d<=t.length-1?n.createElement(kt,{key:u,slide:t[d%t.length],offset:d-o}):n.createElement(Dn,{key:u}))}}return n.createElement("div",{ref:s,className:ee(M(De()),l.length>0&&M(De("with_slides"))),style:{[`${H(De("slides_count"))}`]:l.length,[`${H(De("spacing_px"))}`]:c.pixel||0,[`${H(De("spacing_percent"))}`]:c.percent||0,[`${H(De("padding_px"))}`]:i.pixel||0,[`${H(De("padding_percent"))}`]:i.percent||0}},l)}const Ls=fe(lo,Is);function Vo(){const{carousel:e}=j(),{slides:t,currentIndex:o}=ge(),r=t.length===0||e.finite&&o===0,s=t.length===0||e.finite&&o===t.length-1;return{prevDisabled:r,nextDisabled:s}}function $o(e){var t;const o=Ct(),{publish:r}=We(),{animation:s}=j(),{prevDisabled:c,nextDisabled:i}=Vo(),l=((t=s.navigation)!==null&&t!==void 0?t:s.swipe)/2,a=Ln(()=>r(Re),l),d=Ln(()=>r(Pe),l),u=F(h=>{switch(h.key){case ss:r(Xe);break;case is:(o?i:c)||(o?d:a)();break;case cs:(o?c:i)||(o?a:d)();break}});n.useEffect(()=>e(tn,u),[e,u])}function An({label:e,icon:t,renderIcon:o,action:r,onClick:s,disabled:c,style:i}){return n.createElement(He,{label:e,icon:t,renderIcon:o,className:M(`navigation_${r}`),disabled:c,onClick:s,style:i,...ko(he().focus,c)})}function Ms({render:{buttonPrev:e,buttonNext:t,iconPrev:o,iconNext:r},styles:s}){const{prev:c,next:i,subscribeSensors:l}=he(),{prevDisabled:a,nextDisabled:d}=Vo();return $o(l),n.createElement(n.Fragment,null,e?e():n.createElement(An,{label:"Previous",action:Re,icon:Es,renderIcon:o,style:s.navigationPrev,disabled:a,onClick:c}),t?t():n.createElement(An,{label:"Next",action:Pe,icon:ws,renderIcon:r,style:s.navigationNext,disabled:d,onClick:i}))}const Ns=fe(Jr,Ms),Fn=M(os),Os=M(mo);function ks(e){return"style"in e}function Vn(e,t,o){const r=window.getComputedStyle(e),s=o?"padding-left":"padding-right",c=o?r.paddingLeft:r.paddingRight,i=e.style.getPropertyValue(s);return e.style.setProperty(s,`${(_t(c)||0)+t}px`),()=>{i?e.style.setProperty(s,i):e.style.removeProperty(s)}}function Ds({noScroll:{disabled:e},children:t}){const o=Ct();return de(()=>{if(e)return()=>{};const r=[],{body:s,documentElement:c}=document,i=Math.round(window.innerWidth-c.clientWidth);if(i>0){r.push(Vn(s,i,o));const l=s.getElementsByTagName("*");for(let a=0;a<l.length;a+=1){const d=l[a];ks(d)&&window.getComputedStyle(d).getPropertyValue("position")==="fixed"&&!d.classList.contains(Os)&&r.push(Vn(d,i,o))}}return s.classList.add(Fn),()=>{s.classList.remove(Fn),r.forEach(l=>l())}},[o,e]),n.createElement(n.Fragment,null,t)}const As=fe(Qr,Ds);function $n(e){return Ve(Jt,e)}function Wn(e,t,o){const r=e.getAttribute(t);return e.setAttribute(t,o),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function Fs({children:e,animation:t,styles:o,className:r,on:s,portal:c,close:i}){const[l,a]=n.useState(!1),[d,u]=n.useState(!1),h=n.useRef([]),E=n.useRef(null),{setTimeout:f}=ct(),{subscribe:m}=We(),v=ln()?0:t.fade;n.useEffect(()=>(a(!0),()=>{a(!1),u(!1)}),[]);const b=F(()=>{h.current.forEach(x=>x()),h.current=[]}),g=F(()=>{var x;u(!1),b(),(x=s.exiting)===null||x===void 0||x.call(s),f(()=>{var S;(S=s.exited)===null||S===void 0||S.call(s),i()},v)});n.useEffect(()=>m(Xe,g),[m,g]);const I=F(x=>{var S,O,y;x.scrollTop,u(!0),(S=s.entering)===null||S===void 0||S.call(s);const R=(y=(O=x.parentNode)===null||O===void 0?void 0:O.children)!==null&&y!==void 0?y:[];for(let _=0;_<R.length;_+=1){const L=R[_];["TEMPLATE","SCRIPT","STYLE"].indexOf(L.tagName)===-1&&L!==x&&(h.current.push(Wn(L,"inert","true")),h.current.push(Wn(L,"aria-hidden","true")))}h.current.push(()=>{var _,L;(L=(_=E.current)===null||_===void 0?void 0:_.focus)===null||L===void 0||L.call(_)}),f(()=>{var _;(_=s.entered)===null||_===void 0||_.call(s)},v)}),P=n.useCallback(x=>{x?I(x):b()},[I,b]);return l?ur.createPortal(n.createElement("div",{ref:P,className:ee(r,M("root"),M($n()),M(mo),d&&M($n("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==Xt.animation.fade?{[H("fade_animation_duration")]:`${v}ms`}:null,...t.easing.fade!==Xt.animation.easing.fade?{[H("fade_animation_timing_function")]:t.easing.fade}:null,...o.root},onFocus:x=>{E.current||(E.current=x.relatedTarget)}},e),c.root||document.body):null}const Vs=fe(Jt,Fs);function $s({children:e}){return n.createElement(n.Fragment,null,e)}const Ws=fe(es,$s);function Hs(e){return Ve(ao,e)}function Us({toolbar:{buttons:e},render:{buttonClose:t,iconClose:o},styles:r}){const{close:s,setToolbarWidth:c}=he(),{setContainerRef:i,containerRect:l}=an();de(()=>{c(l==null?void 0:l.width)},[c,l==null?void 0:l.width]);const a=()=>t?t():n.createElement(He,{key:Xe,label:"Close",icon:bs,renderIcon:o,onClick:s});return n.createElement("div",{ref:i,style:r.toolbar,className:M(Hs())},e==null?void 0:e.map(d=>d===Xe?a():d))}const zs=fe(ao,Us);function Wo(e,t){var o;return n.createElement(e.module.component,{key:e.module.name,...t},(o=e.children)===null||o===void 0?void 0:o.map(r=>Wo(r,t)))}function Zs(e,t={}){const{easing:o,...r}=e,{easing:s,...c}=t;return{easing:{...o,...s},...r,...c}}function Bs({carousel:e,animation:t,render:o,toolbar:r,controller:s,noScroll:c,on:i,plugins:l,slides:a,index:d,...u}){const{animation:h,carousel:E,render:f,toolbar:m,controller:w,noScroll:v,on:b,slides:g,index:I,plugins:P,...x}=Xt,{config:S,augmentation:O}=fs([J(Vs,[J(As,[J(Ts,[J(Ls),J(zs),J(Ns)])])])],l||P),y=O({animation:Zs(h,t),carousel:{...E,...e},render:{...f,...o},toolbar:{...m,...r},controller:{...w,...s},noScroll:{...v,...c},on:{...b,...i},...x,...u});return y.open?n.createElement(To,{...y},n.createElement(vs,{slides:a||g,index:_t(d||I)},n.createElement(gs,null,n.createElement(hs,null,Wo(J(Ws,S),y))))):null}function Ki(e){const[t,o]=n.useState(-1),r=n.useCallback(c=>{const i=e.findIndex(l=>l.type==="video"?l.poster===c:l.src===c);o(i)},[e]),s=n.useCallback(()=>{o(-1)},[]);return{selected:t,open:t>=0,onOpen:r,onClose:s,setSelected:o}}const Xs={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},Ho=e=>({...Xs,...e});function js(e,t,o,r){const s=n.useRef(),c=n.useRef(),{zoom:i}=j().animation,l=ln(),a=F(()=>{var d,u,h;if((d=s.current)===null||d===void 0||d.cancel(),s.current=void 0,c.current&&(r!=null&&r.current)){try{s.current=(h=(u=r.current).animate)===null||h===void 0?void 0:h.call(u,[{transform:c.current},{transform:`scale(${e}) translateX(${t}px) translateY(${o}px)`}],{duration:l?0:i??500,easing:s.current?"ease-out":"ease-in-out"})}catch(E){console.error(E)}c.current=void 0,s.current&&(s.current.onfinish=()=>{s.current=void 0})}});return de(a,[e,t,o,a]),n.useCallback(()=>{c.current=r!=null&&r.current?window.getComputedStyle(r.current).transform:void 0},[r])}function Ys(e,t){const{on:o}=j(),r=F(()=>{var s;t||(s=o.zoom)===null||s===void 0||s.call(o,{zoom:e})});n.useEffect(r,[e,r])}function xt(){const{zoom:e}=j();return Ho(e)}function Ks(e,t){var o,r;let s={width:0,height:0},c={width:0,height:0};const{currentSlide:i}=ge(),{imageFit:l}=j().carousel,{maxZoomPixelRatio:a}=xt();if(e&&i){const u={...i,...t};if(je(u)){const h=sn(u,l),E=Math.max(...(((o=u.srcSet)===null||o===void 0?void 0:o.map(m=>m.width))||[]).concat(u.width?[u.width]:[])),f=Math.max(...(((r=u.srcSet)===null||r===void 0?void 0:r.map(m=>m.height))||[]).concat(u.height?[u.height]:[]));E>0&&f>0&&e.width>0&&e.height>0&&(c=h?{width:Math.round(Math.min(E,e.width/e.height*f)),height:Math.round(Math.min(f,e.height/e.width*E))}:{width:E,height:f},c={width:c.width*a,height:c.height*a},s=h?{width:Math.min(e.width,c.width,E),height:Math.min(e.height,c.height,f)}:{width:Math.round(Math.min(e.width,e.height/f*E,E)),height:Math.round(Math.min(e.height,e.width/E*f,f))})}}const d=s.width?Math.max(rn(c.width/s.width,5),1):1;return{imageRect:s,maxZoom:d}}function Hn(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function qs(e,t,o,r,s,c){const i=n.useRef([]),l=n.useRef(0),a=n.useRef(),{globalIndex:d}=ge(),{containerRef:u,subscribeSensors:h}=he(),{keyboardMoveDistance:E,zoomInMultiplier:f,wheelZoomDistanceFactor:m,scrollToZoom:w,doubleTapDelay:v,doubleClickDelay:b,doubleClickMaxStops:g,pinchZoomDistanceFactor:I}=xt(),P=n.useCallback(p=>{if(u.current){const{pageX:N,pageY:U}=p,{scrollX:T,scrollY:k}=window,{left:Z,top:K,width:A,height:Y}=u.current.getBoundingClientRect();return[N-Z-T-A/2,U-K-k-Y/2]}return[]},[u]),x=F(p=>{const N=()=>{p.preventDefault(),p.stopPropagation()};if(e>1){const k=(Z,K)=>{N(),s(Z,K)};p.key==="ArrowDown"?k(0,E):p.key==="ArrowUp"?k(0,-E):p.key==="ArrowLeft"?k(-E,0):p.key==="ArrowRight"&&k(E,0)}const U=k=>{N(),r(k)},T=()=>p.getModifierState("Meta");p.key==="+"||p.key==="="&&T()?U(e*f):p.key==="-"||p.key==="_"&&T()?U(e/f):p.key==="0"&&T()&&U(1)}),S=F(p=>{if((p.ctrlKey||w)&&Math.abs(p.deltaY)>Math.abs(p.deltaX)){p.stopPropagation(),r(e*(1-p.deltaY/m),!0,...P(p));return}e>1&&(p.stopPropagation(),w||s(p.deltaX,p.deltaY))}),O=n.useCallback(p=>{const N=i.current;N.splice(0,N.length,...N.filter(U=>U.pointerId!==p.pointerId))},[]),y=n.useCallback(p=>{O(p),p.persist(),i.current.push(p)},[O]),R=F(p=>{var N;const U=i.current;if(!(!((N=c==null?void 0:c.current)===null||N===void 0)&&N.contains(p.target)))return;e>1&&p.stopPropagation();const{timeStamp:T}=p;U.length===0&&T-l.current<(p.pointerType==="touch"?v:b)?(l.current=0,r(e!==t?e*Math.max(t**(1/g),f):1,!1,...P(p))):l.current=T,y(p),U.length===2&&(a.current=Hn(U[0],U[1]))}),_=F(p=>{const N=i.current,U=N.find(T=>T.pointerId===p.pointerId);if(N.length===2&&a.current){p.stopPropagation(),y(p);const T=Hn(N[0],N[1]),k=T-a.current;Math.abs(k)>0&&(r(e*(1+k/I),!0,...N.map(Z=>P(Z)).reduce((Z,K)=>K.map((A,Y)=>Z[Y]+A/2))),a.current=T);return}e>1&&(p.stopPropagation(),U&&(N.length===1&&s((U.clientX-p.clientX)/e,(U.clientY-p.clientY)/e),y(p)))}),L=n.useCallback(p=>{const N=i.current;N.length===2&&N.find(U=>U.pointerId===p.pointerId)&&(a.current=void 0),O(p)},[O]),W=n.useCallback(()=>{const p=i.current;p.splice(0,p.length),l.current=0,a.current=void 0},[]);Ao(h,R,_,L,o),n.useEffect(W,[d,W]),n.useEffect(()=>o?()=>{}:st(W,h(tn,x),h(nn,S)),[o,h,W,x,S])}function Gs(e,t,o){const[r,s]=n.useState(1),[c,i]=n.useState(0),[l,a]=n.useState(0),d=js(r,c,l,o),{currentSlide:u,globalIndex:h}=ge(),{containerRect:E,slideRect:f}=he(),{zoomInMultiplier:m}=xt(),w=u&&je(u)?u.src:void 0,v=!w||!(o!=null&&o.current);de(()=>{s(1),i(0),a(0)},[h,w]);const b=n.useCallback((S,O,y)=>{const R=y||r,_=c-(S||0),L=l-(O||0),W=(e.width*R-f.width)/2/R,p=(e.height*R-f.height)/2/R;i(Math.min(Math.abs(_),Math.max(W,0))*Math.sign(_)),a(Math.min(Math.abs(L),Math.max(p,0))*Math.sign(L))},[r,c,l,f,e.width,e.height]),g=n.useCallback((S,O,y,R)=>{const _=rn(Math.min(Math.max(S+.001<t?S:t,1),t),5);_!==r&&(O||d(),b(y?y*(1/r-1/_):0,R?R*(1/r-1/_):0,_),s(_))},[r,t,b,d]),I=F(()=>{r>1&&(r>t&&g(t,!0),b())});de(I,[E.width,E.height,I]);const P=n.useCallback(()=>g(r*m),[r,m,g]),x=n.useCallback(()=>g(r/m),[r,m,g]);return{zoom:r,offsetX:c,offsetY:l,disabled:v,changeOffsets:b,changeZoom:g,zoomIn:P,zoomOut:x}}const Uo=n.createContext(null),un=ve("useZoom","ZoomControllerContext",Uo);function Js({children:e}){const[t,o]=n.useState(),{slideRect:r}=he(),{imageRect:s,maxZoom:c}=Ks(r,t==null?void 0:t.imageDimensions),{zoom:i,offsetX:l,offsetY:a,disabled:d,changeZoom:u,changeOffsets:h,zoomIn:E,zoomOut:f}=Gs(s,c,t==null?void 0:t.zoomWrapperRef);Ys(i,d),qs(i,c,d,u,h,t==null?void 0:t.zoomWrapperRef);const m=n.useMemo(()=>({zoom:i,maxZoom:c,offsetX:l,offsetY:a,disabled:d,zoomIn:E,zoomOut:f,changeZoom:u}),[i,c,l,a,d,E,f,u]);n.useImperativeHandle(xt().ref,()=>m,[m]);const w=n.useMemo(()=>({...m,setZoomWrapper:o}),[m,o]);return n.createElement(Uo.Provider,{value:w},e)}const Qs=se("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),ei=se("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),Un=n.forwardRef(function({zoomIn:t,onLoseFocus:o},r){const s=n.useRef(!1),c=n.useRef(!1),{zoom:i,maxZoom:l,zoomIn:a,zoomOut:d,disabled:u}=un(),{render:h}=j(),E=u||(t?i>=l:i<=1);return n.useEffect(()=>{E&&s.current&&c.current&&o(),E||(s.current=!0)},[E,o]),n.createElement(He,{ref:r,disabled:E,label:t?"Zoom in":"Zoom out",icon:t?Qs:ei,renderIcon:t?h.iconZoomIn:h.iconZoomOut,onClick:t?a:d,onFocus:()=>{c.current=!0},onBlur:()=>{c.current=!1}})});function ti(){const e=n.useRef(null),t=n.useRef(null),{focus:o}=he(),r=n.useCallback(i=>{var l,a;!((l=i.current)===null||l===void 0)&&l.disabled?o():(a=i.current)===null||a===void 0||a.focus()},[o]),s=n.useCallback(()=>r(e),[r]),c=n.useCallback(()=>r(t),[r]);return n.createElement(n.Fragment,null,n.createElement(Un,{zoomIn:!0,ref:e,onLoseFocus:c}),n.createElement(Un,{ref:t,onLoseFocus:s}))}function ni(){const{render:e}=j(),t=un();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(ti,null)}function oi(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function ri({current:e,preload:t},{type:o,source:r}){switch(o){case"fetch":return e?{current:e,preload:r}:{current:r};case"done":return r===t?{current:r}:{current:e,preload:t};default:throw new Error(_o)}}function si(e){var t,o;const[{current:r,preload:s},c]=n.useReducer(ri,{}),{slide:i,rect:l,imageFit:a,render:d}=e,u=i.srcSet.sort((P,x)=>P.width-x.width),h=(t=i.width)!==null&&t!==void 0?t:u[u.length-1].width,E=(o=i.height)!==null&&o!==void 0?o:u[u.length-1].height,f=sn(i,a),m=Math.max(...u.map(P=>P.width)),w=Math.min((f?Math.max:Math.min)(l.width,h*(l.height/E)),m),v=ds(),b=F(()=>{var P;const x=(P=u.find(S=>S.width>=w*v))!==null&&P!==void 0?P:u[u.length-1];(!r||u.findIndex(S=>S.src===r)<u.findIndex(S=>S===x))&&c({type:"fetch",source:x.src})});de(b,[l.width,l.height,v,b]);const g=F(P=>c({type:"done",source:P})),I={WebkitTransform:"translateZ(0)"};return f||Object.assign(I,l.width/l.height<h/E?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,s&&s!==r&&n.createElement(ot,{key:"preload",...e,slide:{...i,src:s,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...I},onLoad:()=>g(s),render:{...d,iconLoading:()=>null,iconError:()=>null}}),r&&n.createElement(ot,{key:"current",...e,slide:{...i,src:r,srcSet:void 0},style:I}))}function ii({render:e,slide:t,offset:o,rect:r}){var s;const[c,i]=n.useState(),l=n.useRef(null),{zoom:a,maxZoom:d,offsetX:u,offsetY:h,setZoomWrapper:E}=un(),{carousel:f,on:m}=j(),{currentIndex:w}=ge();de(()=>o===0?(E({zoomWrapperRef:l,imageDimensions:c}),()=>E(void 0)):()=>{},[o,c,E]);let v=(s=e.slide)===null||s===void 0?void 0:s.call(e,{slide:t,offset:o,rect:r,zoom:a,maxZoom:d});if(!v&&je(t)){const b={slide:t,offset:o,rect:r,render:e,imageFit:f.imageFit,imageProps:f.imageProps,onClick:o===0?()=>{var g;return(g=m.click)===null||g===void 0?void 0:g.call(m,{index:w})}:void 0};v=oi(t)?n.createElement(si,{key:t.src,...b,slide:t,rect:o===0?{width:r.width*a,height:r.height*a}:r}):n.createElement(ot,{key:t.src,onLoad:g=>i({width:g.naturalWidth,height:g.naturalHeight}),...b})}return v?n.createElement("div",{ref:l,className:ee(M(Qt),M(Fe),M(en)),style:o===0?{transform:`scale(${a}) translateX(${u}px) translateY(${h}px)`}:void 0},v):null}const zn=({augment:e,addModule:t})=>{e(({toolbar:o,render:r,zoom:s,...c})=>({zoom:Ho(s),toolbar:it(o,Rn,n.createElement(ni,null)),render:{...r,slide:i=>{var l;return je(i.slide)?n.createElement(ii,{render:r,...i}):(l=r.slide)===null||l===void 0?void 0:l.call(r,i)}},...c})),t(fe(Rn,Js))},ci={controls:!0,playsInline:!0},zo=e=>({...ci,...e});function li(){const{video:e}=j();return zo(e)}function ai({slide:e,offset:t}){const o=li(),{publish:r}=We(),{setContainerRef:s,containerRect:c}=an(),i=n.useRef(null);n.useEffect(()=>{t!==0&&i.current&&!i.current.paused&&i.current.pause()},[t]),n.useEffect(()=>{t===0&&i.current&&(e.autoPlay||o.autoPlay)&&(r(uo),i.current.play().catch(()=>{}))},[t,o.autoPlay,e.autoPlay,r]);const l=F(v=>{t===0&&(o.autoPlay||e.autoPlay)&&v.paused&&v.play().catch(()=>{})}),a=n.useCallback(v=>{i.current=v,v&&l(v)},[l]),{width:d,height:u,poster:h,sources:E}=e,f=()=>{const v={};if(v.style={maxWidth:"100%",maxHeight:"100%"},d&&u&&c){const b=d/u>c.width/c.height,g=b?c.width:Math.round(c.height/u*d),I=b?Math.round(c.width/d*u):c.height;v.width=g,v.height=I,v.style.width=g,v.style.height=I}return v},m=v=>e[v]===!1?null:e[v]===!0?{[v]:!0}:o[v]===!1?null:o[v]===!0?{[v]:!0}:null,w=v=>o[v]||e[v]?{[v]:e[v]||o[v]}:null;return n.createElement(n.Fragment,null,E&&n.createElement("div",{ref:s,style:{width:"100%",height:"100%",...d?{maxWidth:`${d}px`}:null},className:ee(M("video_container"),M(Fe),M(en))},c&&n.createElement("video",{ref:a,poster:h,...f(),...m("controls"),...m("playsInline"),...m("loop"),...m("muted"),...m("playsInline"),...m("disablePictureInPicture"),...m("disableRemotePlayback"),...w("controlsList"),...w("crossOrigin"),...w("preload"),onPlay:()=>{r(fo)},onEnded:()=>{r(ho)}},E.map(({src:v,type:b},g)=>n.createElement("source",{key:g,src:v,type:b})))))}function ui(e){return e.type==="video"}function Zn({augment:e}){e(({render:{slide:t,...o},video:r,...s})=>({render:{slide:({slide:c,offset:i,rect:l})=>{var a;return ui(c)?n.createElement(ai,{key:(a=c.sources)===null||a===void 0?void 0:a.map(d=>d.src).join(" "),slide:c,offset:i}):t==null?void 0:t({slide:c,offset:i,rect:l})},...o},video:zo(r),...s}))}const Be=e=>M(`slide_${e}`),Yt={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1},dn=e=>({...Yt,...e});function di(){const{captions:e}=j();return dn(e)}const Zo=n.createContext(null),fn=ve("useCaptions","CaptionsContext",Zo);function fi({captions:e,children:t}){const{ref:o}=dn(e),[r,s]=n.useState(!0),c=n.useMemo(()=>({visible:r,show:()=>s(!0),hide:()=>s(!1)}),[r]);return n.useImperativeHandle(o,()=>c,[c]),n.createElement(Zo.Provider,{value:c},t)}function hi({title:e}){const{toolbarWidth:t}=he(),{styles:o}=j(),{visible:r}=fn();return r?n.createElement("div",{style:o.captionsTitleContainer,className:ee(Be("captions_container"),Be("title_container"))},n.createElement("div",{className:Be("title"),style:{...t?{[H("toolbar_width")]:`${t}px`}:null,...o.captionsTitle}},e)):null}function mi({description:e}){const{descriptionTextAlign:t,descriptionMaxLines:o}=di(),{styles:r}=j(),{visible:s}=fn();return s?n.createElement("div",{style:r.captionsDescriptionContainer,className:ee(Be("captions_container"),Be("description_container"))},n.createElement("div",{className:Be("description"),style:{...t!==Yt.descriptionTextAlign||o!==Yt.descriptionMaxLines?{[H("slide_description_text_align")]:t,[H("slide_description_max_lines")]:o}:null,...r.captionsDescription}},typeof e=="string"?e.split(`
`).flatMap((c,i)=>[...i>0?[n.createElement("br",{key:i})]:[],c]):e)):null}const Bo=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),pi=se("CaptionsVisible",Bo()),vi=Oo("CaptionsVisible",Bo());function gi(){const{visible:e,show:t,hide:o}=fn(),{render:r}=j();return r.buttonCaptions?n.createElement(n.Fragment,null,r.buttonCaptions({visible:e,show:t,hide:o})):n.createElement(He,{label:e?"Hide captions":"Show captions",icon:e?pi:vi,renderIcon:e?r.iconCaptionsVisible:r.iconCaptionsHidden,onClick:e?o:t})}function Bn({augment:e,addModule:t}){e(({captions:o,render:{slideFooter:r,...s},toolbar:c,...i})=>{const l=dn(o);return{render:{slideFooter:({slide:a})=>n.createElement(n.Fragment,null,r==null?void 0:r({slide:a}),a.title&&n.createElement(hi,{title:a.title}),a.description&&n.createElement(mi,{description:a.description})),...s},toolbar:it(c,yn,l.showToggle?n.createElement(gi,null):null),captions:l,...i}}),t(fe(yn,fi))}const bi={autoplay:!1,delay:3e3,ref:null},Xo=e=>({...bi,...e}),jo=n.createContext(null),Ei=ve("useSlideshow","SlideshowContext",jo);function wi({slideshow:e,carousel:{finite:t},on:o,children:r}){const{autoplay:s,delay:c,ref:i}=Xo(e),l=n.useRef(s),[a,d]=n.useState(s),u=n.useRef(),h=n.useRef(),{slides:E,currentIndex:f}=ge(),{setTimeout:m,clearTimeout:w}=ct(),{subscribe:v}=We(),{next:b}=he(),g=E.length===0||t&&f===E.length-1,I=n.useCallback(()=>{!a&&!g&&d(!0)},[a,g]),P=n.useCallback(()=>{a&&d(!1)},[a]),x=n.useCallback(()=>{w(u.current),u.current=void 0},[w]),S=F(()=>{x(),!(!a||g||h.current===Ze||h.current===zt)&&(u.current=m(()=>{a&&(h.current=void 0,b())},c))});n.useEffect(S,[f,a,S]),n.useEffect(()=>{a&&g&&d(!1)},[f,a,g]);const O=F(()=>{var _;return(_=o.slideshowStart)===null||_===void 0?void 0:_.call(o)}),y=F(()=>{var _;return(_=o.slideshowStop)===null||_===void 0?void 0:_.call(o)});n.useEffect(()=>{a?O():l.current&&y(),l.current=a},[a,O,y]),n.useEffect(()=>st(x,v(uo,()=>{h.current=Ze,x()}),v(fo,()=>{h.current=zt,x()}),v(ns,()=>{h.current=Ge,S()}),v(ho,()=>{h.current=Je,S()})),[v,x,S]);const R=n.useMemo(()=>({playing:a,disabled:g,play:I,pause:P}),[a,g,I,P]);return n.useImperativeHandle(i,()=>R,[R]),n.createElement(jo.Provider,{value:R},r)}const _i=se("Play",n.createElement("path",{d:"M8 5v14l11-7z"})),Ci=se("Pause",n.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}));function xi(){const{playing:e,disabled:t,play:o,pause:r}=Ei(),{render:s}=j(),c=ko(he().focus,t);return s.buttonSlideshow?n.createElement(n.Fragment,null,s.buttonSlideshow({playing:e,disabled:t,play:o,pause:r})):n.createElement(He,{label:e?"Pause":"Play",icon:e?Ci:_i,renderIcon:e?s.iconSlideshowPause:s.iconSlideshowPlay,onClick:e?r:o,disabled:t,...c})}function Xn({augment:e,addModule:t}){e(({slideshow:o,toolbar:r,...s})=>({toolbar:it(r,Sn,n.createElement(xi,null)),slideshow:Xo(o),...s})),t(fe(Sn,wi))}const yi={auto:!1,ref:null},Yo=e=>({...yi,...e}),Ko=n.createContext(null),Si=ve("useFullscreen","FullscreenContext",Ko);function Ri({fullscreen:e,on:t,children:o}){const{auto:r,ref:s}=Yo(e),c=n.useRef(null),[i,l]=n.useState(),[a,d]=n.useState(!1),u=n.useRef(!1);de(()=>{var g,I,P,x;l(!((x=(P=(I=(g=document.fullscreenEnabled)!==null&&g!==void 0?g:document.webkitFullscreenEnabled)!==null&&I!==void 0?I:document.mozFullScreenEnabled)!==null&&P!==void 0?P:document.msFullscreenEnabled)!==null&&x!==void 0&&x))},[]);const h=n.useCallback(()=>{var g,I,P;return(P=(I=(g=document.fullscreenElement)!==null&&g!==void 0?g:document.webkitFullscreenElement)!==null&&I!==void 0?I:document.mozFullScreenElement)!==null&&P!==void 0?P:document.msFullscreenElement},[]),E=n.useCallback(()=>{const g=c.current;if(g)try{g.requestFullscreen?g.requestFullscreen().catch(()=>{}):g.webkitRequestFullscreen?g.webkitRequestFullscreen():g.mozRequestFullScreen?g.mozRequestFullScreen():g.msRequestFullscreen&&g.msRequestFullscreen()}catch{}},[]),f=n.useCallback(()=>{if(h())try{document.exitFullscreen?document.exitFullscreen().catch(()=>{}):document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}catch{}},[h]);n.useEffect(()=>{const g=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],I=()=>{d(h()===c.current)};return g.forEach(P=>{document.addEventListener(P,I)}),()=>{g.forEach(P=>{document.removeEventListener(P,I)})}},[h]);const m=F(()=>{var g;return(g=t.enterFullscreen)===null||g===void 0?void 0:g.call(t)}),w=F(()=>{var g;return(g=t.exitFullscreen)===null||g===void 0?void 0:g.call(t)});n.useEffect(()=>{a&&(u.current=!0),u.current&&(a?m:w)()},[a,m,w]);const v=F(()=>{var g;return(g=r?E:null)===null||g===void 0?void 0:g()});n.useEffect(()=>(v(),()=>f()),[v,f]);const b=n.useMemo(()=>({fullscreen:a,disabled:i,enter:E,exit:f}),[a,i,E,f]);return n.useImperativeHandle(s,()=>b,[b]),n.createElement("div",{ref:c,className:ee(M(tt),M(Qt))},n.createElement(Ko.Provider,{value:b},o))}const Pi=se("EnterFullscreen",n.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),Ti=se("ExitFullscreen",n.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function Ii(){var e;const{fullscreen:t,disabled:o,enter:r,exit:s}=Si(),{render:c}=j();return o?null:c.buttonFullscreen?n.createElement(n.Fragment,null,(e=c.buttonFullscreen)===null||e===void 0?void 0:e.call(c,{fullscreen:t,disabled:o,enter:r,exit:s})):n.createElement(He,{disabled:o,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?Ti:Pi,renderIcon:t?c.iconExitFullscreen:c.iconEnterFullscreen,onClick:t?s:r})}function jn({augment:e,contains:t,addParent:o}){e(({fullscreen:r,toolbar:s,...c})=>({toolbar:it(s,tt,n.createElement(Ii,null)),fullscreen:Yo(r),...c})),o(t(nt)?nt:wt,fe(tt,Ri))}const Ae={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0},hn=e=>({...Ae,...e});function qo(){const{thumbnails:e}=j();return hn(e)}const Ie=e=>Ve(nt,e),Q=e=>Ie(Ve("thumbnail",e)),Li=se("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),Mi=se("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function Ni({slide:e,render:t,rect:o,imageFit:r}){var s;const c=(s=t.thumbnail)===null||s===void 0?void 0:s.call(t,{slide:e,render:t,rect:o,imageFit:r});if(c)return c;const i=M(Q(gt));return je(e)?n.createElement(ot,{slide:e,render:t,rect:o,imageFit:r}):e.type==="video"?n.createElement(n.Fragment,null,"poster"in e&&n.createElement("img",{alt:"",src:e.poster,className:ee(M(Qt),M(Ie("contain_image")))}),n.createElement(Li,{className:i})):n.createElement(Mi,{className:i})}const Oi=$e("active"),Dt=$e("fadein"),At=$e("fadeout"),ki=$e("placeholder"),Yn="delay",Kn="duration";function Di({slide:e,onClick:t,active:o,fadeIn:r,fadeOut:s,placeholder:c,onLoseFocus:i}){const l=n.useRef(null),{render:a,styles:d}=j(),{width:u,height:h,imageFit:E}=qo(),f={width:u,height:h},m=F(i);return n.useEffect(()=>{s&&document.activeElement===l.current&&m()},[s,m]),n.createElement("button",{ref:l,type:"button",className:ee(M(Fe),M(Q()),o&&M(Q(Oi())),r&&M(Q(Dt())),s&&M(Q(At())),c&&M(Q(ki()))),style:{...r?{[H(Q(Dt(Kn)))]:`${r.duration}ms`,[H(Q(Dt(Yn)))]:`${r.delay}ms`}:null,...s?{[H(Q(At(Kn)))]:`${s.duration}ms`,[H(Q(At(Yn)))]:`${s.delay}ms`}:null,...d.thumbnail},onClick:t},e&&Ni({slide:e,render:a,rect:f,imageFit:E}))}function qn(e){return["top","bottom"].includes(e)}function ft(e,t,o){return t+2*(e.border+e.padding)+(o?e.gap:0)}function Gn({visible:e,containerRef:t}){const o=n.useRef(null),r=Ct(),{publish:s,subscribe:c}=We(),{carousel:i,styles:l}=j(),{slides:a,globalIndex:d,animation:u}=ge(),{registerSensors:h,subscribeSensors:E}=Do();$o(E);const f=qo(),{position:m,width:w,height:v,border:b,borderStyle:g,borderColor:I,borderRadius:P,padding:x,gap:S,vignette:O}=f,y=d,R=(u==null?void 0:u.duration)||0,_=R>0&&(u==null?void 0:u.increment)||0,{prepareAnimation:L}=jt(o,T=>({keyframes:qn(m)?[{transform:`translateX(${(r?-1:1)*ft(f,w,!0)*_+T}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${ft(f,v,!0)*_+T}px)`},{transform:"translateY(0)"}],duration:R,easing:u==null?void 0:u.easing})),W=F(()=>{let T=0;if(t.current&&o.current){const k=t.current.getBoundingClientRect(),Z=o.current.getBoundingClientRect();T=qn(m)?Z.left-k.left-(k.width-Z.width)/2:Z.top-k.top-(k.height-Z.height)/2}L(T)});n.useEffect(()=>st(c(Zt,W)),[c,W]);const p=yo(i,a),N=[];if(cn(a)){if(_<0)for(let T=y-p+_;T<y-p;T+=1)N.push({slide:null,index:T,placeholder:!0});for(let T=y-p-Math.max(_,0);T<y;T+=1)i.finite&&T<0?N.push({slide:null,index:T,placeholder:!0}):N.push({slide:mt(a,T),index:T});N.push({slide:mt(a,y),index:y});for(let T=y+1;T<=y+p-Math.min(_,0);T+=1)!i.finite||T<=a.length-1?N.push({slide:mt(a,T),index:T}):N.push({slide:null,index:T,placeholder:!0});if(_>0)for(let T=y+p+1;T<=y+p+_;T+=1)N.push({slide:null,index:T,placeholder:!0})}const U=T=>()=>{T>y?s(Pe,{count:T-y}):T<y&&s(Re,{count:y-T})};return n.createElement("div",{className:ee(M(Ie("container")),M(Fe)),style:{...e?null:{display:"none"},...w!==Ae.width?{[H(Q("width"))]:`${ft(f,w)}px`}:null,...v!==Ae.height?{[H(Q("height"))]:`${ft(f,v)}px`}:null,...b!==Ae.border?{[H(Q("border"))]:`${b}px`}:null,...g?{[H(Q("border_style"))]:g}:null,...I?{[H(Q("border_color"))]:I}:null,...P!==Ae.borderRadius?{[H(Q("border_radius"))]:`${P}px`}:null,...x!==Ae.padding?{[H(Q("padding"))]:`${x}px`}:null,...S!==Ae.gap?{[H(Q("gap"))]:`${S}px`}:null,...l.thumbnailsContainer}},n.createElement("nav",{ref:o,style:l.thumbnailsTrack,className:ee(M(Ie("track")),M(Fe)),tabIndex:-1,...h},N.map(({slide:T,index:k,placeholder:Z})=>{const K=R/Math.abs(_||1),A=_>0&&k>y+p-_&&k<=y+p||_<0&&k<y-p-_&&k>=y-p?{duration:K,delay:((_>0?k-(y+p-_):y-p-_-k)-1)*K}:void 0,Y=_>0&&k<y-p||_<0&&k>y+p?{duration:K,delay:(_>0?_-(y-p-k):-_-(k-(y+p)))*K}:void 0;return n.createElement(Di,{key:[`${k}`,Z&&"placeholder"].filter(Boolean).join("-"),slide:T,active:k===y,fadeIn:A,fadeOut:Y,placeholder:!!Z,onClick:U(k),onLoseFocus:()=>{var ne;return(ne=o.current)===null||ne===void 0?void 0:ne.focus()}})})),O&&n.createElement("div",{className:M(Ie("vignette"))}))}const Go=n.createContext(null),Ai=ve("useThumbnails","ThumbnailsContext",Go);function Fi({children:e,...t}){const[o,r]=n.useState(!0),s=n.useRef(null),{ref:c,position:i}=hn(t.thumbnails),l=n.useMemo(()=>({visible:o,show:()=>r(!0),hide:()=>r(!1)}),[o]);return n.useImperativeHandle(c,()=>l,[l]),n.createElement(To,{...t},n.createElement(Go.Provider,{value:l},n.createElement("div",{ref:s,className:ee(M(Ie()),M(Ie(`${i}`)))},["start","top"].includes(i)&&n.createElement(Gn,{containerRef:s,visible:o}),n.createElement("div",{className:M(Ie("wrapper"))},e),["end","bottom"].includes(i)&&n.createElement(Gn,{containerRef:s,visible:o}))))}const Jo=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),Vi=se("ThumbnailsVisible",Jo()),$i=Oo("ThumbnailsHidden",Jo());function Wi(){const{visible:e,show:t,hide:o}=Ai(),{render:r}=j();return r.buttonThumbnails?n.createElement(n.Fragment,null,r.buttonThumbnails({visible:e,show:t,hide:o})):n.createElement(He,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?Vi:$i,renderIcon:e?r.iconThumbnailsVisible:r.iconThumbnailsHidden,onClick:e?o:t})}function Jn({augment:e,contains:t,append:o,addParent:r}){e(({thumbnails:c,toolbar:i,...l})=>{const a=hn(c);return{toolbar:it(i,nt,a.showToggle?n.createElement(Wi,null):null),thumbnails:a,...l}});const s=fe(nt,Fi);t(tt)?o(tt,s):r(wt,s)}function Hi(){const e=dr();return G.jsx(fr,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":Ft(e.palette.grey[900],.9),"--yarl__slide_captions_container_background":Ft(e.palette.grey[900],.48)},".yarl__slide_title":{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,lineHeight:e.typography.h5.lineHeight},".yarl__slide_description":{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.body2.fontWeight,lineHeight:e.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:e.palette.common.black}}})}const we=24;function Ui({slides:e,disabledZoom:t,disabledVideo:o,disabledTotal:r,disabledCaptions:s,disabledSlideshow:c,disabledThumbnails:i,disabledFullscreen:l,onGetCurrentIndex:a,...d}){const u=e?e.length:0;return G.jsxs(G.Fragment,{children:[G.jsx(Hi,{}),G.jsx(Bs,{slides:e,animation:{swipe:240},carousel:{finite:u<5},controller:{closeOnBackdropClick:!0},plugins:zi({disabledZoom:t,disabledVideo:o,disabledCaptions:s,disabledSlideshow:c,disabledThumbnails:i,disabledFullscreen:l}),on:{view:({index:h})=>{a&&a(h)}},toolbar:{buttons:[G.jsx(Qo,{totalItems:u,disabledTotal:r},0),"close"]},render:{iconClose:()=>G.jsx(Ee,{width:we,icon:"carbon:close"}),iconZoomIn:()=>G.jsx(Ee,{width:we,icon:"carbon:zoom-in"}),iconZoomOut:()=>G.jsx(Ee,{width:we,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>G.jsx(Ee,{width:we,icon:"carbon:play"}),iconSlideshowPause:()=>G.jsx(Ee,{width:we,icon:"carbon:pause"}),iconPrev:()=>G.jsx(Ee,{width:we+8,icon:"carbon:chevron-left"}),iconNext:()=>G.jsx(Ee,{width:we+8,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>G.jsx(Ee,{width:we,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>G.jsx(Ee,{width:we,icon:"carbon:fit-to-screen"})},...d})]})}Ui.propTypes={disabledCaptions:me.bool,disabledFullscreen:me.bool,disabledSlideshow:me.bool,disabledThumbnails:me.bool,disabledTotal:me.bool,disabledVideo:me.bool,disabledZoom:me.bool,onGetCurrentIndex:me.func,slides:me.array};function zi({disabledZoom:e,disabledVideo:t,disabledCaptions:o,disabledSlideshow:r,disabledThumbnails:s,disabledFullscreen:c}){let i=[Bn,jn,Xn,Jn,Zn,zn];return s&&(i=i.filter(l=>l!==Jn)),o&&(i=i.filter(l=>l!==Bn)),c&&(i=i.filter(l=>l!==jn)),r&&(i=i.filter(l=>l!==Xn)),e&&(i=i.filter(l=>l!==zn)),t&&(i=i.filter(l=>l!==Zn)),i}function Qo({totalItems:e,disabledTotal:t}){const{currentIndex:o}=ge();return t?null:G.jsxs(hr,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[G.jsxs("strong",{children:[" ",o+1," "]})," / ",e]})}Qo.propTypes={disabledTotal:me.bool,totalItems:me.number};export{Ui as L,Bi as S,co as a,Ki as b,Yi as e,ji as f,Vr as m,Xi as u};
