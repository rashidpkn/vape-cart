import{r as i,u as B,a as q,j as e,B as j,I as S,T as c,d as T,x as h,s as P,n as G,y as z,k as D,z as H,P as L,E as $,G as g,J as w,K as J,N as E}from"./index-e20cc903.js";import{A as I}from"./Alert-cee1d402.js";function K({currency:n,setCurrency:u,method:l,amount:b,setAmount:m,network:s,setNetwork:x}){const[p,a]=i.useState(""),[v,y]=i.useState(""),{user:f}=B(),[N,k]=i.useState(!1),A=q(),{displayName:R,email:O,phoneNumber:F}=f,[C,M]=i.useState(""),[t,d]=i.useState({name:"",number:"",bankName:"",address:"",country:"",beneficiaryAddress:"",swift:"",routingNumber:""});i.useEffect(()=>{a("")},[l,n,s,C,t]);const Y=e.jsxs(e.Fragment,{children:[l==="crypto"&&e.jsxs("div",{className:"",children:[e.jsx(j,{fullWidth:!0,sx:{py:1.5},variant:"outlined",style:n==="btc"?{border:"3px solid"}:{border:"1px solid"},onClick:()=>u("btc"),startIcon:e.jsx(S,{icon:"logos:bitcoin"}),children:"BTC"}),e.jsx(j,{fullWidth:!0,sx:{py:1.5,mt:2},variant:"outlined",style:n==="usdt"?{border:"3px solid"}:{border:"1px solid"},onClick:()=>u("usdt"),startIcon:e.jsx(S,{icon:"cryptocurrency-color:usdt"}),children:"USDT"})]}),n==="usdt"&&e.jsxs("div",{className:"",children:[e.jsx("p",{style:{fontWeight:600},children:"Choose payment network"}),e.jsx(j,{fullWidth:!0,sx:{py:1.5},variant:"outlined",style:s==="erc20"?{border:"3px solid"}:{border:"1px solid"},onClick:()=>x("erc20"),children:"ERC20"}),e.jsx(j,{fullWidth:!0,sx:{py:1.5,mt:2},variant:"outlined",style:s==="trc20"?{border:"3px solid"}:{border:"1px solid"},onClick:()=>x("trc20"),children:"TRC20"})]}),(n==="btc"||n==="usdt"&&!!s)&&e.jsx(c,{label:"Enter Your Wallet Address",onChange:r=>M(r.target.value),value:C}),l==="wire transfer"&&e.jsxs(e.Fragment,{children:[e.jsx(c,{value:t.name,onChange:r=>d(o=>({...o,name:r.target.value})),label:"Account Name"}),e.jsx(c,{value:t.number,onChange:r=>d(o=>({...o,number:r.target.value})),label:"Account Number"}),e.jsx(c,{value:t.bankName,onChange:r=>d(o=>({...o,bankName:r.target.value})),label:"Bank Name"}),e.jsx(c,{value:t.address,onChange:r=>d(o=>({...o,address:r.target.value})),label:"Bank Address"}),e.jsx(c,{value:t.country,onChange:r=>d(o=>({...o,country:r.target.value})),label:"Bank Country"}),e.jsx(c,{value:t.beneficiaryAddress,onChange:r=>d(o=>({...o,beneficiaryAddress:r.target.value})),label:"Beneficiary Address"}),e.jsx(c,{value:t.swift,onChange:r=>d(o=>({...o,swift:r.target.value})),label:"Swift/BIC"}),e.jsx(c,{value:t.routingNumber,onChange:r=>d(o=>({...o,routingNumber:r.target.value})),label:"Routing Number"})]})]});return e.jsxs(T,{sx:{p:5,borderRadius:2,bgcolor:"#dde8f9"},children:[e.jsxs(h,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:5},children:[e.jsx(P,{variant:"h6",children:"Summary"}),e.jsx(G,{to:"/dashboard",className:"cursor-pointer",children:e.jsx(S,{icon:"eva:close-fill",className:"text-2xl cursor-pointer"})})]}),p&&e.jsx(I,{severity:"error",children:p}),v&&e.jsx(I,{severity:"success",children:v}),e.jsxs(e.Fragment,{children:[e.jsxs(h,{spacing:2.5,mt:2.5,children:[Y,e.jsx(z,{sx:{borderStyle:"dashed"}})]}),e.jsx(j,{fullWidth:!0,size:"large",variant:"contained",sx:{mt:5,mb:3},onClick:async()=>{if(N){y(""),a("You are already submit the request");return}if(l==="crypto"){if(!n){a("Choose a currency");return}if(n==="usdt"&&!s){a("Choose a network");return}if(!C){a("Enter your wallet address");return}}else if(l==="wire transfer"){if(!t.name){a("Enter your account name");return}if(!t.number){a("Enter your account number");return}if(!t.bankName){a("Enter your bank name");return}if(!t.address){a("Enter your bank address");return}if(!t.country){a("Enter your bank country");return}if(!t.beneficiaryAddress){a("Enter your beneficiary address");return}if(!t.swift){a("Enter your Swift/BIC");return}if(!t.routingNumber){a("Enter your routing number");return}if(!sessionStorage.amount){a("Amount is not avalable");return}}try{k(!0),await D.post("/payout",{fName:R,email:O,phone:F,method:l,currency:n,network:s,amount:sessionStorage.amount,account:t,walletAddress:C}),y("Your payout request has successfully created, You will redirect to dashboard soon"),setTimeout(()=>{A("/dashboard")},4e3)}catch{}},children:"Request Payout"})]})]})}const U=[{value:"crypto",label:"Crypto"},{value:"wire transfer",label:"Wire Transfer"},{value:"cash",label:"Cash"}];function _({setMethod:n,method:u,setCurrency:l}){const b=H(),m=i.useCallback(s=>{n(s),s==="wire transfer"&&l("")},[]);return e.jsxs(h,{spacing:5,children:[e.jsx(P,{variant:"h6",children:"How would you like us to pay you?"}),e.jsx(h,{spacing:3,children:U.map(s=>e.jsx(W,{option:s,selected:u===s.value,isCredit:s.value==="credit"&&u==="credit",onOpen:b.onTrue,onClick:()=>m(s.value)},s.label))})]})}function W({option:n,selected:u,isCredit:l,onOpen:b,...m}){const{value:s,label:x}=n;return e.jsx(L,{variant:"outlined",sx:{p:2.5,cursor:"pointer",...u&&{boxShadow:p=>`0 0 0 2px ${p.palette.text.primary}`}},...m,children:e.jsx($,{primary:e.jsxs(h,{direction:"row",alignItems:"center",children:[e.jsx(g,{icon:u?"eva:checkmark-circle-2-fill":"eva:radio-button-off-fill",width:24,sx:{mr:2,color:u?"primary.main":"text.secondary"}}),e.jsx(T,{component:"span",sx:{flexGrow:1},children:x}),e.jsxs(h,{spacing:1,direction:"row",alignItems:"center",children:[s==="credit"&&e.jsxs(e.Fragment,{children:[e.jsx(g,{icon:"logos:mastercard",width:24}),",",e.jsx(g,{icon:"logos:visa",width:24})]}),s==="crypto"&&e.jsx(g,{icon:"logos:bitcoin",width:24}),s==="crypto"&&e.jsx(g,{icon:"cryptocurrency-color:usdt",width:24}),s==="cash"&&e.jsx(S,{icon:"la:money-bill-wave-alt",style:{color:"#81b562"},width:24})]})]}),primaryTypographyProps:{typography:"subtitle2"}})},s)}W.propTypes={isCredit:w.bool,onOpen:w.func,option:w.object,selected:w.bool};function X(){const[n,u]=i.useState(""),[l,b]=i.useState(""),[m,s]=i.useState(""),[x,p]=i.useState(""),[a,v]=i.useState({name:"",phone:"",email:"",address:""}),{user:y}=B();return i.useEffect(()=>{const{displayName:f,email:N,phoneNumber:k}=y;v(A=>({...A,name:f,email:N,phone:k}))},[y]),i.useEffect(()=>{sessionStorage.amount&&u(parseInt(sessionStorage.amount))},[]),e.jsx(J,{sx:{pt:15,pb:10,minHeight:1},children:e.jsxs(E,{container:!0,rowSpacing:{xs:5,md:0},columnSpacing:{xs:0,md:5},justifyContent:"center",children:[e.jsx(E,{xs:12,md:4,children:e.jsx(T,{gap:5,sx:{p:{md:5},borderRadius:2,border:f=>({md:`dashed 1px ${f.palette.divider}`})},children:e.jsx(_,{setMethod:b,method:l,setCurrency:s})})}),!!l&&e.jsx(E,{xs:12,md:4,children:e.jsx(K,{setCurrency:s,currency:m,method:l,amount:n,setAmount:u,customer:a,setNetwork:p,network:x})})]})})}export{X as default};
