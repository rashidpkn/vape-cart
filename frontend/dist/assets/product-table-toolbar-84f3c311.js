import{X as _,V as D,a1 as q,a7 as L,$ as j,r as f,a5 as Z,Y as U,a$ as ne,b0 as le,p as Q,j as e,l as B,v as E,a8 as A,a0 as ie,b1 as ce,a4 as fe,b2 as be,Z as ge,b3 as ye,b4 as je,E as t,a3 as Ce,as as ve,z as T,x as ke,at as de,A as Re,y as K,o as X,c as V,b5 as J,b6 as we,e as ee,h as Pe,I as Se,al as Ie,au as ue,t as O,B as oe,M as Fe,T as N,F as Y,q as pe,s as me,aK as $e,k as Te,b7 as Oe,ak as qe}from"./index-19627c7e.js";import{C as Me}from"./confirm-dialog-a800d09d.js";import{b as Le,c as I}from"./TableRow-028ae33c.js";import{S as Ge,C as H}from"./Checkbox-53b24ccf.js";function Ne(o){return D("MuiFormControlLabel",o)}const ze=_("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),z=ze,Be=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Ee=o=>{const{classes:r,disabled:a,labelPlacement:s,error:n,required:c}=o,b={root:["root",a&&"disabled",`labelPlacement${L(s)}`,n&&"error",c&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",n&&"error"]};return A(b,Ne,r)},_e=q("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:a}=o;return[{[`& .${z.label}`]:r.label},r.root,r[`labelPlacement${L(a.labelPlacement)}`]]}})(({theme:o,ownerState:r})=>j({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${z.disabled}`]:{cursor:"default"}},r.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},r.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},r.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${z.label}`]:{[`&.${z.disabled}`]:{color:(o.vars||o).palette.text.disabled}}})),De=q("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(o,r)=>r.asterisk})(({theme:o})=>({[`&.${z.error}`]:{color:(o.vars||o).palette.error.main}})),Ue=f.forwardRef(function(r,a){var s,n;const c=Z({props:r,name:"MuiFormControlLabel"}),{className:b,componentsProps:l={},control:u,disabled:i,disableTypography:h,label:p,labelPlacement:k="end",required:F,slotProps:P={}}=c,C=U(c,Be),R=ne(),g=(s=i??u.props.disabled)!=null?s:R==null?void 0:R.disabled,x=F??u.props.required,M={disabled:g,required:x};["checked","name","onChange","value","inputRef"].forEach(w=>{typeof u.props[w]>"u"&&typeof c[w]<"u"&&(M[w]=c[w])});const $=le({props:c,muiFormControl:R,states:["error"]}),m=j({},c,{disabled:g,labelPlacement:k,required:x,error:$.error}),v=Ee(m),G=(n=P.typography)!=null?n:l.typography;let S=p;return S!=null&&S.type!==Q&&!h&&(S=e.jsx(Q,j({component:"span"},G,{className:B(v.label,G==null?void 0:G.className),children:S}))),e.jsxs(_e,j({className:B(v.root,b),ownerState:m,ref:a},C,{children:[f.cloneElement(u,M),x?e.jsxs(E,{display:"block",children:[S,e.jsxs(De,{ownerState:m,"aria-hidden":!0,className:v.asterisk,children:["â€‰","*"]})]}):S]}))}),W=Ue;function Ae(o){return D("MuiFormGroup",o)}_("MuiFormGroup",["root","row","error"]);const Ve=["className","row"],We=o=>{const{classes:r,row:a,error:s}=o;return A({root:["root",a&&"row",s&&"error"]},Ae,r)},Qe=q("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:a}=o;return[r.root,a.row&&r.row]}})(({ownerState:o})=>j({display:"flex",flexDirection:"column",flexWrap:"wrap"},o.row&&{flexDirection:"row"})),Ye=f.forwardRef(function(r,a){const s=Z({props:r,name:"MuiFormGroup"}),{className:n,row:c=!1}=s,b=U(s,Ve),l=ne(),u=le({props:s,muiFormControl:l,states:["error"]}),i=j({},s,{row:c,error:u.error}),h=We(i);return e.jsx(Qe,j({className:B(h.root,n),ownerState:i,ref:a},b))}),He=Ye,Ze=ie(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Ke=ie(e.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Xe=q("span",{shouldForwardProp:ce})({position:"relative",display:"flex"}),Je=q(Ze)({transform:"scale(1)"}),eo=q(Ke)(({theme:o,ownerState:r})=>j({left:0,position:"absolute",transform:"scale(0)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeIn,duration:o.transitions.duration.shortest})},r.checked&&{transform:"scale(1)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.shortest})}));function he(o){const{checked:r=!1,classes:a={},fontSize:s}=o,n=j({},o,{checked:r});return e.jsxs(Xe,{className:a.root,ownerState:n,children:[e.jsx(Je,{fontSize:s,className:a.background,ownerState:n}),e.jsx(eo,{fontSize:s,className:a.dot,ownerState:n})]})}const oo=f.createContext(void 0),xe=oo;function ro(){return f.useContext(xe)}function to(o){return D("MuiRadio",o)}const ao=_("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),re=ao,so=["checked","checkedIcon","color","icon","name","onChange","size","className"],no=o=>{const{classes:r,color:a,size:s}=o,n={root:["root",`color${L(a)}`,s!=="medium"&&`size${L(s)}`]};return j({},r,A(n,to,r))},lo=q(Ge,{shouldForwardProp:o=>ce(o)||o==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:a}=o;return[r.root,a.size!=="medium"&&r[`size${L(a.size)}`],r[`color${L(a.color)}`]]}})(({theme:o,ownerState:r})=>j({color:(o.vars||o).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${r.color==="default"?o.vars.palette.action.activeChannel:o.vars.palette[r.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:fe(r.color==="default"?o.palette.action.active:o.palette[r.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},r.color!=="default"&&{[`&.${re.checked}`]:{color:(o.vars||o).palette[r.color].main}},{[`&.${re.disabled}`]:{color:(o.vars||o).palette.action.disabled}}));function io(o,r){return typeof r=="object"&&r!==null?o===r:String(o)===String(r)}const te=e.jsx(he,{checked:!0}),ae=e.jsx(he,{}),co=f.forwardRef(function(r,a){var s,n;const c=Z({props:r,name:"MuiRadio"}),{checked:b,checkedIcon:l=te,color:u="primary",icon:i=ae,name:h,onChange:p,size:k="medium",className:F}=c,P=U(c,so),C=j({},c,{color:u,size:k}),R=no(C),g=ro();let x=b;const M=be(p,g&&g.onChange);let $=h;return g&&(typeof x>"u"&&(x=io(g.value,c.value)),typeof $>"u"&&($=g.name)),e.jsx(lo,j({type:"radio",icon:f.cloneElement(i,{fontSize:(s=ae.props.fontSize)!=null?s:k}),checkedIcon:f.cloneElement(l,{fontSize:(n=te.props.fontSize)!=null?n:k}),ownerState:C,classes:R,name:$,checked:x,onChange:M,ref:a,className:B(R.root,F)},P))}),se=co;function uo(o){return D("MuiRadioGroup",o)}_("MuiRadioGroup",["root","row","error"]);const po=["actions","children","className","defaultValue","name","onChange","value"],mo=o=>{const{classes:r,row:a,error:s}=o;return A({root:["root",a&&"row",s&&"error"]},uo,r)},ho=f.forwardRef(function(r,a){const{actions:s,children:n,className:c,defaultValue:b,name:l,onChange:u,value:i}=r,h=U(r,po),p=f.useRef(null),k=mo(r),[F,P]=ge({controlled:i,default:b,name:"RadioGroup"});f.useImperativeHandle(s,()=>({focus:()=>{let x=p.current.querySelector("input:not(:disabled):checked");x||(x=p.current.querySelector("input:not(:disabled)")),x&&x.focus()}}),[]);const C=ye(a,p),R=je(l),g=f.useMemo(()=>({name:R,onChange(x){P(x.target.value),u&&u(x,x.target.value)},value:F}),[R,u,P,F]);return e.jsx(xe.Provider,{value:g,children:e.jsx(He,j({role:"radiogroup",ref:C,className:B(k.root,c)},h,{children:n}))})}),xo=ho;t.arrayOf(t.string),t.number,t.object;const fo=f.forwardRef(({colors:o,selected:r,onSelectColor:a,limit:s="auto",sx:n,...c},b)=>{const l=typeof r=="string",u=f.useCallback(i=>{if(l)i!==r&&a(i);else{const h=r!=null&&r.includes(i)?r.filter(p=>p!==i):[...r,i];a(h)}},[a,r,l]);return e.jsx(E,{ref:b,direction:"row",display:"inline-flex",sx:{flexWrap:"wrap",...s!=="auto"&&{width:s*36,justifyContent:"flex-end"},...n},...c,children:o==null?void 0:o.map(i=>{const h=l?r===i:r==null?void 0:r.includes(i);return console.log(i),e.jsx(Ce,{sx:{width:36,height:36,borderRadius:"50%"},onClick:()=>{u(i)},children:e.jsx(E,{alignItems:"center",justifyContent:"center",sx:{width:20,height:20,bgcolor:i,borderRadius:"50%",border:p=>`solid 1px ${ve(p.palette.grey[500],.16)}`,...h&&{transform:"scale(1.3)",transition:p=>p.transitions.create("all",{duration:p.transitions.duration.shortest})}},children:e.jsx(T,{width:h?12:0,icon:"eva:checkmark-fill",sx:{transition:p=>p.transitions.create("all",{duration:p.transitions.duration.shortest})}})})},i)})})});fo.propTypes={colors:t.oneOfType([t.string,t.arrayOf(t.string)]),limit:t.number,onSelectColor:t.func,selected:t.oneOfType([t.string,t.arrayOf(t.string)]),sx:t.object};t.object;t.object;t.bool,t.array;t.func,t.string,t.array;t.bool,t.func,t.func,t.bool,t.object,t.func,t.array,t.func,t.array,t.array,t.arrayOf(t.string);t.func,t.oneOf(["min","max"]),t.arrayOf(t.number);t.bool,t.object,t.func,t.number,t.func;t.node,t.string,t.object;t.object,t.string,t.object;function bo({row:o,selected:r,onSelectRow:a,onDeleteRow:s,onEditRow:n,fetchProduct:c}){const{id:b,name:l,salePrice:u,category:i,quantity:h,createdAt:p,inventoryType:k,images:F,regularPrice:P,status:C,track:R,type:g,availability:x}=o,[M,$]=f.useState(!1),[m,v]=f.useState({name:l,salePrice:u,quantity:h,regularPrice:P,status:C,availability:x,track:R}),G=async()=>{try{if(!m.salePrice||!m.regularPrice){alert("Sale Price and regular price are mandatory");return}else if(m.salePrice>m.regularPrice){alert("Sale price must be less than the regular price");return}if(m.track&&m.quantity<0){alert("Quantity is positive");return}const d=await Te.post(`/products/quick_edit/${b}`,{...m});alert("Product Updated"),c(),$(!1)}catch(d){console.log(d)}},S=ke(),w=de();return e.jsxs(e.Fragment,{children:[e.jsxs(Le,{hover:!0,selected:r,children:[e.jsx(I,{padding:"checkbox",children:e.jsx(H,{checked:r,onClick:a})}),e.jsxs(I,{sx:{display:"flex",alignItems:"center",minWidth:"340px"},children:[e.jsx(Re,{alt:l,src:F[0],variant:"rounded",sx:{height:64,mr:2}}),e.jsx(K,{disableTypography:!0,primary:e.jsx(X,{to:`/dashboard/product/${b}/edit`,noWrap:!0,color:"inherit",variant:"subtitle2",style:{cursor:"pointer",color:"black"},children:l}),secondary:e.jsx(V,{component:"div",sx:{typography:"body2",color:"text.disabled"},children:i})})]}),e.jsx(I,{children:e.jsx(K,{primary:J(new Date(p),"dd MMM yyyy"),secondary:J(new Date(p),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),e.jsx(I,{children:g}),e.jsxs(I,{sx:{typography:"caption",color:"text.secondary"},children:[e.jsx(we,{value:h*100/h,variant:"determinate",color:k==="out of stock"&&"error"||k==="low stock"&&"warning"||"success",sx:{mb:1,height:6,maxWidth:80}}),!!h&&h," ",k]}),e.jsx(I,{children:g==="Simple"&&ee(P)}),e.jsx(I,{children:P>u&&g==="Simple"&&ee(u)}),e.jsx(I,{children:e.jsx(Pe,{variant:"soft",color:C==="Published"&&"info"||"default",children:C})}),e.jsx(I,{align:"center",children:g==="Simple"&&C!=="Adjustment"&&e.jsx(Se,{icon:"mdi:magic",cursor:"pointer",width:25,color:"#086c9c",onClick:()=>{if(C==="In Revision"){alert("You cannot edit this product while it is under review. Once the admin has completed the review, you will be able to make edits.");return}$(d=>!0)}})}),e.jsx(I,{align:"right",children:e.jsx(Ie,{color:w.open?"primary":"default",onClick:w.onOpen,children:e.jsx(T,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(ue,{open:w.open,onClose:w.onClose,arrow:"right-top",sx:{width:140},children:[e.jsx(O,{children:e.jsxs(X,{to:`/product/${b}`,target:"_blank",style:{color:"black"},children:[e.jsx(T,{icon:"solar:eye-bold"}),"View"]})}),e.jsxs(O,{onClick:()=>{if(C==="In Revision"){alert("You cannot edit this product while it is under review. Once the admin has completed the review, you will be able to make edits."),w.onClose();return}n()},children:[e.jsx(T,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(O,{onClick:()=>{S.onTrue(),w.onClose()},sx:{color:"error.main"},children:[e.jsx(T,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(Me,{open:S.value,onClose:S.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(oe,{variant:"contained",color:"error",onClick:s,children:"Delete"})}),e.jsx(Fe,{open:M,onClose:()=>$(d=>!1),"aria-labelledby":"quickedit-model","aria-describedby":"quickedit-model-description",children:e.jsxs(V,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,bgcolor:"background.paper",boxShadow:24,borderRadius:2,p:4},children:[e.jsxs(Q,{id:"quickedit-model",variant:"h6",component:"h2",children:["Quick Edit - ",l]}),e.jsxs(V,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr"},mt:5,gap:5,children:[e.jsx(N,{label:"Name",value:m.name,onChange:d=>v(y=>({...y,name:d.target.value}))}),e.jsx(N,{type:"number",label:"Regular Price",value:m.regularPrice||null,onChange:d=>v(y=>({...y,regularPrice:+d.target.value}))}),e.jsx(N,{type:"number",label:"Sale Price",value:m.salePrice||null,onChange:d=>v(y=>({...y,salePrice:+d.target.value}))}),e.jsx(W,{label:"Track Stock",control:e.jsx(H,{checked:m.track,onChange:d=>{v(y=>({...y,track:d.target.checked})),d.target.checked&&v(y=>({...y,availability:"In Stock"}))}})}),m.track?e.jsx(N,{type:"number",label:"Quantity",value:m.quantity||null,onChange:d=>v(y=>({...y,quantity:+d.target.value,availability:"In Stock"}))}):e.jsx(Y,{children:e.jsxs(xo,{onChange:d=>{v(y=>({...y,availability:d.target.value,quantity:d.target.value==="In Stock"?100:0}))},defaultValue:"In Stock",value:m.availability,row:!0,children:[e.jsx(W,{value:"In Stock",control:e.jsx(se,{}),label:"In Stock"}),e.jsx(W,{value:"Out Stock",control:e.jsx(se,{}),label:"Out Stock"})]})}),e.jsxs(Y,{fullWidth:!0,children:[e.jsx(pe,{children:"Status"}),e.jsx(me,{label:"Status",value:m.status,onChange:d=>v(y=>({...y,status:d.target.value})),children:$e.map(d=>e.jsx(O,{value:d,children:d}))})]}),e.jsx(oe,{variant:"contained",color:"success",onClick:G,children:"Save Changes"})]})]})})]})}bo.propTypes={onDeleteRow:t.func,onEditRow:t.func,onSelectRow:t.func,onViewRow:t.func,row:t.object,selected:t.bool};function go({filters:o,onFilters:r,stockOptions:a,publishOptions:s}){const n=de(),c=f.useCallback(l=>{r("name",l.target.value)},[r]),b=f.useCallback(l=>{r("stock",typeof l.target.value=="string"?l.target.value.split(","):l.target.value)},[r]);return e.jsxs(e.Fragment,{children:[e.jsxs(E,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[e.jsxs(Y,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(pe,{children:"Stock"}),e.jsx(me,{value:o.stock,onChange:b,input:e.jsx(Oe,{label:"Stock"}),renderValue:l=>l.map(u=>u).join(", "),sx:{textTransform:"capitalize"},children:a.map(l=>e.jsxs(O,{value:l.value,children:[e.jsx(H,{disableRipple:!0,size:"small",checked:o.stock.includes(l.value)}),l.label]},l.value))})]}),e.jsx(E,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:e.jsx(N,{fullWidth:!0,value:o.name,onChange:c,placeholder:"Search...",InputProps:{startAdornment:e.jsx(qe,{position:"start",children:e.jsx(T,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})})]}),e.jsxs(ue,{open:n.open,onClose:n.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(O,{onClick:()=>{n.onClose()},children:[e.jsx(T,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),e.jsxs(O,{onClick:()=>{n.onClose()},children:[e.jsx(T,{icon:"solar:import-bold"}),"Import"]}),e.jsxs(O,{onClick:()=>{n.onClose()},children:[e.jsx(T,{icon:"solar:export-bold"}),"Export"]})]})]})}go.propTypes={filters:t.object,onFilters:t.func,publishOptions:t.array,stockOptions:t.array};export{W as F,go as P,xo as R,bo as a,se as b};
