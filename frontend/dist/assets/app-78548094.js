import{ab as I,j as e,S as f,ac as M,ad as P,T as j,ae as r,af as O,ag as $,ah as J,ai as K,aj as Q,ak as R,B as D,al as W,am as d,an as U,ao as X,ap as m,aq as Y,ar as Z,as as _,at as b,au as k,av as ee,aw as se,F as u,ax as c,ay as te,az as re,aA as S,W as oe}from"./index-f4c557bd.js";import{B as ae}from"./blurlayer-eed69949.js";import"./image-1fcde86a.js";import"./carousel-arrow-index-9c786cae.js";import{C as ie}from"./CardHeader-3d7f19b8.js";import{T as ne}from"./TableContainer-bd399bc7.js";import{C as le}from"./chart-f8a75629.js";function L({title:s,description:t,action:i,img:a,...n}){const o=I();return e.jsxs(f,{flexDirection:{xs:"column",md:"row"},sx:{...M({direction:"135deg",startColor:P(o.palette.primary.light,.2),endColor:P(o.palette.primary.main,.2)}),height:{md:1},borderRadius:2,position:"relative",color:"primary.darker",backgroundColor:"common.white"},...n,children:[e.jsxs(f,{flexGrow:1,justifyContent:"center",alignItems:{xs:"center",md:"flex-start"},sx:{p:{xs:o.spacing(5,3,0,3),md:o.spacing(5)},textAlign:{xs:"center",md:"left"}},children:[e.jsx(j,{paragraph:!0,variant:"h4",sx:{whiteSpace:"pre-line"},children:s}),e.jsx(j,{variant:"body2",sx:{opacity:.8,maxWidth:360,mb:{xs:3,xl:5}},children:t}),i&&i]}),a&&e.jsx(f,{component:"span",justifyContent:"center",sx:{p:{xs:5,md:3},maxWidth:360,mx:"auto"},children:a})]})}L.propTypes={action:r.node,description:r.string,img:r.node,title:r.string};r.array;r.bool,r.object;function E({title:s,subheader:t,tableData:i,tableLabels:a,...n}){return e.jsxs(O,{...n,children:[e.jsx(ie,{title:s,subheader:t,sx:{mb:3}}),e.jsx(ne,{sx:{overflow:"unset"},children:e.jsx($,{children:e.jsxs(J,{sx:{minWidth:680},children:[e.jsx(K,{headLabel:a}),e.jsx(Q,{children:i.map(o=>e.jsx(N,{row:o},o.id))})]})})}),e.jsx(R,{sx:{borderStyle:"dashed"}}),e.jsx(D,{sx:{p:2,textAlign:"right"},children:e.jsx(W,{size:"small",color:"inherit",endIcon:e.jsx(d,{icon:"eva:arrow-ios-forward-fill",width:18,sx:{ml:-.5}}),children:"View All"})})]})}E.propTypes={subheader:r.string,tableData:r.array,tableLabels:r.array,title:r.string};function N({row:s}){const t=U(),i=()=>{t.onClose(),console.info("DOWNLOAD",s.id)},a=()=>{t.onClose(),console.info("PRINT",s.id)},n=()=>{t.onClose(),console.info("SHARE",s.id)},o=()=>{t.onClose(),console.info("DELETE",s.id)};return e.jsxs(e.Fragment,{children:[e.jsxs(X,{children:[e.jsx(m,{children:s.id}),e.jsx(m,{children:s.invoiceTo.name}),e.jsx(m,{children:s.items[0].name}),e.jsx(m,{children:Y(s.totalAmount)}),e.jsx(m,{children:e.jsx(Z,{variant:"soft",color:s.status==="progress"&&"warning"||s.status==="out of date"&&"error"||"success",children:s.status})})]}),e.jsxs(_,{open:t.open,onClose:t.onClose,arrow:"right-top",sx:{width:160},children:[e.jsxs(b,{onClick:i,children:[e.jsx(d,{icon:"eva:cloud-download-fill"}),"Download"]}),e.jsxs(b,{onClick:a,children:[e.jsx(d,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),e.jsxs(b,{onClick:n,children:[e.jsx(d,{icon:"solar:share-bold"}),"Share"]}),e.jsx(R,{sx:{borderStyle:"dashed"}}),e.jsxs(b,{onClick:o,sx:{color:"error.main"},children:[e.jsx(d,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}N.propTypes={row:r.object};function g({title:s,percent:t,total:i,chart:a,sx:n,...o}){const x=I(),{colors:p=[x.palette.primary.light,x.palette.primary.main],series:v,options:y}=a,h={colors:p.map(l=>l[1]),fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:p[0]},{offset:100,color:p[1]}]}},chart:{sparkline:{enabled:!0}},plotOptions:{bar:{columnWidth:"68%",borderRadius:2}},tooltip:{x:{show:!1},y:{formatter:l=>k(l),title:{formatter:()=>""}},marker:{show:!1}},...y};return e.jsxs(O,{sx:{display:"flex",alignItems:"center",p:3,...n},...o,children:[e.jsxs(D,{sx:{flexGrow:1},children:[e.jsx(j,{variant:"subtitle2",children:s}),e.jsxs(f,{direction:"row",alignItems:"center",sx:{mt:2,mb:1},children:[e.jsx(d,{width:24,icon:t<0?"solar:double-alt-arrow-down-bold-duotone":"solar:double-alt-arrow-up-bold-duotone",sx:{mr:1,color:"success.main",...t<0&&{color:"error.main"}}}),e.jsxs(j,{component:"div",variant:"subtitle2",children:[t>0&&"+",ee(t)]})]}),e.jsx(j,{variant:"h3",children:k(i)})]}),e.jsx(le,{type:"bar",series:[{data:v}],options:h,width:60,height:36})]})}g.propTypes={chart:r.object,percent:r.number,sx:r.object,title:r.string,total:r.number};function ce(){const s=I(),{user:t}=se(),[i,a]=u.useState([]),[n,o]=u.useState(0),[x,p]=u.useState([]),[v,y]=u.useState([]);return u.useEffect(()=>{(async()=>{try{const[l,B,G]=await Promise.all([S.get("products",{params:{userId:t.id}}),S.get("/orders"),S.get("/invoice")]),{products:C,count:F}=l.data,H=B.data,z=G.data,V=H.filter(w=>w.items.some(T=>C.some(A=>A.id===T.id))),q=z.filter(w=>w.items.some(T=>C.some(A=>A.id===T.id)));p(V),a(C),o(F),y(q)}catch(l){console.error("An error occurred:",l)}})()},[t.id]),e.jsx(D,{px:5,children:e.jsxs(c,{container:!0,spacing:3,sx:{position:"relative"},children:[e.jsx(ae,{}),e.jsx(c,{xs:12,md:12,children:e.jsx(L,{title:`Welcome back ðŸ‘‹ 
 ${t==null?void 0:t.displayName}`,description:"",img:e.jsx(te,{}),action:e.jsx(re,{to:"/dashboard/product/new",children:e.jsx(W,{variant:"contained",color:"primary",children:"Add Product"})})})}),e.jsx(c,{xs:12,md:4,children:e.jsx(g,{title:"Total Product",percent:0,total:n,chart:{series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(c,{xs:12,md:4,children:e.jsx(g,{title:"Total Sales",percent:0,total:x.length,chart:{colors:[s.palette.info.light,s.palette.info.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(c,{xs:12,md:4,children:e.jsx(g,{title:"Pending Orders",percent:0,total:x.filter(h=>h.status==="pending"||h.status==="Order received").length,chart:{colors:[s.palette.warning.light,s.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(c,{xs:12,lg:8,children:e.jsx(E,{title:"New Invoice",tableData:v,tableLabels:[{id:"id",label:"Invoice ID"},{id:"Customers",label:"Customers"},{id:"Product",label:"Product"},{id:"Amount",label:"Amount"},{id:"status",label:"Status"}]})})]})})}function be(){return e.jsxs(e.Fragment,{children:[e.jsx(oe,{children:e.jsx("title",{children:" Dashboard: App"})}),e.jsx(ce,{})]})}export{be as default};
