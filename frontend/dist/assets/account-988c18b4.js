import{aO as N,u as P,a9 as U,aa as m,am as $,ab as A,g as k,D as E,b as q,r as h,k as z,j as e,ad as B,J as j,C as g,bo as H,p as M,bp as W,c as L,ah as d,v as S,L as D,ak as V,T as o,B as F,E as f,ai as y,z as u,x as J,bq as K,aj as T,aB as Q,d as X,ag as R,bb as Y,bc as Z,br as ee,bs as ae,bt as se,bu as ne,bv as te,W as re}from"./index-dee157d8.js";import{T as oe,a as ie,b as v,c,d as ce}from"./TableRow-a103717f.js";function le(){const{enqueueSnackbar:r}=N(),{user:a}=P(),t=U().shape({displayName:m().required("Name is required"),email:m().required("Email is required").email("Email must be a valid email address"),storeName:m().required("Store name is required"),contactPersonInTouch:m().required("Contact person in touch is required"),tradeLicense:$().nullable().required("Trade License is required"),phoneNumber:m().required("Phone number is required"),address:m().required("Company Address is required"),workingTime:m().required("Company Operating Time is required"),workingDate:m().required("Company working Days is required")}),i={displayName:(a==null?void 0:a.displayName)||"",email:(a==null?void 0:a.email)||"",storeName:(a==null?void 0:a.storeName)||"",tradeLicense:(a==null?void 0:a.tradeLicense)||"",contactPersonInTouch:(a==null?void 0:a.contactPersonInTouch)||null,phoneNumber:(a==null?void 0:a.phoneNumber)||"",address:(a==null?void 0:a.address)||"",workingTime:(a==null?void 0:a.workingTime)||"",workingDate:(a==null?void 0:a.workingDate)||""},s=A({resolver:V(t),defaultValues:i}),{setValue:n,handleSubmit:w,formState:{isSubmitting:l}}=s,p=w(async x=>{try{const C=await k(E,"users",a.uid);await q(C,x),r("Update success!")}catch(C){console.error(C)}}),b=h.useCallback(async x=>{const C=x[0],I=new FormData;I.append("images",C);const{data:O}=await z.post("/upload",I);O.length&&n("tradeLicense",O[0],{shouldValidate:!0})},[n]);return e.jsx(B,{methods:s,onSubmit:p,children:e.jsxs(j,{container:!0,spacing:3,children:[e.jsx(j,{xs:12,md:4,children:e.jsx(g,{sx:{pt:10,pb:5,px:3,textAlign:"center"},children:e.jsx(H,{name:"tradeLicense",maxSize:3145728,onDrop:b,helperText:e.jsxs(M,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Trade License",e.jsx("br",{})," max size of ",W(3145728)]})})})}),e.jsx(j,{xs:12,md:8,children:e.jsxs(g,{sx:{p:3},children:[e.jsxs(L,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(d,{name:"displayName",label:"Name"}),e.jsx(d,{name:"email",label:"Email Address"}),e.jsx(d,{name:"storeName",label:"Store Name"}),e.jsx(d,{name:"contactPersonInTouch",label:"Contact person in touch"}),e.jsx(d,{name:"phoneNumber",label:"Phone Number"}),e.jsx(d,{name:"address",label:"Company address"}),e.jsx(d,{name:"workingTime",label:"Company Operating Time"}),e.jsx(d,{name:"workingDate",label:"Company Working Days"})]}),e.jsx(S,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:e.jsx(D,{type:"submit",variant:"contained",loading:l,children:"Save Changes"})})]})})]})})}function _(){const{user:r}=P(),[a,t]=h.useState(r.billing);h.useEffect(()=>{t(r.billing)},[r]);const i=async()=>{const s=k(E,"users",r.uid);await q(s,{billing:a}),alert("Updated")};return e.jsx(j,{container:!0,spacing:5,disableEqualOverflow:!0,children:e.jsx(j,{xs:12,md:12,spacing:2,children:e.jsxs(g,{sx:{p:1},children:[e.jsx(o,{value:a==null?void 0:a.managementName,onChange:s=>t(n=>({...n,managementName:s.target.value})),sx:{m:1,width:"30%"},label:"Management Name"}),e.jsx(o,{value:a==null?void 0:a.managementContact,onChange:s=>t(n=>({...n,managementContact:s.target.value})),sx:{m:1,width:"30%"},label:"Management Contact"}),e.jsx(o,{value:a==null?void 0:a.managementEmail,onChange:s=>t(n=>({...n,managementEmail:s.target.value})),sx:{m:1,width:"30%"},label:"Management Email"}),e.jsx(o,{value:a==null?void 0:a.financeName,onChange:s=>t(n=>({...n,financeName:s.target.value})),sx:{m:1,width:"30%"},label:"Finance Name"}),e.jsx(o,{value:a==null?void 0:a.financeContact,onChange:s=>t(n=>({...n,financeContact:s.target.value})),sx:{m:1,width:"30%"},label:"Finance Contact"}),e.jsx(o,{value:a==null?void 0:a.financeEmail,onChange:s=>t(n=>({...n,financeEmail:s.target.value})),sx:{m:1,width:"30%"},label:"Finance Email"}),e.jsx(o,{value:a==null?void 0:a.customerService,onChange:s=>t(n=>({...n,customerService:s.target.value})),sx:{m:1,width:"30%"},label:"Customer Service"}),e.jsx(o,{value:a==null?void 0:a.customerServiceContact,onChange:s=>t(n=>({...n,customerServiceContact:s.target.value})),sx:{m:1,width:"30%"},label:"Customer Service Contact"}),e.jsx(o,{value:a==null?void 0:a.customerServiceEmail,onChange:s=>t(n=>({...n,customerServiceEmail:s.target.value})),sx:{m:1,width:"30%"},label:"Customer Service Email"}),e.jsx(o,{value:a==null?void 0:a.orderProcessing,onChange:s=>t(n=>({...n,orderProcessing:s.target.value})),sx:{m:1,width:"30%"},label:"Order Processing"}),e.jsx(o,{value:a==null?void 0:a.orderProcessingContact,onChange:s=>t(n=>({...n,orderProcessingContact:s.target.value})),sx:{m:1,width:"30%"},label:"Order Processing Contact"}),e.jsx(o,{value:a==null?void 0:a.orderProcessingEmail,onChange:s=>t(n=>({...n,orderProcessingEmail:s.target.value})),sx:{m:1,width:"30%"},label:"Order Processing Email"}),e.jsx("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end"},children:e.jsx(F,{variant:"contained",color:"success",onClick:()=>i(),children:"Submit"})})]})})})}_.propTypes={addressBook:f.array,cards:f.array,invoices:f.array,plans:f.array};function G({socialLinks:r}){const{enqueueSnackbar:a}=N(),t={facebook:r.facebook,instagram:r.instagram,linkedin:r.linkedin,twitter:r.twitter},i=A({defaultValues:t}),{handleSubmit:s,formState:{isSubmitting:n}}=i,w=s(async l=>{try{await new Promise(p=>setTimeout(p,500)),a("Update success!"),console.info("DATA",l)}catch(p){console.error(p)}});return e.jsx(B,{methods:i,onSubmit:w,children:e.jsxs(S,{component:g,spacing:3,sx:{p:3},children:[Object.keys(r).map(l=>e.jsx(d,{name:l,InputProps:{startAdornment:e.jsx(y,{position:"start",children:e.jsx(u,{width:24,icon:l==="facebook"&&"eva:facebook-fill"||l==="instagram"&&"ant-design:instagram-filled"||l==="linkedin"&&"eva:linkedin-fill"||l==="twitter"&&"eva:twitter-fill"||"",color:l==="facebook"&&"#1877F2"||l==="instagram"&&"#DF3E30"||l==="linkedin"&&"#006097"||l==="twitter"&&"#1C9CEA"||""})})}},l)),e.jsx(D,{type:"submit",variant:"contained",loading:n,sx:{ml:"auto"},children:"Save Changes"})]})})}G.propTypes={socialLinks:f.object};function de(){const{enqueueSnackbar:r}=N(),a=J(),t=U().shape({oldPassword:m().required("Old Password is required"),newPassword:m().required("New Password is required").min(6,"Password must be at least 6 characters").test("no-match","New password must be different than old password",(b,{parent:x})=>b!==x.oldPassword),confirmNewPassword:m().oneOf([K("newPassword")],"Passwords must match")}),i={oldPassword:"",newPassword:"",confirmNewPassword:""},s=A({resolver:V(t),defaultValues:i}),{reset:n,handleSubmit:w,formState:{isSubmitting:l}}=s,p=w(async b=>{try{await new Promise(x=>setTimeout(x,500)),n(),r("Update success!"),console.info("DATA",b)}catch(x){console.error(x)}});return e.jsx(B,{methods:s,onSubmit:p,children:e.jsxs(S,{component:g,spacing:3,sx:{p:3},children:[e.jsx(d,{name:"oldPassword",type:a.value?"text":"password",label:"Old Password",InputProps:{endAdornment:e.jsx(y,{position:"end",children:e.jsx(T,{onClick:a.onToggle,edge:"end",children:e.jsx(u,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(d,{name:"newPassword",label:"New Password",type:a.value?"text":"password",InputProps:{endAdornment:e.jsx(y,{position:"end",children:e.jsx(T,{onClick:a.onToggle,edge:"end",children:e.jsx(u,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},helperText:e.jsxs(S,{component:"span",direction:"row",alignItems:"center",children:[e.jsx(u,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," Password must be minimum 6+"]})}),e.jsx(d,{name:"confirmNewPassword",type:a.value?"text":"password",label:"Confirm New Password",InputProps:{endAdornment:e.jsx(y,{position:"end",children:e.jsx(T,{onClick:a.onToggle,edge:"end",children:e.jsx(u,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(D,{type:"submit",variant:"contained",loading:l,sx:{ml:"auto"},children:"Save Changes"})]})})}function me(){const{user:r}=P(),[a,t]=h.useState(r.billing);h.useEffect(()=>{t(r.billing)},[r]);const i=async()=>{const s=k(E,"users",r.uid);await q(s,{billing:a}),alert("Updated")};return e.jsx(j,{container:!0,spacing:5,disableEqualOverflow:!0,children:e.jsx(j,{xs:12,md:12,spacing:2,children:e.jsxs(g,{sx:{p:1},children:[e.jsx(o,{value:a==null?void 0:a.managementName,onChange:s=>t(n=>({...n,managementName:s.target.value})),sx:{m:1,width:"30%"},label:"Account Name"}),e.jsx(o,{value:a==null?void 0:a.managementContact,onChange:s=>t(n=>({...n,managementContact:s.target.value})),sx:{m:1,width:"30%"},label:"Account Number"}),e.jsx(o,{value:a==null?void 0:a.managementEmail,onChange:s=>t(n=>({...n,managementEmail:s.target.value})),sx:{m:1,width:"30%"},label:"Account Currency"}),e.jsx(o,{value:a==null?void 0:a.financeName,onChange:s=>t(n=>({...n,financeName:s.target.value})),sx:{m:1,width:"30%"},label:"IBAN"}),e.jsx(o,{value:a==null?void 0:a.financeContact,onChange:s=>t(n=>({...n,financeContact:s.target.value})),sx:{m:1,width:"30%"},label:"Bank Name"}),e.jsx(o,{value:a==null?void 0:a.financeEmail,onChange:s=>t(n=>({...n,financeEmail:s.target.value})),sx:{m:1,width:"30%"},label:"Bank Branch"}),e.jsx(o,{value:a==null?void 0:a.customerService,onChange:s=>t(n=>({...n,customerService:s.target.value})),sx:{m:1,width:"30%"},label:"Swift Code"}),e.jsx(o,{value:a==null?void 0:a.customerServiceContact,onChange:s=>t(n=>({...n,customerServiceContact:s.target.value})),sx:{m:1,width:"30%"},label:"Tax Registration Number"}),e.jsx(o,{value:a==null?void 0:a.customerServiceEmail,onChange:s=>t(n=>({...n,customerServiceEmail:s.target.value})),sx:{m:1,width:"30%"},label:"TRN Certificate Upload",type:"file"}),e.jsx("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end"},children:e.jsx(F,{variant:"contained",color:"success",onClick:()=>i(),children:"Submit"})})]})})})}function ue(){const{user:r}=P(),[a,t]=h.useState({tier1:25,tier2:23,tier3:20,target1:5e4,target2:1e5,target3:15e4});return h.useEffect(()=>{r.commission&&t(i=>({...i,...r.commission}))},[r]),e.jsx(j,{container:!0,spacing:5,disableEqualOverflow:!0,sx:{width:"100%",p:5},children:e.jsx(g,{sx:{width:"100%"},children:e.jsxs(oe,{sx:{width:"100%"},children:[e.jsx(ie,{children:e.jsxs(v,{children:[e.jsx(c,{}),e.jsx(c,{children:"Percentage %"}),e.jsx(c,{children:"Target"})]})}),e.jsxs(ce,{children:[e.jsxs(v,{children:[e.jsx(c,{children:"Base Commission"}),e.jsx(c,{children:"30%"}),e.jsx(c,{children:"N/A"})]}),e.jsxs(v,{children:[e.jsx(c,{children:"Teir 1 Rebate"}),e.jsxs(c,{children:[a.tier1,"%"]}),e.jsx(c,{children:a.target1})]}),e.jsxs(v,{children:[e.jsx(c,{children:"Teir 2 Rebate"}),e.jsxs(c,{children:[a.tier2,"%"]}),e.jsx(c,{children:a.target2})]}),e.jsxs(v,{children:[e.jsx(c,{children:"Teir 3 Rebate"}),e.jsxs(c,{children:[a.tier3,"%"]}),e.jsx(c,{children:a.target3})]}),e.jsxs(v,{children:[e.jsx(c,{colSpan:2,children:"Commission Agreemet"}),e.jsx(c,{children:e.jsx("a",{href:a.agreement,target:"_blank",rel:"noopener noreferrer",children:e.jsx(F,{children:"View PDF"})})})]})]})]})})})}const xe=[{value:"general",label:"General",icon:e.jsx(u,{icon:"solar:user-id-bold",width:24})},{value:"billing",label:"Contact",icon:e.jsx(u,{icon:"solar:bill-list-bold",width:24})},{value:"financials",label:"Financials",icon:e.jsx(u,{icon:"solar:bill-list-bold",width:24})},{value:"commission",label:"Commission",icon:e.jsx(u,{icon:"solar:bill-list-bold",width:24})},{value:"security",label:"Security",icon:e.jsx(u,{icon:"ic:round-vpn-key",width:24})}];function he(){Q();const[r,a]=h.useState("general"),t=h.useCallback((i,s)=>{a(s)},[]);return e.jsxs(L,{px:5,children:[e.jsx(X,{heading:"Account",links:[{name:"Dashboard",href:R.dashboard.root},{name:"User",href:R.dashboard.user.root},{name:"Account"}],sx:{mb:{xs:3,md:5}}}),e.jsx(Y,{value:r,onChange:t,sx:{mb:{xs:3,md:5}},children:xe.map(i=>e.jsx(Z,{label:i.label,icon:i.icon,value:i.value},i.value))}),r==="general"&&e.jsx(le,{}),r==="billing"&&e.jsx(_,{plans:ee,cards:ae,invoices:se,addressBook:ne}),r==="financials"&&e.jsx(me,{}),r==="social"&&e.jsx(G,{socialLinks:te.socialLinks}),r==="security"&&e.jsx(de,{}),r==="commission"&&e.jsx(ue,{})]})}function ge(){return e.jsxs(e.Fragment,{children:[e.jsx(re,{children:e.jsx("title",{children:" Dashboard: Account Settings"})}),e.jsx(he,{})]})}export{ge as default};
