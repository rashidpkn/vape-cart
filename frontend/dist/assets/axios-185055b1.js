import{aK as se,aL as ae,dE as Ht,aD as oe,aP as ot,ad as ie,dF as xt,F as w,aN as re,aO as ce,j as ue,aQ as le,aR as de,R as wt,dG as fe,dH as he,dI as pe}from"./index-a7bf263e.js";function Ee(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Re(t){return parseFloat(t)}function ge(t){return se("MuiSkeleton",t)}ae("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const me=["animation","className","component","height","style","variant","width"];let it=t=>t,Ft,kt,Mt,Ut;const ve=t=>{const{classes:e,variant:n,animation:a,hasChildren:s,width:i,height:c}=t;return de({root:["root",n,a,s&&"withChildren",s&&!i&&"fitContent",s&&!c&&"heightAuto"]},ge,e)},be=Ht(Ft||(Ft=it`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),we=Ht(kt||(kt=it`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),_e=oe("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=Ee(t.shape.borderRadius)||"px",a=Re(t.shape.borderRadius);return ot({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:ie(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${a}${n}/${Math.round(a/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&xt(Mt||(Mt=it`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),be),({ownerState:t,theme:e})=>t.animation==="wave"&&xt(Ut||(Ut=it`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),we,(e.vars||e).palette.action.hover)),Ce=w.forwardRef(function(e,n){const a=re({props:e,name:"MuiSkeleton"}),{animation:s="pulse",className:i,component:c="span",height:d,style:f,variant:O="text",width:g}=a,E=ce(a,me),m=ot({},a,{animation:s,component:c,variant:O,hasChildren:!!E.children}),h=ve(m);return ue.jsx(_e,ot({as:c,ref:n,className:le(h.root,i),ownerState:m},E,{style:ot({width:g,height:d},f)}))}),tn=Ce,U=()=>{},T=U(),dt=Object,r=t=>t===T,N=t=>typeof t=="function",P=(t,e)=>({...t,...e}),Se=t=>N(t.then),st=new WeakMap;let Te=0;const Q=t=>{const e=typeof t,n=t&&t.constructor,a=n==Date;let s,i;if(dt(t)===t&&!a&&n!=RegExp){if(s=st.get(t),s)return s;if(s=++Te+"~",st.set(t,s),n==Array){for(s="@",i=0;i<t.length;i++)s+=Q(t[i])+",";st.set(t,s)}if(n==dt){s="#";const c=dt.keys(t).sort();for(;!r(i=c.pop());)r(t[i])||(s+=i+":"+Q(t[i])+",");st.set(t,s)}}else s=a?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return s},k=new WeakMap,ft={},at={},_t="undefined",rt=typeof window!=_t,Rt=typeof document!=_t,Oe=()=>rt&&typeof window.requestAnimationFrame!=_t,jt=(t,e)=>{const n=k.get(t);return[()=>!r(e)&&t.get(e)||ft,a=>{if(!r(e)){const s=t.get(e);e in at||(at[e]=s),n[5](e,P(s,a),s||ft)}},n[6],()=>!r(e)&&e in at?at[e]:!r(e)&&t.get(e)||ft]};let gt=!0;const De=()=>gt,[mt,vt]=rt&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[U,U],ye=()=>{const t=Rt&&document.visibilityState;return r(t)||t!=="hidden"},Ae=t=>(Rt&&document.addEventListener("visibilitychange",t),mt("focus",t),()=>{Rt&&document.removeEventListener("visibilitychange",t),vt("focus",t)}),Ie=t=>{const e=()=>{gt=!0,t()},n=()=>{gt=!1};return mt("online",e),mt("offline",n),()=>{vt("online",e),vt("offline",n)}},Le={isOnline:De,isVisible:ye},Ve={initFocus:Ae,initReconnect:Ie},Pt=!wt.useId,Z=!rt||"Deno"in window,Ne=t=>Oe()?window.requestAnimationFrame(t):setTimeout(t,1),ht=Z?w.useEffect:w.useLayoutEffect,pt=typeof navigator<"u"&&navigator.connection,Wt=!Z&&pt&&(["slow-2g","2g"].includes(pt.effectiveType)||pt.saveData),Ct=t=>{if(N(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Q(t):"",[t,e]};let xe=0;const bt=()=>++xe,Kt=0,Bt=1,Xt=2,Fe=3;var Y={__proto__:null,ERROR_REVALIDATE_EVENT:Fe,FOCUS_EVENT:Kt,MUTATE_EVENT:Xt,RECONNECT_EVENT:Bt};async function zt(...t){const[e,n,a,s]=t,i=P({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let c=i.populateCache;const d=i.rollbackOnError;let f=i.optimisticData;const O=m=>typeof d=="function"?d(m):d!==!1,g=i.throwOnError;if(N(n)){const m=n,h=[],I=e.keys();for(const v of I)!/^\$(inf|sub)\$/.test(v)&&m(e.get(v)._k)&&h.push(v);return Promise.all(h.map(E))}return E(n);async function E(m){const[h]=Ct(m);if(!h)return;const[I,v]=jt(e,h),[ct,o,tt,G]=k.get(e),M=()=>{const A=ct[h];return(N(i.revalidate)?i.revalidate(I().data,m):i.revalidate!==!1)&&(delete tt[h],delete G[h],A&&A[0])?A[0](Xt).then(()=>I().data):I().data};if(t.length<3)return M();let _=a,D;const $=bt();o[h]=[$,0];const R=!r(f),q=I(),L=q.data,H=q._c,W=r(H)?L:H;if(R&&(f=N(f)?f(W,L):f,v({data:f,_c:W})),N(_))try{_=_(W)}catch(A){D=A}if(_&&Se(_))if(_=await _.catch(A=>{D=A}),$!==o[h][0]){if(D)throw D;return _}else D&&R&&O(D)&&(c=!0,v({data:W,_c:T}));if(c&&!D)if(N(c)){const A=c(_,W);v({data:A,error:T,_c:T})}else v({data:_,error:T,_c:T});if(o[h][1]=bt(),Promise.resolve(M()).then(()=>{v({_c:T})}),D){if(g)throw D;return}return _}}const $t=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},ke=(t,e)=>{if(!k.has(t)){const n=P(Ve,e),a={},s=zt.bind(T,t);let i=U;const c={},d=(g,E)=>{const m=c[g]||[];return c[g]=m,m.push(E),()=>m.splice(m.indexOf(E),1)},f=(g,E,m)=>{t.set(g,E);const h=c[g];if(h)for(const I of h)I(E,m)},O=()=>{if(!k.has(t)&&(k.set(t,[a,{},{},{},s,f,d]),!Z)){const g=n.initFocus(setTimeout.bind(T,$t.bind(T,a,Kt))),E=n.initReconnect(setTimeout.bind(T,$t.bind(T,a,Bt)));i=()=>{g&&g(),E&&E(),k.delete(t)}}};return O(),[t,s,O,i]}return[t,k.get(t)[4]]},Me=(t,e,n,a,s)=>{const i=n.errorRetryCount,c=s.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!r(i)&&c>i||setTimeout(a,d,s)},Ue=(t,e)=>Q(t)==Q(e),[Gt,Pe]=ke(new Map),We=P({onLoadingSlow:U,onSuccess:U,onError:U,onErrorRetry:Me,onDiscarded:U,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Wt?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Wt?5e3:3e3,compare:Ue,isPaused:()=>!1,cache:Gt,mutate:Pe,fallback:{}},Le),$e=(t,e)=>{const n=P(t,e);if(e){const{use:a,fallback:s}=t,{use:i,fallback:c}=e;a&&i&&(n.use=a.concat(i)),s&&c&&(n.fallback=P(s,c))}return n},qe=w.createContext({}),He="$inf$",Jt=rt&&window.__SWR_DEVTOOLS_USE__,je=Jt?window.__SWR_DEVTOOLS_USE__:[],Ke=()=>{Jt&&(window.__SWR_DEVTOOLS_REACT__=wt)},Be=t=>N(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Xe=()=>P(We,w.useContext(qe)),ze=t=>(e,n,a)=>t(e,n&&((...i)=>{const[c]=Ct(e),[,,,d]=k.get(Gt);if(c.startsWith(He))return n(...i);const f=d[c];return r(f)?n(...i):(delete d[c],f)}),a),Ge=je.concat(ze),Je=t=>function(...n){const a=Xe(),[s,i,c]=Be(n),d=$e(a,c);let f=t;const{use:O}=d,g=(O||[]).concat(Ge);for(let E=g.length;E--;)f=g[E](f);return f(s,i||d.fetcher||null,d)},Ye=(t,e,n)=>{const a=e[t]||(e[t]=[]);return a.push(n),()=>{const s=a.indexOf(n);s>=0&&(a[s]=a[a.length-1],a.pop())}};Ke();const qt=wt.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),Et={dedupe:!0},Qe=(t,e,n)=>{const{cache:a,compare:s,suspense:i,fallbackData:c,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:O,refreshWhenHidden:g,refreshWhenOffline:E,keepPreviousData:m}=n,[h,I,v,ct]=k.get(a),[o,tt]=Ct(t),G=w.useRef(!1),M=w.useRef(!1),_=w.useRef(o),D=w.useRef(e),$=w.useRef(n),R=()=>$.current,q=()=>R().isVisible()&&R().isOnline(),[L,H,W,A]=jt(a,o),j=w.useRef({}).current,Qt=r(c)?n.fallback[o]:c,St=(u,l)=>{for(const C in j){const p=C;if(p==="data"){if(!s(u[p],l[p])&&(!r(u[p])||!s(nt,l[p])))return!1}else if(l[p]!==u[p])return!1}return!0},Tt=w.useMemo(()=>{const u=(()=>!o||!e?!1:r(d)?R().isPaused()||i?!1:r(f)?!0:f:d)(),l=S=>{const x=P(S);return delete x._k,u?{isValidating:!0,isLoading:!0,...x}:x},C=L(),p=A(),V=l(C),z=C===p?V:l(p);let b=V;return[()=>{const S=l(L());return St(S,b)?(b.data=S.data,b.isLoading=S.isLoading,b.isValidating=S.isValidating,b.error=S.error,b):(b=S,S)},()=>z]},[a,o]),K=fe.useSyncExternalStore(w.useCallback(u=>W(o,(l,C)=>{St(C,l)||u()}),[a,o]),Tt[0],Tt[1]),Ot=!G.current,Zt=h[o]&&h[o].length>0,B=K.data,X=r(B)?Qt:B,et=K.error,Dt=w.useRef(X),nt=m?r(B)?Dt.current:B:X,yt=(()=>Zt&&!r(et)?!1:Ot&&!r(d)?d:R().isPaused()?!1:i?r(X)?!1:f:r(X)||f)(),At=!!(o&&e&&Ot&&yt),te=r(K.isValidating)?At:K.isValidating,ee=r(K.isLoading)?At:K.isLoading,J=w.useCallback(async u=>{const l=D.current;if(!o||!l||M.current||R().isPaused())return!1;let C,p,V=!0;const z=u||{},b=!v[o]||!z.dedupe,S=()=>Pt?!M.current&&o===_.current&&G.current:o===_.current,x={isValidating:!1,isLoading:!1},Lt=()=>{H(x)},Vt=()=>{const y=v[o];y&&y[1]===p&&delete v[o]},Nt={isValidating:!0};r(L().data)&&(Nt.isLoading=!0);try{if(b&&(H(Nt),n.loadingTimeout&&r(L().data)&&setTimeout(()=>{V&&S()&&R().onLoadingSlow(o,n)},n.loadingTimeout),v[o]=[l(tt),bt()]),[C,p]=v[o],C=await C,b&&setTimeout(Vt,n.dedupingInterval),!v[o]||v[o][1]!==p)return b&&S()&&R().onDiscarded(o),!1;x.error=T;const y=I[o];if(!r(y)&&(p<=y[0]||p<=y[1]||y[1]===0))return Lt(),b&&S()&&R().onDiscarded(o),!1;const F=L().data;x.data=s(F,C)?F:C,b&&S()&&R().onSuccess(C,o,n)}catch(y){Vt();const F=R(),{shouldRetryOnError:ut}=F;F.isPaused()||(x.error=y,b&&S()&&(F.onError(y,o,F),(ut===!0||N(ut)&&ut(y))&&(!R().revalidateOnFocus||!R().revalidateOnReconnect||q())&&F.onErrorRetry(y,o,F,ne=>{const lt=h[o];lt&&lt[0]&&lt[0](Y.ERROR_REVALIDATE_EVENT,ne)},{retryCount:(z.retryCount||0)+1,dedupe:!0})))}return V=!1,Lt(),!0},[o,a]),It=w.useCallback((...u)=>zt(a,_.current,...u),[]);if(ht(()=>{D.current=e,$.current=n,r(B)||(Dt.current=B)}),ht(()=>{if(!o)return;const u=J.bind(T,Et);let l=0;const p=Ye(o,h,(V,z={})=>{if(V==Y.FOCUS_EVENT){const b=Date.now();R().revalidateOnFocus&&b>l&&q()&&(l=b+R().focusThrottleInterval,u())}else if(V==Y.RECONNECT_EVENT)R().revalidateOnReconnect&&q()&&u();else{if(V==Y.MUTATE_EVENT)return J();if(V==Y.ERROR_REVALIDATE_EVENT)return J(z)}});return M.current=!1,_.current=o,G.current=!0,H({_k:tt}),yt&&(r(X)||Z?u():Ne(u)),()=>{M.current=!0,p()}},[o]),ht(()=>{let u;function l(){const p=N(O)?O(L().data):O;p&&u!==-1&&(u=setTimeout(C,p))}function C(){!L().error&&(g||R().isVisible())&&(E||R().isOnline())?J(Et).then(l):l()}return l(),()=>{u&&(clearTimeout(u),u=-1)}},[O,g,E,o]),w.useDebugValue(nt),i&&r(X)&&o){if(!Pt&&Z)throw new Error("Fallback data is required when using suspense in SSR.");D.current=e,$.current=n,M.current=!1;const u=ct[o];if(!r(u)){const l=It(u);qt(l)}if(r(et)){const l=J(Et);r(nt)||(l.status="fulfilled",l.value=!0),qt(l)}else throw et}return{mutate:It,get data(){return j.data=!0,nt},get error(){return j.error=!0,et},get isValidating(){return j.isValidating=!0,te},get isLoading(){return j.isLoading=!0,ee}}},en=Je(Qe),Yt=he.create({baseURL:pe});Yt.interceptors.response.use(t=>t,t=>Promise.reject(t.response&&t.response.data||"Something went wrong"));const nn=async t=>{const[e,n]=Array.isArray(t)?t:[t];return(await Yt.get(e,{...n})).data},sn={chat:"/api/chat",kanban:"/api/kanban",calendar:"/api/calendar",auth:{me:"/api/auth/me",login:"/api/auth/login",register:"/api/auth/register"},mail:{list:"/api/mail/list",details:"/api/mail/details",labels:"/api/mail/labels"},post:{list:"/api/post/list",details:"/api/post/details",latest:"/api/post/latest",search:"/api/post/search"},product:{list:"/api/product/list",details:"/api/product/details",search:"/api/product/search"}};export{tn as S,Yt as a,sn as e,nn as f,Pe as m,en as u};
