import{R as M,r as Z,bw as it,bx as ct,E as a,by as ut,a as lt,u as dt,j as u,W as ft,p as pt,c as ht,k as bt,T as G,F as mt,q as Et,s as yt,t as wt,B as vt}from"./index-c3a8ce9a.js";const T=()=>{},d=T(),A=Object,b=t=>t===d,R=t=>typeof t=="function",D=(t,e)=>({...t,...e}),gt=t=>R(t.then),O=new WeakMap;let xt=0;const _=t=>{const e=typeof t,o=t&&t.constructor,r=o==Date;let n,s;if(A(t)===t&&!r&&o!=RegExp){if(n=O.get(t),n)return n;if(n=++xt+"~",O.set(t,n),o==Array){for(n="@",s=0;s<t.length;s++)n+=_(t[s])+",";O.set(t,n)}if(o==A){n="#";const i=A.keys(t).sort();for(;!b(s=i.pop());)b(t[s])||(n+=s+":"+_(t[s])+",");O.set(t,n)}}else n=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return n},x=new WeakMap,N={},j={},k="undefined",U=typeof window!=k,F=typeof document!=k,Tt=(t,e)=>{const o=x.get(t);return[()=>!b(e)&&t.get(e)||N,r=>{if(!b(e)){const n=t.get(e);e in j||(j[e]=n),o[5](e,D(n,r),n||N)}},o[6],()=>!b(e)&&e in j?j[e]:!b(e)&&t.get(e)||N]};let W=!0;const Rt=()=>W,[P,V]=U&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[T,T],St=()=>{const t=F&&document.visibilityState;return b(t)||t!=="hidden"},_t=t=>(F&&document.addEventListener("visibilitychange",t),P("focus",t),()=>{F&&document.removeEventListener("visibilitychange",t),V("focus",t)}),Ct=t=>{const e=()=>{W=!0,t()},o=()=>{W=!1};return P("online",e),P("offline",o),()=>{V("online",e),V("offline",o)}},Ot={isOnline:Rt,isVisible:St},jt={initFocus:_t,initReconnect:Ct};M.useId;const tt=!U||"Deno"in window,L=typeof navigator<"u"&&navigator.connection,Y=!tt&&L&&(["slow-2g","2g"].includes(L.effectiveType)||L.saveData),et=t=>{if(R(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?_(t):"",[t,e]};let Dt=0;const z=()=>++Dt,It=0,At=1,Nt=2;async function Lt(...t){const[e,o,r,n]=t,s=D({populateCache:!0,throwOnError:!0},typeof n=="boolean"?{revalidate:n}:n||{});let i=s.populateCache;const m=s.rollbackOnError;let f=s.optimisticData;const C=l=>typeof m=="function"?m(l):m!==!1,E=s.throwOnError;if(R(o)){const l=o,c=[],g=e.keys();for(const y of g)!/^\$(inf|sub)\$/.test(y)&&l(e.get(y)._k)&&c.push(y);return Promise.all(c.map(p))}return p(o);async function p(l){const[c]=et(l);if(!c)return;const[g,y]=Tt(e,c),[ot,I,at,rt]=x.get(e),q=()=>{const v=ot[c];return(R(s.revalidate)?s.revalidate(g().data,l):s.revalidate!==!1)&&(delete at[c],delete rt[c],v&&v[0])?v[0](Nt).then(()=>g().data):g().data};if(t.length<3)return q();let h=r,w;const B=z();I[c]=[B,0];const H=!b(f),$=g(),J=$.data,K=$._c,S=b(K)?J:K;if(H&&(f=R(f)?f(S,J):f,y({data:f,_c:S})),R(h))try{h=h(S)}catch(v){w=v}if(h&&gt(h))if(h=await h.catch(v=>{w=v}),B!==I[c][0]){if(w)throw w;return h}else w&&H&&C(w)&&(i=!0,y({data:S,_c:d}));if(i&&!w)if(R(i)){const v=i(h,S);y({data:v,error:d,_c:d})}else y({data:h,error:d,_c:d});if(I[c][1]=z(),Promise.resolve(q()).then(()=>{y({_c:d})}),w){if(E)throw w;return}return h}}const Q=(t,e)=>{for(const o in t)t[o][0]&&t[o][0](e)},Ft=(t,e)=>{if(!x.has(t)){const o=D(jt,e),r={},n=Lt.bind(d,t);let s=T;const i={},m=(E,p)=>{const l=i[E]||[];return i[E]=l,l.push(p),()=>l.splice(l.indexOf(p),1)},f=(E,p,l)=>{t.set(E,p);const c=i[E];if(c)for(const g of c)g(p,l)},C=()=>{if(!x.has(t)&&(x.set(t,[r,{},{},{},n,f,m]),!tt)){const E=o.initFocus(setTimeout.bind(d,Q.bind(d,r,It))),p=o.initReconnect(setTimeout.bind(d,Q.bind(d,r,At)));s=()=>{E&&E(),p&&p(),x.delete(t)}}};return C(),[t,n,C,s]}return[t,x.get(t)[4]]},Wt=(t,e,o,r,n)=>{const s=o.errorRetryCount,i=n.retryCount,m=~~((Math.random()+.5)*(1<<(i<8?i:8)))*o.errorRetryInterval;!b(s)&&i>s||setTimeout(r,m,n)},Pt=(t,e)=>_(t)==_(e),[nt,Vt]=Ft(new Map);D({onLoadingSlow:T,onSuccess:T,onError:T,onErrorRetry:Wt,onDiscarded:T,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Y?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Y?5e3:3e3,compare:Pt,isPaused:()=>!1,cache:nt,mutate:Vt,fallback:{}},Ot);Z.createContext({});const Mt="$inf$",st=U&&window.__SWR_DEVTOOLS_USE__,Ut=st?window.__SWR_DEVTOOLS_USE__:[],qt=()=>{st&&(window.__SWR_DEVTOOLS_REACT__=M)},Bt=t=>(e,o,r)=>t(e,o&&((...s)=>{const[i]=et(e),[,,,m]=x.get(nt);if(i.startsWith(Mt))return o(...s);const f=m[i];return b(f)?o(...s):(delete m[i],f)}),r);Ut.concat(Bt);qt();M.use;const Ht=it.create({baseURL:ct});Ht.interceptors.response.use(t=>t,t=>Promise.reject(t.response&&t.response.data||"Something went wrong"));a.object;a.string,a.array,a.func;a.array,a.object,a.bool,a.string;var X=ut;X&&X.isConcatSpreadable;a.func,a.bool,a.object;a.array;a.object;a.array;a.object,a.array;a.object,a.func,a.array;a.array,a.array;a.bool,a.func,a.array,a.string;a.array;a.array,a.func;const $t=["Technical Issue","Stock Issue","Billing Inquiry","Feature Request","General Question","Other"];function Gt(){const t=lt(),e=dt();console.log(e);const[o,r]=Z.useState({data:{username:e.user.displayName,email:e.user.email,subject:"",message:"",type:"",status:"pending"}});return u.jsxs(u.Fragment,{children:[u.jsx(ft,{children:u.jsx("title",{children:" Dashboard: Chat"})}),u.jsx(pt,{variant:"h4",sx:{mb:{xs:3,md:5}},children:"Support"}),u.jsxs(ht,{sx:{maxWidth:"600px",padding:5,border:1,mx:"auto",width:"100%",borderRadius:"6px"},component:"form",onSubmit:async n=>{try{n.preventDefault(),t("/dashboard"),await bt.post("/support",o.data),alert("Ticket submitted successfully. We'll follow up with you as soon as possible.")}catch{}},children:[u.jsx("p",{children:"Submit Your Concerns as a Support Request"}),u.jsx(G,{sx:{mt:3},fullWidth:!0,label:"Subject",value:o.data.subject,onChange:n=>r(s=>({...s,data:{...s.data,subject:n.target.value}}))}),u.jsxs(mt,{fullWidth:!0,sx:{mt:3},children:[u.jsx(Et,{id:"ticket-type-label",children:"Type"}),u.jsx(yt,{labelId:"ticket-type-label",value:o.data.type,label:"Type",onChange:n=>r(s=>({...s,data:{...s.data,type:n.target.value}})),children:$t.map(n=>u.jsx(wt,{value:n,children:n},n))})]}),u.jsx(G,{sx:{mt:3},fullWidth:!0,label:"Message",value:o.data.message,onChange:n=>r(s=>({...s,data:{...s.data,message:n.target.value}}))}),u.jsx(vt,{variant:"contained",color:"success",sx:{width:"100%",mt:3},type:"submit",children:" Submit"})]})]})}export{Gt as default};
