import{D as s,aC as x,aw as h,a8 as e,ad as P,ac as g,a_ as se,am as Z,bR as re,ao as le,a6 as B,aj as I,ag as ce,a9 as ue,b0 as de,aH as me}from"./index-554df9b5.js";import{C as pe}from"./custom-breadcrumbs-27a5b827.js";import{d as G,e as A,S as T,M as y,a as v,b as J,c as H}from"./map-control-25002d53.js";import{S as O}from"./Switch-f2caf50d.js";import{S as he}from"./Slider-d937337c.js";import{T as ge,a as E}from"./ToggleButtonGroup-91f80348.js";import{R as W}from"./RadioGroup-c5ac29ed.js";import{F as q}from"./FormControlLabel-0a555268.js";import{R as Y}from"./Radio-887facc6.js";import{I as ye}from"./image-5651e0e8.js";import{C as f}from"./Card-d2e12e6e.js";import{C as j}from"./CardHeader-81e8e6bf.js";import{C as b}from"./CardContent-6b06f926.js";import"./SwitchBase-681b6d9e.js";import"./visuallyHidden-14c3de6e.js";import"./FormGroup-7e8e0b32.js";function D(o,t){if(!o)throw new Error(t)}let xe=0;function fe(o,t,n){if(o.style&&o.style._loaded){const a={...n};return delete a.id,delete a.children,o.addSource(t,a),o.getSource(t)}return null}function je(o,t,n){D(t.id===n.id,"source id changed"),D(t.type===n.type,"source type changed");let a="",i=0;for(const l in t)l!=="children"&&l!=="id"&&!A(n[l],t[l])&&(a=l,i++);if(!i)return;const r=t.type;if(r==="geojson")o.setData(t.data);else if(r==="image")o.updateImage({url:t.url,coordinates:t.coordinates});else if((r==="canvas"||r==="video")&&i===1&&a==="coordinates")o.setCoordinates(t.coordinates);else if(r==="vector"&&"setUrl"in o)switch(a){case"url":o.setUrl(t.url);break;case"tiles":o.setTiles(t.tiles);break}else console.warn(`Unable to update <Source> prop: ${a}`)}function L(o){const t=s.useContext(G).map.getMap(),n=s.useRef(o),[,a]=s.useState(0),i=s.useMemo(()=>o.id||`jsx-source-${xe++}`,[]);s.useEffect(()=>{if(t){const l=()=>setTimeout(()=>a(u=>u+1),0);return t.on("styledata",l),l(),()=>{var u;if(t.off("styledata",l),t.style&&t.style._loaded&&t.getSource(i)){const m=(u=t.getStyle())===null||u===void 0?void 0:u.layers;if(m)for(const c of m)c.source===i&&t.removeLayer(c.id);t.removeSource(i)}}}},[t]);let r=t&&t.style&&t.getSource(i);return r?je(r,o,n.current):r=fe(t,i,o),n.current=o,r&&s.Children.map(o.children,l=>l&&s.cloneElement(l,{source:i}))||null}function be(o,t,n,a){if(D(n.id===a.id,"layer id changed"),D(n.type===a.type,"layer type changed"),n.type==="custom"||a.type==="custom")return;const{layout:i={},paint:r={},filter:l,minzoom:u,maxzoom:m,beforeId:c}=n;if(c!==a.beforeId&&o.moveLayer(t,c),i!==a.layout){const p=a.layout||{};for(const d in i)A(i[d],p[d])||o.setLayoutProperty(t,d,i[d]);for(const d in p)i.hasOwnProperty(d)||o.setLayoutProperty(t,d,void 0)}if(r!==a.paint){const p=a.paint||{};for(const d in r)A(r[d],p[d])||o.setPaintProperty(t,d,r[d]);for(const d in p)r.hasOwnProperty(d)||o.setPaintProperty(t,d,void 0)}A(l,a.filter)||o.setFilter(t,l),(u!==a.minzoom||m!==a.maxzoom)&&o.setLayerZoomRange(t,u,m)}function _e(o,t,n){if(o.style&&o.style._loaded&&(!("source"in n)||o.getSource(n.source))){const a={...n,id:t};delete a.beforeId,o.addLayer(a,n.beforeId)}}let ke=0;function C(o){const t=s.useContext(G).map.getMap(),n=s.useRef(o),[,a]=s.useState(0),i=s.useMemo(()=>o.id||`jsx-layer-${ke++}`,[]);if(s.useEffect(()=>{if(t){const l=()=>a(u=>u+1);return t.on("styledata",l),l(),()=>{t.off("styledata",l),t.style&&t.style._loaded&&t.getLayer(i)&&t.removeLayer(i)}}},[t]),t&&t.style&&t.getLayer(i))try{be(t,i,o,n.current)}catch(l){console.warn(l)}else _e(t,i,o);return n.current=o,null}const Se=[{city:"New York",population:"8,175,133",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/Above_Gotham.jpg/240px-Above_Gotham.jpg",state:"New York",latitude:40.6643,longitude:-73.9385},{city:"Los Angeles",population:"3,792,621",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/5/57/LA_Skyline_Mountains2.jpg/240px-LA_Skyline_Mountains2.jpg",state:"California",latitude:34.0194,longitude:-118.4108},{city:"Chicago",population:"2,695,598",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/8/85/2008-06-10_3000x1000_chicago_skyline.jpg/240px-2008-06-10_3000x1000_chicago_skyline.jpg",state:"Illinois",latitude:41.8376,longitude:-87.6818},{city:"Houston",population:"2,100,263",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Aerial_views_of_the_Houston%2C_Texas%2C_28005u.jpg/240px-Aerial_views_of_the_Houston%2C_Texas%2C_28005u.jpg",state:"Texas",latitude:29.7805,longitude:-95.3863},{city:"Phoenix",population:"1,445,632",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/Downtown_Phoenix_Aerial_Looking_Northeast.jpg/207px-Downtown_Phoenix_Aerial_Looking_Northeast.jpg",state:"Arizona",latitude:33.5722,longitude:-112.088},{city:"Philadelphia",population:"1,526,006",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/4/4d/Philly_skyline.jpg/240px-Philly_skyline.jpg",state:"Pennsylvania",latitude:40.0094,longitude:-75.1333},{city:"San Antonio",population:"1,327,407",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Downtown_San_Antonio_View.JPG/240px-Downtown_San_Antonio_View.JPG",state:"Texas",latitude:29.4724,longitude:-98.5251},{city:"San Diego",population:"1,307,402",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/5/53/US_Navy_110604-N-NS602-574_Navy_and_Marine_Corps_personnel%2C_along_with_community_leaders_from_the_greater_San_Diego_area_come_together_to_commemora.jpg/240px-US_Navy_110604-N-NS602-574_Navy_and_Marine_Corps_personnel%2C_along_with_community_leaders_from_the_greater_San_Diego_area_come_together_to_commemora.jpg",state:"California",latitude:32.8153,longitude:-117.135},{city:"Dallas",population:"1,197,816",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/a/ab/Dallas_skyline_daytime.jpg/240px-Dallas_skyline_daytime.jpg",state:"Texas",latitude:32.7757,longitude:-96.7967},{city:"San Jose",population:"945,942",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/1/1e/Downtown_San_Jose_skyline.PNG/240px-Downtown_San_Jose_skyline.PNG",state:"California",latitude:37.2969,longitude:-121.8193},{city:"Austin",population:"790,390",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Austin2012-12-01.JPG/240px-Austin2012-12-01.JPG",state:"Texas",latitude:30.3072,longitude:-97.756},{city:"Jacksonville",population:"821,784",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Skyline_of_Jacksonville_FL%2C_South_view_20160706_1.jpg/240px-Skyline_of_Jacksonville_FL%2C_South_view_20160706_1.jpg",state:"Florida",latitude:30.337,longitude:-81.6613},{city:"San Francisco",population:"805,235",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/San_Francisco_skyline_from_Coit_Tower.jpg/240px-San_Francisco_skyline_from_Coit_Tower.jpg",state:"California",latitude:37.7751,longitude:-122.4193},{city:"Columbus",population:"787,033",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Columbus-ohio-skyline-panorama.jpg/240px-Columbus-ohio-skyline-panorama.jpg",state:"Ohio",latitude:39.9848,longitude:-82.985},{city:"Indianapolis",population:"820,445",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Downtown_indy_from_parking_garage_zoom.JPG/213px-Downtown_indy_from_parking_garage_zoom.JPG",state:"Indiana",latitude:39.7767,longitude:-86.1459},{city:"Fort Worth",population:"741,206",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/d/db/FortWorthTexasSkylineW.jpg/240px-FortWorthTexasSkylineW.jpg",state:"Texas",latitude:32.7795,longitude:-97.3463},{city:"Charlotte",population:"731,424",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Charlotte_skyline45647.jpg/222px-Charlotte_skyline45647.jpg",state:"North Carolina",latitude:35.2087,longitude:-80.8307},{city:"Seattle",population:"608,660",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/3/36/SeattleI5Skyline.jpg/240px-SeattleI5Skyline.jpg",state:"Washington",latitude:47.6205,longitude:-122.3509},{city:"Denver",population:"600,158",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/DenverCP.JPG/240px-DenverCP.JPG",state:"Colorado",latitude:39.7618,longitude:-104.8806},{city:"El Paso",population:"649,121",photoUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Downtown_El_Paso_at_sunset.jpeg/240px-Downtown_El_Paso_at_sunset.jpeg",state:"Texas",latitude:31.8484,longitude:-106.427}],we=[{timezones:["America/Aruba"],latlng:[12.5,-69.96666666],name:"Aruba",country_code:"AW",capital:"Oranjestad",photoUrl:x.image.cover(1)},{timezones:["Asia/Kabul"],latlng:[33,65],name:"Afghanistan",country_code:"AF",capital:"Kabul",photoUrl:x.image.cover(2)},{timezones:["Africa/Luanda"],latlng:[-12.5,18.5],name:"Angola",country_code:"AO",capital:"Luanda",photoUrl:x.image.cover(3)},{timezones:["Pacific/Efate"],latlng:[-16,167],name:"Vanuatu",country_code:"VU",capital:"Port Vila",photoUrl:x.image.cover(4)},{timezones:["Pacific/Wallis"],latlng:[-13.3,-176.2],name:"Wallis and Futuna",country_code:"WF",capital:"Mata-Utu",photoUrl:x.image.cover(5)},{timezones:["Pacific/Apia"],latlng:[-13.58333333,-172.33333333],name:"Samoa",country_code:"WS",capital:"Apia",photoUrl:x.image.cover(6)},{timezones:["Asia/Aden"],latlng:[15,48],name:"Yemen",country_code:"YE",capital:"Sana'a",photoUrl:x.image.cover(7)},{timezones:["Africa/Johannesburg"],latlng:[-29,24],name:"South Africa",country_code:"ZA",capital:"Pretoria",photoUrl:x.image.cover(8)},{timezones:["Africa/Lusaka"],latlng:[-15,30],name:"Zambia",country_code:"ZM",capital:"Lusaka",photoUrl:x.image.cover(9)},{timezones:["Africa/Harare"],latlng:[-20,30],name:"Zimbabwe",country_code:"ZW",capital:"Harare",photoUrl:x.image.cover(10)}];function K({startTime:o,endTime:t,allDays:n,selectedTime:a,onChangeTime:i,onChangeAllDays:r}){const u=Math.round((t-o)/864e5),m=Math.round((a-o)/864e5),c=p=>{const S=o+p*864e5;i(S)};return e.jsxs(T,{children:[e.jsxs(P,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(g,{variant:"subtitle2",sx:{color:"common.white"},children:"All Days"}),e.jsx(O,{size:"small",checked:n,onChange:p=>r(p.target.checked)})]}),e.jsx("br",{}),e.jsxs(g,{gutterBottom:!0,variant:"body2",sx:{color:n?"text.disabled":"common.white"},children:["Each Day: ",se(a)]}),e.jsx(he,{min:1,step:1,max:u,disabled:n,value:m,onChange:(p,d)=>{typeof d=="number"&&c(d)}})]})}K.propTypes={allDays:h.bool,endTime:h.number,onChangeAllDays:h.func,onChangeTime:h.func,selectedTime:h.number,startTime:h.number};const Ce=s.memo(K),U=9,ve={id:"heatmap",maxzoom:U,type:"heatmap",paint:{"heatmap-weight":["interpolate",["linear"],["get","mag"],0,0,6,1],"heatmap-intensity":["interpolate",["linear"],["zoom"],0,1,U,3],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(33,102,172,0)",.2,"rgb(103,169,207)",.4,"rgb(209,229,240)",.6,"rgb(253,219,199)",.8,"rgb(239,138,98)",.9,"rgb(255,201,101)"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,2,U,20],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,9,0]}};function Me({...o}){const[t,n]=s.useState(!0),[a,i]=s.useState([0,0]),[r,l]=s.useState(0),[u,m]=s.useState();s.useEffect(()=>{fetch("https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson").then(p=>p.json()).then(p=>{const{features:d}=p,S=d[0].properties.time,z=d[d.length-1].properties.time;i([z,S]),m(p),l(S)}).catch(p=>console.error("Could not load data",p))},[]);const c=s.useMemo(()=>t?u:Pe(u,r),[u,t,r]);return e.jsxs(e.Fragment,{children:[e.jsx(y,{initialViewState:{latitude:40,longitude:-100,zoom:3},...o,children:c&&e.jsx(L,{type:"geojson",data:c,children:e.jsx(C,{...ve})})}),e.jsx(Ce,{startTime:a[0],endTime:a[1],selectedTime:r,allDays:t,onChangeTime:l,onChangeAllDays:n})]})}const Te=s.memo(Me);function Pe(o,t){const n=new Date(t),a=n.getFullYear(),i=n.getMonth(),r=n.getDate();return{type:"FeatureCollection",features:o==null?void 0:o.features.filter(u=>{var c;const m=new Date((c=u.properties)==null?void 0:c.time);return m.getFullYear()===a&&m.getMonth()===i&&m.getDate()===r})}}const R={id:"clusters",type:"circle",source:"earthquakes",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]}},Ae={id:"cluster-count",type:"symbol",source:"earthquakes",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}},De={id:"unclustered-point",type:"circle",source:"earthquakes",filter:["!",["has","point_count"]],paint:{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#FFFFFF"}};function Le({...o}){const t=s.useRef(null),n=a=>{var u,m,c;const i=(u=a.features)==null?void 0:u[0],r=(m=i==null?void 0:i.properties)==null?void 0:m.cluster_id;((c=t.current)==null?void 0:c.getSource("earthquakes")).getClusterExpansionZoom(r,(p,d)=>{var S;p||(i==null?void 0:i.geometry.type)==="Point"&&((S=t.current)==null||S.easeTo({center:i==null?void 0:i.geometry.coordinates,zoom:Number.isNaN(d)?3:d,duration:500}))})};return e.jsx(y,{initialViewState:{latitude:40.67,longitude:-103.59,zoom:3},interactiveLayerIds:[R.id],onClick:n,ref:t,...o,children:e.jsxs(L,{id:"earthquakes",type:"geojson",data:"https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson",cluster:!0,clusterMaxZoom:14,clusterRadius:50,children:[e.jsx(C,{...R}),e.jsx(C,{...Ae}),e.jsx(C,{...De})]})})}const ze=s.memo(Le),N=Z("div")(({theme:o})=>({display:"flex",alignItems:"center",textTransform:"capitalize",justifyContent:"space-between",color:o.palette.common.white,"&:not(:last-of-type)":{marginBottom:o.spacing(1)}})),Ue=/(^|[A-Z])[a-z]*/g;function $(o){var t;return(t=o.match(Ue))==null?void 0:t.join(" ")}function X({settings:o,onChange:t}){const n=(a,i)=>{switch(typeof i){case"boolean":return e.jsxs(N,{children:[e.jsx(g,{variant:"body2",children:$(a)}),e.jsx(O,{size:"small",checked:i,onChange:r=>t(a,r.target.checked)})]},a);case"number":return e.jsxs(N,{children:[e.jsx(g,{variant:"body2",children:$(a)}),e.jsx(re,{value:i,onChange:r=>t(a,Number(r.target.value)),inputProps:{type:"number"},sx:{"& input":{py:.25,width:40,fontSize:14,borderRadius:.5,textAlign:"center",color:"common.white",bgcolor:r=>le(r.palette.grey[500],.12)}}})]},a);default:return null}};return e.jsx(T,{children:Object.keys(o).map(a=>n(a,o[a]))})}X.propTypes={onChange:h.func,settings:h.string};const Fe=s.memo(X);function Ie({...o}){const[t,n]=s.useState({minZoom:0,maxZoom:20,minPitch:0,maxPitch:85,dragPan:!0,boxZoom:!0,keyboard:!0,touchZoom:!0,dragRotate:!0,scrollZoom:!0,touchPitch:!0,touchRotate:!0,doubleClickZoom:!0,touchZoomRotate:!0}),a=s.useCallback((i,r)=>n(l=>({...l,[i]:r})),[]);return e.jsxs(y,{...t,initialViewState:{latitude:37.729,longitude:-122.36,zoom:11,bearing:0,pitch:50},...o,children:[e.jsx(v,{}),e.jsx(Fe,{settings:t,onChange:a})]})}const Ee=s.memo(Ie);function Q({mode:o,onModeChange:t}){return e.jsx(T,{children:e.jsxs(ge,{color:"primary",value:o,exclusive:!0,onChange:t,children:[e.jsx(E,{value:"side-by-side",children:"Side by side"}),e.jsx(E,{value:"split-screen",children:"Split screen"})]})})}Q.propTypes={mode:h.string,onModeChange:h.func};const Re=s.memo(Q),Ne={position:"absolute",width:"50%",height:"100%"},$e={position:"absolute",left:"50%",width:"50%",height:"100%"};function Ve({...o}){const[t,n]=s.useState({longitude:-122.43,latitude:37.78,zoom:12,pitch:30}),[a,i]=s.useState("side-by-side"),[r,l]=s.useState("left"),u=s.useCallback(()=>l("left"),[]),m=s.useCallback(()=>l("right"),[]),c=s.useCallback(M=>n(M.viewState),[]),p=typeof window>"u"?100:window.innerWidth,d=s.useMemo(()=>({left:a==="split-screen"?p/2:0,top:0,right:0,bottom:0}),[p,a]),S=s.useMemo(()=>({right:a==="split-screen"?p/2:0,top:0,left:0,bottom:0}),[p,a]),z=(M,F)=>{F!==null&&i(F)};return e.jsxs(e.Fragment,{children:[e.jsx(y,{id:"left-map",...t,padding:d,onMoveStart:u,onMove:M=>{r==="left"&&c(M)},style:Ne,mapStyle:"mapbox://styles/mapbox/light-v10",...o}),e.jsx(y,{id:"right-map",...t,padding:S,onMoveStart:m,onMove:M=>{r==="right"&&c(M)},style:$e,mapStyle:"mapbox://styles/mapbox/dark-v10",...o}),e.jsx(Re,{mode:a,onModeChange:z})]})}const Ze=s.memo(Ve);function ee({themes:o,selectTheme:t,onChangeTheme:n}){return e.jsxs(T,{children:[e.jsx(g,{gutterBottom:!0,variant:"subtitle2",sx:{color:"common.white"},children:"Select Theme:"}),e.jsx(W,{value:t,onChange:(a,i)=>n(i),children:Object.keys(o).map(a=>e.jsx(q,{value:a,control:e.jsx(Y,{size:"small"}),label:a,sx:{color:"common.white",textTransform:"capitalize"}},a))})]})}ee.propTypes={onChangeTheme:h.func,selectTheme:h.string,themes:h.object};const Be=s.memo(ee);function te({themes:o,...t}){const[n,a]=s.useState("outdoors"),i=s.useCallback(r=>a(r),[]);return e.jsxs(e.Fragment,{children:[e.jsx(y,{initialViewState:{latitude:37.785164,longitude:-100,zoom:3.5,bearing:0,pitch:0},mapStyle:o==null?void 0:o[n],...t,children:e.jsx(v,{})}),e.jsx(Be,{themes:o,selectTheme:n,onChangeTheme:i})]})}te.propTypes={themes:h.object};const Ge=s.memo(te);function oe({data:o,...t}){const[n,a]=s.useState(null);return e.jsxs(y,{initialViewState:{zoom:2},...t,children:[e.jsx(v,{}),o.map((i,r)=>e.jsx(J,{latitude:i.latlng[0],longitude:i.latlng[1],onClick:l=>{l.originalEvent.stopPropagation(),a(i)}},`marker-${r}`)),n&&e.jsx(H,{latitude:n.latlng[0],longitude:n.latlng[1],onClose:()=>a(null),children:e.jsxs(P,{sx:{color:"common.white"},children:[e.jsxs(P,{sx:{mb:1,display:"flex",alignItems:"center"},children:[e.jsx(P,{sx:{height:"18px",minWidth:"28px",marginRight:"8px",borderRadius:"4px",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:`url(https://cdn.staticaly.com/gh/hjnilsson/country-flags/master/svg/${n.country_code.toLowerCase()}.svg)`}}),e.jsx(g,{variant:"subtitle2",children:n.name})]}),e.jsxs(g,{component:"div",variant:"caption",children:["Timezones: ",n.timezones]}),e.jsxs(g,{component:"div",variant:"caption",children:["Lat: ",n.latlng[0]]}),e.jsxs(g,{component:"div",variant:"caption",children:["Long: ",n.latlng[1]]}),e.jsx(ye,{alt:n.name,src:n.photoUrl,ratio:"4/3",sx:{mt:1,borderRadius:1}})]})})]})}oe.propTypes={data:h.array};const Je=s.memo(oe),He=["onDragStart","onDrag","onDragEnd"];function V(o){return(Math.round(o*1e5)/1e5).toFixed(5)}function ae({events:o={}}){return e.jsx(T,{children:He.map(t=>{const n=o[t];return e.jsxs("div",{children:[e.jsxs(g,{variant:"subtitle2",sx:{color:"common.white"},children:[t,":"]}),n?e.jsx(g,{variant:"subtitle2",sx:{color:"primary.main"},children:`${V(n.lng)}, ${V(n.lat)}`}):e.jsx(g,{variant:"body2",component:"em",sx:{color:"error.main"},children:"null"})]},t)})})}ae.propTypes={events:h.object};const Oe=s.memo(ae);function We({...o}){const[t,n]=s.useState({latitude:40,longitude:-100}),[a,i]=s.useState({}),r=s.useCallback(m=>{i(c=>({...c,onDragStart:m.lngLat}))},[]),l=s.useCallback(m=>{i(c=>({...c,onDrag:m.lngLat})),n({longitude:m.lngLat.lng,latitude:m.lngLat.lat})},[]),u=s.useCallback(m=>{i(c=>({...c,onDragEnd:m.lngLat}))},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(y,{initialViewState:{latitude:40,longitude:-100,zoom:3.5},...o,children:[e.jsx(v,{}),e.jsx(J,{longitude:t.longitude,latitude:t.latitude,anchor:"bottom",draggable:!0,onDragStart:r,onDrag:l,onDragEnd:u})]}),e.jsx(Oe,{events:a})]})}const qe=s.memo(We);function ne({data:o,selectedCity:t,onSelectCity:n}){return e.jsx(T,{children:o.map(a=>e.jsx(W,{value:t,onChange:i=>n(i,a),children:e.jsx(q,{value:a.city,label:a.city,control:e.jsx(Y,{size:"small"}),sx:{color:"common.white"}})},a.city))})}ne.propTypes={data:h.array,onSelectCity:h.func,selectedCity:h.string};const Ye=s.memo(ne);function ie({data:o,...t}){const n=s.useRef(null),[a,i]=s.useState(o[2].city),r=s.useCallback((l,{longitude:u,latitude:m})=>{var c;i(l.target.value),(c=n.current)==null||c.flyTo({center:[u,m],duration:2e3})},[]);return e.jsxs(y,{initialViewState:{latitude:37.7751,longitude:-122.4193,zoom:11,bearing:0,pitch:0},ref:n,...t,children:[e.jsx(v,{}),e.jsx(Ye,{data:o,selectedCity:a,onSelectCity:r})]})}ie.propTypes={data:h.array};const Ke=s.memo(ie);function Xe({...o}){const n={id:"point",type:"circle",paint:{"circle-radius":10,"circle-color":B().palette.error.main}},[a,i]=s.useState(null);return s.useEffect(()=>{const r=window.requestAnimationFrame(()=>i(et({center:[-100,0],angle:Date.now()/1e3,radius:20})));return()=>window.cancelAnimationFrame(r)}),e.jsxs(y,{initialViewState:{latitude:0,longitude:-100,zoom:3},mapStyle:"mapbox://styles/mapbox/satellite-streets-v11",...o,children:[e.jsx(v,{}),a&&e.jsx(L,{type:"geojson",data:a,children:e.jsx(C,{...n})})]})}const Qe=s.memo(Xe);function et({center:o,angle:t,radius:n}){return{type:"Point",coordinates:[o[0]+Math.cos(t)*n,o[1]+Math.sin(t)*n]}}function tt({...o}){const t=B(),n={id:"counties",type:"fill","source-layer":"original",paint:{"fill-outline-color":t.palette.grey[900],"fill-color":t.palette.grey[900],"fill-opacity":.12}},a={id:"counties-highlighted",type:"fill",source:"counties","source-layer":"original",paint:{"fill-outline-color":t.palette.error.main,"fill-color":t.palette.error.main,"fill-opacity":.48}},[i,r]=s.useState(null),l=s.useCallback(c=>{var d;const p=c.features&&c.features[0];r({longitude:c.lngLat.lng,latitude:c.lngLat.lat,countyName:p&&((d=p.properties)==null?void 0:d.COUNTY)})},[]),u=i&&i.countyName||"",m=s.useMemo(()=>["in","COUNTY",u],[u]);return e.jsxs(y,{initialViewState:{latitude:38.88,longitude:-98,zoom:3},minZoom:2,onMouseMove:l,interactiveLayerIds:["counties"],...o,children:[e.jsx(v,{}),e.jsxs(L,{type:"vector",url:"mapbox://mapbox.82pkq93d",children:[e.jsx(C,{beforeId:"waterway-label",...n}),e.jsx(C,{beforeId:"waterway-label",...a,filter:m})]}),u&&i&&e.jsx(H,{longitude:i.longitude,latitude:i.latitude,closeButton:!1,children:e.jsx(g,{variant:"body2",sx:{color:"common.white"},children:u})})]})}const ot=s.memo(tt),w={streets:"mapbox://styles/mapbox/streets-v11",outdoors:"mapbox://styles/mapbox/outdoors-v11",light:"mapbox://styles/mapbox/light-v10",dark:"mapbox://styles/mapbox/dark-v10",satellite:"mapbox://styles/mapbox/satellite-v9",satelliteStreets:"mapbox://styles/mapbox/satellite-streets-v11"},_={mapboxAccessToken:de,minZoom:1},k=Z("div")(({theme:o})=>({zIndex:0,height:560,overflow:"hidden",position:"relative",borderRadius:o.shape.borderRadius,"& .mapboxgl-ctrl-logo, .mapboxgl-ctrl-bottom-right":{display:"none"}}));function at(){return e.jsxs(e.Fragment,{children:[e.jsx(P,{sx:{py:5,bgcolor:o=>o.palette.mode==="light"?"grey.200":"grey.800"},children:e.jsx(I,{children:e.jsx(pe,{heading:"Map",links:[{name:"Components",href:ce.components},{name:"Map"}],moreLink:["http://visgl.github.io/react-map-gl","http://visgl.github.io/react-map-gl/examples"]})})}),e.jsx(I,{sx:{my:10},children:e.jsxs(ue,{spacing:5,children:[e.jsxs(f,{children:[e.jsx(j,{title:"Change Theme"}),e.jsx(b,{children:e.jsx(k,{children:e.jsx(Ge,{..._,themes:w})})})]}),e.jsxs(f,{children:[e.jsx(j,{title:"Markers & Popups"}),e.jsx(b,{children:e.jsx(k,{children:e.jsx(Je,{..._,data:we,mapStyle:w.light})})})]}),e.jsxs(f,{children:[e.jsx(j,{title:"Draggable Markers"}),e.jsx(b,{children:e.jsx(k,{children:e.jsx(qe,{..._,mapStyle:w.light})})})]}),e.jsxs(f,{children:[e.jsx(j,{title:"Geojson Animation"}),e.jsx(b,{children:e.jsx(k,{children:e.jsx(Qe,{..._,mapStyle:w.satelliteStreets})})})]}),e.jsxs(f,{children:[e.jsx(j,{title:"Clusters"}),e.jsx(b,{children:e.jsx(k,{children:e.jsx(ze,{..._,mapStyle:w.light})})})]}),e.jsxs(f,{children:[e.jsx(j,{title:"Interaction"}),e.jsx(b,{children:e.jsx(k,{children:e.jsx(Ee,{..._,mapStyle:w.light})})})]}),e.jsxs(f,{children:[e.jsx(j,{title:"Viewport Animation"}),e.jsx(b,{children:e.jsx(k,{children:e.jsx(Ke,{..._,data:Se.filter(o=>o.state==="Texas"),mapStyle:w.light})})})]}),e.jsxs(f,{children:[e.jsx(j,{title:"Highlight By Filter"}),e.jsx(b,{children:e.jsx(k,{children:e.jsx(ot,{..._,mapStyle:w.light})})})]}),e.jsxs(f,{children:[e.jsx(j,{title:"Heatmap"}),e.jsx(b,{children:e.jsx(k,{children:e.jsx(Te,{..._,mapStyle:w.light})})})]}),e.jsxs(f,{children:[e.jsx(j,{title:"Side By Side"}),e.jsx(b,{children:e.jsx(k,{children:e.jsx(Ze,{..._})})})]})]})})]})}function bt(){return e.jsxs(e.Fragment,{children:[e.jsx(me,{children:e.jsx("title",{children:" Extra: Map"})}),e.jsx(at,{})]})}export{bt as default};
