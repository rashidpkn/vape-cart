import{a1 as T,a7 as v,bn as u,bo as G,a4 as D,b1 as W,b0 as H,r as j,a5 as X,Y as J,$ as S,j as a,o as K,a8 as Y,bp as Q,aT as N,u as F,ab as _,ac as b,an as Z,ad as $,g as R,D as z,b as O,k as ee,af as A,N as w,C as f,bq as ae,s as se,br as te,d as L,ai as h,x as y,al as q,am as U,T as p,B as ne,J as C,aj as P,G as g,E as oe,bs as re,aK as ie,z as ce,bt as le,ak as E,aC as de,e as ue,p as I,ba as me,bb as pe,bu as he,bv as xe,bw as be,bx as ge,by as we,W as ve}from"./index-5f38f145.js";const je=["className","color","edge","size","sx"],fe=s=>{const{classes:e,edge:o,size:i,color:t,checked:n,disabled:x}=s,c={root:["root",o&&`edge${v(o)}`,`size${v(i)}`],switchBase:["switchBase",`color${v(t)}`,n&&"checked",x&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},m=Y(c,Q,e);return S({},e,m)},ye=T("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(s,e)=>{const{ownerState:o}=s;return[e.root,o.edge&&e[`edge${v(o.edge)}`],e[`size${v(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${u.thumb}`]:{width:16,height:16},[`& .${u.switchBase}`]:{padding:4,[`&.${u.checked}`]:{transform:"translateX(16px)"}}}}]}),ke=T(G,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(s,e)=>{const{ownerState:o}=s;return[e.switchBase,{[`& .${u.input}`]:e.input},o.color!=="default"&&e[`color${v(o.color)}`]]}})(({theme:s})=>({position:"absolute",top:0,left:0,zIndex:1,color:s.vars?s.vars.palette.Switch.defaultColor:`${s.palette.mode==="light"?s.palette.common.white:s.palette.grey[300]}`,transition:s.transitions.create(["left","transform"],{duration:s.transitions.duration.shortest}),[`&.${u.checked}`]:{transform:"translateX(20px)"},[`&.${u.disabled}`]:{color:s.vars?s.vars.palette.Switch.defaultDisabledColor:`${s.palette.mode==="light"?s.palette.grey[100]:s.palette.grey[600]}`},[`&.${u.checked} + .${u.track}`]:{opacity:.5},[`&.${u.disabled} + .${u.track}`]:{opacity:s.vars?s.vars.opacity.switchTrackDisabled:`${s.palette.mode==="light"?.12:.2}`},[`& .${u.input}`]:{left:"-100%",width:"300%"}}),({theme:s})=>({"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette.action.activeChannel} / ${s.vars.palette.action.hoverOpacity})`:D(s.palette.action.active,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(s.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${u.checked}`]:{color:(s.vars||s).palette[e].main,"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette[e].mainChannel} / ${s.vars.palette.action.hoverOpacity})`:D(s.palette[e].main,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${u.disabled}`]:{color:s.vars?s.vars.palette.Switch[`${e}DisabledColor`]:`${s.palette.mode==="light"?W(s.palette[e].main,.62):H(s.palette[e].main,.55)}`}},[`&.${u.checked} + .${u.track}`]:{backgroundColor:(s.vars||s).palette[e].main}}}))]})),Ce=T("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(s,e)=>e.track})(({theme:s})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:s.transitions.create(["opacity","background-color"],{duration:s.transitions.duration.shortest}),backgroundColor:s.vars?s.vars.palette.common.onBackground:`${s.palette.mode==="light"?s.palette.common.black:s.palette.common.white}`,opacity:s.vars?s.vars.opacity.switchTrack:`${s.palette.mode==="light"?.38:.3}`})),Se=T("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(s,e)=>e.thumb})(({theme:s})=>({boxShadow:(s.vars||s).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Pe=j.forwardRef(function(e,o){const i=X({props:e,name:"MuiSwitch"}),{className:t,color:n="primary",edge:x=!1,size:c="medium",sx:m}=i,l=J(i,je),r=S({},i,{color:n,edge:x,size:c}),d=fe(r),k=a.jsx(Se,{className:d.thumb,ownerState:r});return a.jsxs(ye,{className:K(d.root,t),sx:m,ownerState:r,children:[a.jsx(ke,S({type:"checkbox",icon:k,checkedIcon:k,ref:o,ownerState:r},l,{classes:S({},d,{root:d.switchBase})})),a.jsx(Ce,{className:d.track,ownerState:r})]})}),Te=Pe;function Ne(){const{enqueueSnackbar:s}=N(),{user:e}=F(),o=_().shape({displayName:b().required("Name is required"),email:b().required("Email is required").email("Email must be a valid email address"),storeName:b().required("Store name is required"),contactPersonInTouch:b().required("Contact person in touch is required"),tradeLicense:Z().nullable().required("Trade License is required"),phoneNumber:b().required("Phone number is required"),address:b().required("Pick up Address is required"),workingTime:b().required("working Time is required"),workingDate:b().required("working Date is required")}),i={displayName:(e==null?void 0:e.displayName)||"",email:(e==null?void 0:e.email)||"",storeName:(e==null?void 0:e.storeName)||"",tradeLicense:(e==null?void 0:e.tradeLicense)||"",contactPersonInTouch:(e==null?void 0:e.contactPersonInTouch)||null,phoneNumber:(e==null?void 0:e.phoneNumber)||"",address:(e==null?void 0:e.address)||"",workingTime:(e==null?void 0:e.workingTime)||"",workingDate:(e==null?void 0:e.workingDate)||""},t=$({resolver:U(o),defaultValues:i}),{setValue:n,handleSubmit:x,formState:{isSubmitting:c}}=t,m=x(async r=>{try{const d=await R(z,"users",e.uid);await O(d,r),s("Update success!")}catch(d){console.error(d)}}),l=j.useCallback(async r=>{const d=r[0],k=new FormData;k.append("images",d);const{data:B}=await ee.post("/upload",k);B.length&&n("tradeLicense",B[0],{shouldValidate:!0})},[n]);return a.jsx(A,{methods:t,onSubmit:m,children:a.jsxs(w,{container:!0,spacing:3,children:[a.jsx(w,{xs:12,md:4,children:a.jsx(f,{sx:{pt:10,pb:5,px:3,textAlign:"center"},children:a.jsx(ae,{name:"tradeLicense",maxSize:3145728,onDrop:l,helperText:a.jsxs(se,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Trade License",a.jsx("br",{})," max size of ",te(3145728)]})})})}),a.jsx(w,{xs:12,md:8,children:a.jsxs(f,{sx:{p:3},children:[a.jsxs(L,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[a.jsx(h,{name:"displayName",label:"Name"}),a.jsx(h,{name:"email",label:"Email Address"}),a.jsx(h,{name:"storeName",label:"Store Name"}),a.jsx(h,{name:"contactPersonInTouch",label:"Contact person in touch"}),a.jsx(h,{name:"phoneNumber",label:"Phone Number"}),a.jsx(h,{name:"address",label:"Pick up address"}),a.jsx(h,{name:"workingTime",label:"Working Time"}),a.jsx(h,{name:"workingDate",label:"Working Date"})]}),a.jsx(y,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:a.jsx(q,{type:"submit",variant:"contained",loading:c,children:"Save Changes"})})]})})]})})}function M(){const{user:s}=F(),[e,o]=j.useState(s.billing);j.useEffect(()=>{o(s.billing)},[s]);const i=async()=>{const t=R(z,"users",s.uid);await O(t,{billing:e}),alert("Updated")};return a.jsx(w,{container:!0,spacing:5,disableEqualOverflow:!0,children:a.jsx(w,{xs:12,md:12,spacing:2,children:a.jsxs(f,{sx:{p:1},children:[a.jsx(p,{value:e==null?void 0:e.managementName,onChange:t=>o(n=>({...n,managementName:t.target.value})),sx:{m:1,width:"30%"},label:"Management Name"}),a.jsx(p,{value:e==null?void 0:e.managementContact,onChange:t=>o(n=>({...n,managementContact:t.target.value})),sx:{m:1,width:"30%"},label:"Management Contact"}),a.jsx(p,{value:e==null?void 0:e.managementEmail,onChange:t=>o(n=>({...n,managementEmail:t.target.value})),sx:{m:1,width:"30%"},label:"Management Email"}),a.jsx(p,{value:e==null?void 0:e.financeName,onChange:t=>o(n=>({...n,financeName:t.target.value})),sx:{m:1,width:"30%"},label:"Finance Name"}),a.jsx(p,{value:e==null?void 0:e.financeContact,onChange:t=>o(n=>({...n,financeContact:t.target.value})),sx:{m:1,width:"30%"},label:"Finance Contact"}),a.jsx(p,{value:e==null?void 0:e.financeEmail,onChange:t=>o(n=>({...n,financeEmail:t.target.value})),sx:{m:1,width:"30%"},label:"Finance Email"}),a.jsx(p,{value:e==null?void 0:e.orderName,onChange:t=>o(n=>({...n,orderName:t.target.value})),sx:{m:1,width:"30%"},label:"Order Name"}),a.jsx(p,{value:e==null?void 0:e.orderContact,onChange:t=>o(n=>({...n,orderContact:t.target.value})),sx:{m:1,width:"30%"},label:"Order Contact"}),a.jsx(p,{value:e==null?void 0:e.orderEmail,onChange:t=>o(n=>({...n,orderEmail:t.target.value})),sx:{m:1,width:"30%"},label:"Order Email"}),a.jsx(p,{value:e==null?void 0:e.pickupName,onChange:t=>o(n=>({...n,pickupName:t.target.value})),sx:{m:1,width:"30%"},label:"Pickup Name"}),a.jsx(p,{value:e==null?void 0:e.pickupContact,onChange:t=>o(n=>({...n,pickupContact:t.target.value})),sx:{m:1,width:"30%"},label:"Pickup Contact"}),a.jsx(p,{value:e==null?void 0:e.pickupEmail,onChange:t=>o(n=>({...n,pickupEmail:t.target.value})),sx:{m:1,width:"30%"},label:"Pickup Email"}),a.jsx("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end"},children:a.jsx(ne,{variant:"contained",color:"success",onClick:()=>i(),children:"Submit"})})]})})})}M.propTypes={addressBook:C.array,cards:C.array,invoices:C.array,plans:C.array};function V({socialLinks:s}){const{enqueueSnackbar:e}=N(),o={facebook:s.facebook,instagram:s.instagram,linkedin:s.linkedin,twitter:s.twitter},i=$({defaultValues:o}),{handleSubmit:t,formState:{isSubmitting:n}}=i,x=t(async c=>{try{await new Promise(m=>setTimeout(m,500)),e("Update success!"),console.info("DATA",c)}catch(m){console.error(m)}});return a.jsx(A,{methods:i,onSubmit:x,children:a.jsxs(y,{component:f,spacing:3,sx:{p:3},children:[Object.keys(s).map(c=>a.jsx(h,{name:c,InputProps:{startAdornment:a.jsx(P,{position:"start",children:a.jsx(g,{width:24,icon:c==="facebook"&&"eva:facebook-fill"||c==="instagram"&&"ant-design:instagram-filled"||c==="linkedin"&&"eva:linkedin-fill"||c==="twitter"&&"eva:twitter-fill"||"",color:c==="facebook"&&"#1877F2"||c==="instagram"&&"#DF3E30"||c==="linkedin"&&"#006097"||c==="twitter"&&"#1C9CEA"||""})})}},c)),a.jsx(q,{type:"submit",variant:"contained",loading:n,sx:{ml:"auto"},children:"Save Changes"})]})})}V.propTypes={socialLinks:C.object};const $e=[{subheader:"Activity",caption:"",items:[{id:"activity_comments",label:"Email me when customer makes a purchase."},{id:"activity_answers",label:"Email me when customer cancels an order."},{id:"activityFollows",label:"Email me when order is delivered."},{id:"application_news",label:"Email me when  someone leaves a review."},{id:"application_product",label:"Email me when stock is below 5."}]}];function Ae(){const{enqueueSnackbar:s}=N(),e=$({defaultValues:{selected:["activity_comments","application_product"]}}),{watch:o,control:i,handleSubmit:t,formState:{isSubmitting:n}}=e,x=o(),c=t(async l=>{try{await new Promise(r=>setTimeout(r,500)),s("Update success!"),console.info("DATA",l)}catch(r){console.error(r)}}),m=(l,r)=>l.includes(r)?l.filter(d=>d!==r):[...l,r];return a.jsx(A,{methods:e,onSubmit:c,children:a.jsxs(y,{component:f,spacing:3,sx:{p:3},children:[$e.map(l=>a.jsxs(w,{container:!0,spacing:3,children:[a.jsx(w,{xs:12,md:4,children:a.jsx(oe,{primary:l.subheader,secondary:l.caption,primaryTypographyProps:{typography:"h6",mb:.5},secondaryTypographyProps:{component:"span"}})}),a.jsx(w,{xs:12,md:8,children:a.jsx(y,{spacing:1,sx:{p:3,borderRadius:2,bgcolor:"background.neutral"},children:a.jsx(re,{name:"selected",control:i,render:({field:r})=>a.jsx(a.Fragment,{children:l.items.map(d=>a.jsx(ie,{label:d.label,labelPlacement:"start",control:a.jsx(Te,{checked:r.value.includes(d.id),onChange:()=>r.onChange(m(x.selected,d.id))}),sx:{m:0,width:1,justifyContent:"space-between"}},d.id))})})})})]},l.subheader)),a.jsx(q,{type:"submit",variant:"contained",loading:n,sx:{ml:"auto"},children:"Save Changes"})]})})}function qe(){const{enqueueSnackbar:s}=N(),e=ce(),o=_().shape({oldPassword:b().required("Old Password is required"),newPassword:b().required("New Password is required").min(6,"Password must be at least 6 characters").test("no-match","New password must be different than old password",(l,{parent:r})=>l!==r.oldPassword),confirmNewPassword:b().oneOf([le("newPassword")],"Passwords must match")}),i={oldPassword:"",newPassword:"",confirmNewPassword:""},t=$({resolver:U(o),defaultValues:i}),{reset:n,handleSubmit:x,formState:{isSubmitting:c}}=t,m=x(async l=>{try{await new Promise(r=>setTimeout(r,500)),n(),s("Update success!"),console.info("DATA",l)}catch(r){console.error(r)}});return a.jsx(A,{methods:t,onSubmit:m,children:a.jsxs(y,{component:f,spacing:3,sx:{p:3},children:[a.jsx(h,{name:"oldPassword",type:e.value?"text":"password",label:"Old Password",InputProps:{endAdornment:a.jsx(P,{position:"end",children:a.jsx(E,{onClick:e.onToggle,edge:"end",children:a.jsx(g,{icon:e.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),a.jsx(h,{name:"newPassword",label:"New Password",type:e.value?"text":"password",InputProps:{endAdornment:a.jsx(P,{position:"end",children:a.jsx(E,{onClick:e.onToggle,edge:"end",children:a.jsx(g,{icon:e.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},helperText:a.jsxs(y,{component:"span",direction:"row",alignItems:"center",children:[a.jsx(g,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," Password must be minimum 6+"]})}),a.jsx(h,{name:"confirmNewPassword",type:e.value?"text":"password",label:"Confirm New Password",InputProps:{endAdornment:a.jsx(P,{position:"end",children:a.jsx(E,{onClick:e.onToggle,edge:"end",children:a.jsx(g,{icon:e.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),a.jsx(q,{type:"submit",variant:"contained",loading:c,sx:{ml:"auto"},children:"Save Changes"})]})})}const Ee=[{value:"general",label:"General",icon:a.jsx(g,{icon:"solar:user-id-bold",width:24})},{value:"billing",label:"Billing",icon:a.jsx(g,{icon:"solar:bill-list-bold",width:24})},{value:"security",label:"Security",icon:a.jsx(g,{icon:"ic:round-vpn-key",width:24})}];function Be(){de();const[s,e]=j.useState("general"),o=j.useCallback((i,t)=>{e(t)},[]);return a.jsxs(L,{px:5,children:[a.jsx(ue,{heading:"Account",links:[{name:"Dashboard",href:I.dashboard.root},{name:"User",href:I.dashboard.user.root},{name:"Account"}],sx:{mb:{xs:3,md:5}}}),a.jsx(me,{value:s,onChange:o,sx:{mb:{xs:3,md:5}},children:Ee.map(i=>a.jsx(pe,{label:i.label,icon:i.icon,value:i.value},i.value))}),s==="general"&&a.jsx(Ne,{}),s==="billing"&&a.jsx(M,{plans:he,cards:xe,invoices:be,addressBook:ge}),s==="notifications"&&a.jsx(Ae,{}),s==="social"&&a.jsx(V,{socialLinks:we.socialLinks}),s==="security"&&a.jsx(qe,{})]})}function Ie(){return a.jsxs(a.Fragment,{children:[a.jsx(ve,{children:a.jsx("title",{children:" Dashboard: Account Settings"})}),a.jsx(Be,{})]})}export{Ie as default};
