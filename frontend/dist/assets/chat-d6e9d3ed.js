import{R as U,r as Z,bw as it,bx as ct,E as a,by as lt,a as ut,u as dt,j as c,W as ft,p as pt,c as ht,k as bt,T as A,F as mt,q as Et,s as vt,t as wt,B as yt}from"./index-74c9e118.js";const S=()=>{},d=S(),N=Object,b=t=>t===d,T=t=>typeof t=="function",j=(t,e)=>({...t,...e}),gt=t=>T(t.then),O=new WeakMap;let xt=0;const R=t=>{const e=typeof t,o=t&&t.constructor,r=o==Date;let n,s;if(N(t)===t&&!r&&o!=RegExp){if(n=O.get(t),n)return n;if(n=++xt+"~",O.set(t,n),o==Array){for(n="@",s=0;s<t.length;s++)n+=R(t[s])+",";O.set(t,n)}if(o==N){n="#";const i=N.keys(t).sort();for(;!b(s=i.pop());)b(t[s])||(n+=s+":"+R(t[s])+",");O.set(t,n)}}else n=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return n},x=new WeakMap,F={},D={},k="undefined",H=typeof window!=k,W=typeof document!=k,St=(t,e)=>{const o=x.get(t);return[()=>!b(e)&&t.get(e)||F,r=>{if(!b(e)){const n=t.get(e);e in D||(D[e]=n),o[5](e,j(n,r),n||F)}},o[6],()=>!b(e)&&e in D?D[e]:!b(e)&&t.get(e)||F]};let M=!0;const Tt=()=>M,[P,V]=H&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[S,S],Ct=()=>{const t=W&&document.visibilityState;return b(t)||t!=="hidden"},Rt=t=>(W&&document.addEventListener("visibilitychange",t),P("focus",t),()=>{W&&document.removeEventListener("visibilitychange",t),V("focus",t)}),_t=t=>{const e=()=>{M=!0,t()},o=()=>{M=!1};return P("online",e),P("offline",o),()=>{V("online",e),V("offline",o)}},Ot={isOnline:Tt,isVisible:Ct},Dt={initFocus:Rt,initReconnect:_t};U.useId;const tt=!H||"Deno"in window,L=typeof navigator<"u"&&navigator.connection,z=!tt&&L&&(["slow-2g","2g"].includes(L.effectiveType)||L.saveData),et=t=>{if(T(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?R(t):"",[t,e]};let jt=0;const G=()=>++jt,It=0,At=1,Nt=2;async function Ft(...t){const[e,o,r,n]=t,s=j({populateCache:!0,throwOnError:!0},typeof n=="boolean"?{revalidate:n}:n||{});let i=s.populateCache;const m=s.rollbackOnError;let f=s.optimisticData;const _=u=>typeof m=="function"?m(u):m!==!1,E=s.throwOnError;if(T(o)){const u=o,l=[],g=e.keys();for(const v of g)!/^\$(inf|sub)\$/.test(v)&&u(e.get(v)._k)&&l.push(v);return Promise.all(l.map(p))}return p(o);async function p(u){const[l]=et(u);if(!l)return;const[g,v]=St(e,l),[ot,I,at,rt]=x.get(e),B=()=>{const y=ot[l];return(T(s.revalidate)?s.revalidate(g().data,u):s.revalidate!==!1)&&(delete at[l],delete rt[l],y&&y[0])?y[0](Nt).then(()=>g().data):g().data};if(t.length<3)return B();let h=r,w;const $=G();I[l]=[$,0];const q=!b(f),J=g(),K=J.data,Y=J._c,C=b(Y)?K:Y;if(q&&(f=T(f)?f(C,K):f,v({data:f,_c:C})),T(h))try{h=h(C)}catch(y){w=y}if(h&&gt(h))if(h=await h.catch(y=>{w=y}),$!==I[l][0]){if(w)throw w;return h}else w&&q&&_(w)&&(i=!0,v({data:C,_c:d}));if(i&&!w)if(T(i)){const y=i(h,C);v({data:y,error:d,_c:d})}else v({data:h,error:d,_c:d});if(I[l][1]=G(),Promise.resolve(B()).then(()=>{v({_c:d})}),w){if(E)throw w;return}return h}}const X=(t,e)=>{for(const o in t)t[o][0]&&t[o][0](e)},Lt=(t,e)=>{if(!x.has(t)){const o=j(Dt,e),r={},n=Ft.bind(d,t);let s=S;const i={},m=(E,p)=>{const u=i[E]||[];return i[E]=u,u.push(p),()=>u.splice(u.indexOf(p),1)},f=(E,p,u)=>{t.set(E,p);const l=i[E];if(l)for(const g of l)g(p,u)},_=()=>{if(!x.has(t)&&(x.set(t,[r,{},{},{},n,f,m]),!tt)){const E=o.initFocus(setTimeout.bind(d,X.bind(d,r,It))),p=o.initReconnect(setTimeout.bind(d,X.bind(d,r,At)));s=()=>{E&&E(),p&&p(),x.delete(t)}}};return _(),[t,n,_,s]}return[t,x.get(t)[4]]},Wt=(t,e,o,r,n)=>{const s=o.errorRetryCount,i=n.retryCount,m=~~((Math.random()+.5)*(1<<(i<8?i:8)))*o.errorRetryInterval;!b(s)&&i>s||setTimeout(r,m,n)},Mt=(t,e)=>R(t)==R(e),[nt,Pt]=Lt(new Map);j({onLoadingSlow:S,onSuccess:S,onError:S,onErrorRetry:Wt,onDiscarded:S,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:z?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:z?5e3:3e3,compare:Mt,isPaused:()=>!1,cache:nt,mutate:Pt,fallback:{}},Ot);Z.createContext({});const Vt="$inf$",st=H&&window.__SWR_DEVTOOLS_USE__,Ut=st?window.__SWR_DEVTOOLS_USE__:[],Ht=()=>{st&&(window.__SWR_DEVTOOLS_REACT__=U)},Bt=t=>(e,o,r)=>t(e,o&&((...s)=>{const[i]=et(e),[,,,m]=x.get(nt);if(i.startsWith(Vt))return o(...s);const f=m[i];return b(f)?o(...s):(delete m[i],f)}),r);Ut.concat(Bt);Ht();U.use;const $t=it.create({baseURL:ct});$t.interceptors.response.use(t=>t,t=>Promise.reject(t.response&&t.response.data||"Something went wrong"));a.object;a.string,a.array,a.func;a.array,a.object,a.bool,a.string;var Q=lt;Q&&Q.isConcatSpreadable;a.func,a.bool,a.object;a.array;a.object;a.array;a.object,a.array;a.object,a.func,a.array;a.array,a.array;a.bool,a.func,a.array,a.string;a.array;a.array,a.func;const qt=["I.T.","Finance","Marketing","Sales","Stock & Delivery","Management","Other"];function Yt(){const t=ut(),e=dt();console.log(e);const[o,r]=Z.useState({data:{username:e.user.displayName,name:"",email:e.user.email,subject:"",message:"",type:"",status:"pending"}});return c.jsxs(c.Fragment,{children:[c.jsx(ft,{children:c.jsx("title",{children:" Dashboard: Chat"})}),c.jsx(pt,{variant:"h4",sx:{mb:{xs:3,md:5}},children:"Support"}),c.jsxs(ht,{sx:{maxWidth:"600px",padding:5,border:1,mx:"auto",width:"100%",borderRadius:"6px"},component:"form",onSubmit:async n=>{try{n.preventDefault(),t("/dashboard"),await bt.post("/support",o.data),alert("Ticket submitted successfully. We'll follow up with you as soon as possible.")}catch{}},children:[c.jsx("p",{children:"Submit Your Concerns as a Support Request"}),c.jsx(A,{sx:{mt:3},fullWidth:!0,label:"Full Name",value:o.data.name,onChange:n=>r(s=>({...s,data:{...s.data,name:n.target.value}}))}),c.jsx(A,{sx:{mt:3},fullWidth:!0,label:"Subject",value:o.data.subject,onChange:n=>r(s=>({...s,data:{...s.data,subject:n.target.value}}))}),c.jsxs(mt,{fullWidth:!0,sx:{mt:3},children:[c.jsx(Et,{id:"ticket-type-label",children:"Department"}),c.jsx(vt,{labelId:"ticket-type-label",value:o.data.type,label:"Department",onChange:n=>r(s=>({...s,data:{...s.data,type:n.target.value}})),children:qt.map(n=>c.jsx(wt,{value:n,children:n},n))})]}),c.jsx(A,{sx:{mt:3},fullWidth:!0,label:"Message",value:o.data.message,onChange:n=>r(s=>({...s,data:{...s.data,message:n.target.value}}))}),c.jsxs(yt,{variant:"contained",color:"success",sx:{width:"100%",mt:3},type:"submit",children:[" ","Submit"]})]})]})}export{Yt as default};
