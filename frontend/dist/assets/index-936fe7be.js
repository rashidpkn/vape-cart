import{r as u,u as h,j as e,C as b,B as j,g,D as y,b as C,c as f,W as m,d as v,e as k}from"./index-e20cc903.js";import{T,a as w,b as p,c as l,d as S}from"./TableRow-43116194.js";function R(){const[o,n]=u.useState([{enable:!1,day:"Sun",open:"",close:"",lastCall:""},{enable:!1,day:"Mon",open:"",close:"",lastCall:""},{enable:!1,day:"Thu",open:"",close:"",lastCall:""},{enable:!1,day:"Wen",open:"",close:"",lastCall:""},{enable:!1,day:"Tue",open:"",close:"",lastCall:""},{enable:!1,day:"Fri",open:"",close:"",lastCall:""},{enable:!1,day:"Sat",open:"",close:"",lastCall:""}]),{user:s}=h();u.useEffect(()=>{s.deliverySettings&&n(s.deliverySettings)},[s]);const c=async()=>{const d=g(y,"users",s.uid);await C(d,{deliverySettings:o}),alert("Updated")};return e.jsx(b,{children:e.jsxs(T,{sx:{overflow:"scroll"},children:[e.jsx(w,{children:e.jsxs(p,{children:[e.jsx(l,{}),e.jsx(l,{children:"Days"}),e.jsx(l,{children:"Open Time"}),e.jsx(l,{children:"Close Time"}),e.jsx(l,{children:"Last Call"})]})}),e.jsxs(S,{children:[o.map((d,x)=>e.jsx(B,{row:d,setDeliverySettings:n},x)),e.jsxs(p,{children:[e.jsx(l,{colSpan:4,align:"right"}),e.jsx(l,{align:"center",children:e.jsx(j,{variant:"contained",color:"success",onClick:()=>c(),children:"Submit"})})]})]})]})})}const B=({row:o,setDeliverySettings:n})=>{const{day:s,open:c,close:d,lastCall:x,enable:i}=o;return e.jsxs(p,{children:[e.jsx(l,{children:e.jsx(f,{checked:i,onChange:r=>n(t=>t.map(a=>a.day===s?{...a,enable:r.target.checked,open:"",close:"",lastCall:""}:a))})}),e.jsx(l,{children:s}),e.jsx(l,{children:e.jsx("input",{disabled:!i,sx:{width:"200px"},type:"time",style:{width:"150px",height:"40px",borderRadius:"4px",background:"none",outline:"none",border:"1px solid black",padding:"0 10px"},placeholder:"Open Time",value:c,onChange:r=>n(t=>t.map(a=>a.day===s?{...a,open:r.target.value}:a))})}),e.jsx(l,{children:e.jsx("input",{disabled:!i,sx:{width:"200px"},type:"time",style:{width:"150px",height:"40px",borderRadius:"4px",background:"none",outline:"none",border:"1px solid black",padding:"0 10px"},placeholder:"Close Time",value:d,onChange:r=>n(t=>t.map(a=>a.day===s?{...a,close:r.target.value}:a))})}),e.jsx(l,{children:e.jsx("input",{disabled:!i,sx:{width:"200px"},type:"time",style:{width:"150px",height:"40px",borderRadius:"4px",background:"none",outline:"none",border:"1px solid black",padding:"0 10px"},placeholder:"Last Call",value:x,onChange:r=>n(t=>t.map(a=>a.day===s?{...a,lastCall:r.target.value}:a))})})]},s)};function F(){return e.jsxs(e.Fragment,{children:[e.jsx(m,{children:e.jsx("title",{children:" Dashboard: Delivery Settings"})}),e.jsxs(v,{px:5,children:[e.jsx(k,{heading:"Delivery Settings",links:[{}],sx:{mb:{xs:3,md:5}}}),e.jsx(R,{})]})]})}export{F as default};
