import{c2 as N,bu as ne,D as h,af as e,aD as m,aI as P,ac as B,aw as C,ao as A,d5 as U,az as i,au as j,bx as $,aQ as G,aU as V,aW as T,by as W,aY as S,aq as b,bs as ae,aX as oe,bm as k,d6 as re,bi as I,aV as R,aM as te,bg as ie,aN as le,aB as ce,ay as _,aK as de,aL as xe,d7 as me,d8 as ue,d9 as pe,da as he,cW as be,aZ as je}from"./index-b6990d0c.js";import{C as ye}from"./custom-breadcrumbs-78515c0c.js";import{c as H,a as f,d as ge,m as fe,b as q,F,n as we,o as Ce,R as w,j as ve,C as Pe,p as Se}from"./form-provider-7df6f027.js";import{L as D,o as M}from"./yup-346cade4.js";import{d as Ae}from"./format-number-72303a76.js";import{a as Te,b as ke,c as Ie}from"./plan-premium-icon-2181c644.js";import{a as Ne,b as qe,A as Fe}from"./address-list-dialog-929ef2b6.js";import{P as De}from"./payment-new-card-dialog-5199f6fd.js";import{F as Ee,S as Le}from"./Switch-604d08bf.js";import"./image-ebb61063.js";import"./transition-bee6630b.js";import"./Checkbox-5277b66a.js";import"./Chip-33a09df3.js";import"./Autocomplete-2e785a0d.js";import"./Close-b432f479.js";import"./CircularProgress-d226df1a.js";import"./DialogTitle-65a890c1.js";import"./DialogContent-e22d6a29.js";function Be(){const{enqueueSnackbar:a}=N(),{user:s}=ne(),t=H().shape({displayName:f().required("Name is required"),email:f().required("Email is required").email("Email must be a valid email address"),storeName:f().required("Store name is required"),contactPersonInTouch:f().required("Contact person in touch is required"),tradeLicense:ge().nullable().required("Avatar is required"),phoneNumber:f().required("Phone number is required"),country:f().required("Country is required"),address:f().required("Address is required"),state:f().required("State is required"),city:f().required("City is required"),zipCode:f().required("Zip code is required"),about:f().required("About is required"),isPublic:fe()}),o={displayName:(s==null?void 0:s.displayName)||"",email:(s==null?void 0:s.email)||"",storeName:(s==null?void 0:s.storeName)||"",tradeLicense:(s==null?void 0:s.tradeLicense)||null,contactPersonInTouch:(s==null?void 0:s.contactPersonInTouch)||null,phoneNumber:(s==null?void 0:s.phoneNumber)||"",country:(s==null?void 0:s.country)||"",address:(s==null?void 0:s.address)||"",state:(s==null?void 0:s.state)||"",city:(s==null?void 0:s.city)||"",zipCode:(s==null?void 0:s.zipCode)||"",about:(s==null?void 0:s.about)||"",isPublic:(s==null?void 0:s.isPublic)||!1},c=q({resolver:M(t),defaultValues:o}),{setValue:p,handleSubmit:g,formState:{isSubmitting:l}}=c,u=g(async r=>{try{await new Promise(x=>setTimeout(x,500)),a("Update success!"),console.info("DATA",r)}catch(x){console.error(x)}}),n=h.useCallback(r=>{const x=r[0],y=Object.assign(x,{preview:URL.createObjectURL(x)});x&&p("tradeLicense",y,{shouldValidate:!0})},[p]);return e.jsx(F,{methods:c,onSubmit:u,children:e.jsxs(m,{container:!0,spacing:3,children:[e.jsx(m,{xs:12,md:4,children:e.jsxs(P,{sx:{pt:10,pb:5,px:3,textAlign:"center"},children:[e.jsx(we,{name:"tradeLicense",maxSize:3145728,onDrop:n,helperText:e.jsxs(B,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",e.jsx("br",{})," max size of ",Ae(3145728)]})}),e.jsx(Ce,{name:"isPublic",labelPlacement:"start",label:"Public Profile",sx:{mt:5}}),e.jsx(C,{variant:"soft",color:"error",sx:{mt:3},children:"Delete User"})]})}),e.jsx(m,{xs:12,md:8,children:e.jsxs(P,{sx:{p:3},children:[e.jsxs(A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(w,{name:"displayName",label:"Name"}),e.jsx(w,{name:"email",label:"Email Address"}),e.jsx(w,{name:"storeName",label:"Store Name"}),e.jsx(w,{name:"contactPersonInTouch",label:"Contact person in touch"}),e.jsx(w,{name:"phoneNumber",label:"Phone Number"}),e.jsx(w,{name:"address",label:"Address"}),e.jsx(ve,{name:"country",label:"Country",options:U.map(r=>r.label),getOptionLabel:r=>r,renderOption:(r,x)=>{const{code:y,label:v,phone:E}=U.filter(L=>L.label===x)[0];return v?h.createElement("li",{...r,key:v},e.jsx(i,{icon:`circle-flags:${y.toLowerCase()}`,width:28,sx:{mr:1}},v),v," (",y,") +",E):null}}),e.jsx(w,{name:"state",label:"State/Region"}),e.jsx(w,{name:"city",label:"City"}),e.jsx(w,{name:"zipCode",label:"Zip/Code"})]}),e.jsxs(j,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:[e.jsx(w,{name:"about",multiline:!0,rows:4,label:"About"}),e.jsx(D,{type:"submit",variant:"contained",loading:l,children:"Save Changes"})]})]})})]})})}function O({card:a,sx:s,...t}){const o=$();return e.jsxs(e.Fragment,{children:[e.jsxs(j,{spacing:1,component:G,variant:"outlined",sx:{p:2.5,width:1,position:"relative",...s},...t,children:[e.jsxs(j,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(i,{icon:a.cardType==="visa"&&"logos:visa"||"logos:mastercard",width:36}),a.primary&&e.jsx(V,{color:"info",children:"Default"})]}),e.jsx(B,{variant:"subtitle2",children:a.cardNumber}),e.jsx(T,{onClick:o.onOpen,sx:{top:8,right:8,position:"absolute"},children:e.jsx(i,{icon:"eva:more-vertical-fill"})})]}),e.jsxs(W,{open:o.open,onClose:o.onClose,children:[e.jsxs(S,{onClick:o.onClose,children:[e.jsx(i,{icon:"eva:star-fill"}),"Set as primary"]}),e.jsxs(S,{onClick:o.onClose,children:[e.jsx(i,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(S,{onClick:o.onClose,sx:{color:"error.main"},children:[e.jsx(i,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}O.propTypes={card:b.object,sx:b.object};function Z({open:a,list:s,onClose:t,selected:o,onSelect:c}){const[p,g]=h.useState(""),u=!Re({inputData:s,query:p}).length&&!!p,n=h.useCallback(y=>{g(y.target.value)},[]),r=h.useCallback(y=>{c(y),g(""),t()},[t,c]),x=e.jsx(j,{spacing:2.5,sx:{p:3},children:s.map(y=>e.jsx(O,{card:y,onClick:()=>r(y),sx:{cursor:"pointer",...o(y.id)&&{boxShadow:v=>`0 0 0 2px ${v.palette.text.primary}`}}},y.id))});return e.jsxs(ae,{fullWidth:!0,maxWidth:"xs",open:a,onClose:t,children:[e.jsxs(j,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:3,pr:1.5},children:[e.jsx(B,{variant:"h6",children:" Cards "}),e.jsx(C,{size:"small",startIcon:e.jsx(i,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})]}),e.jsx(j,{sx:{px:3},children:e.jsx(oe,{value:p,onChange:n,placeholder:"Search...",InputProps:{startAdornment:e.jsx(k,{position:"start",children:e.jsx(i,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),u?e.jsx(re,{query:p,sx:{px:3,pt:5,pb:10}}):x]})}Z.propTypes={list:b.array,onClose:b.func,onSelect:b.func,open:b.bool,selected:b.func};function Re({inputData:a,query:s}){return s?a.filter(t=>t.cardNumber.toLowerCase().indexOf(s.toLowerCase())!==-1):a}function Y({cardList:a,addressBook:s,plans:t}){const o=I(),c=I(),p=s.filter(d=>d.primary)[0],g=a.filter(d=>d.primary)[0],[l,u]=h.useState(""),[n,r]=h.useState(p),[x,y]=h.useState(g),v=h.useCallback(d=>{t.filter(se=>se.primary)[0].subscription!==d&&u(d)},[t]),E=h.useCallback(d=>{r(d)},[]),L=h.useCallback(d=>{y(d)},[]),ee=t.map(d=>e.jsx(m,{xs:12,md:4,children:e.jsxs(j,{component:G,variant:"outlined",onClick:()=>v(d.subscription),sx:{p:2.5,position:"relative",cursor:"pointer",...d.primary&&{opacity:.48,cursor:"default"},...d.subscription===l&&{boxShadow:z=>`0 0 0 2px ${z.palette.text.primary}`}},children:[d.primary&&e.jsx(V,{color:"info",startIcon:e.jsx(i,{icon:"eva:star-fill"}),sx:{position:"absolute",top:8,right:8},children:"Current"}),e.jsxs(A,{sx:{width:48,height:48},children:[d.subscription==="basic"&&e.jsx(Te,{}),d.subscription==="starter"&&e.jsx(ke,{}),d.subscription==="premium"&&e.jsx(Ie,{})]}),e.jsx(A,{sx:{typography:"subtitle2",mt:2,mb:.5,textTransform:"capitalize"},children:d.subscription}),e.jsxs(j,{direction:"row",alignItems:"center",sx:{typography:"h4"},children:[d.price||"Free",!!d.price&&e.jsx(A,{component:"span",sx:{typography:"body2",color:"text.disabled",ml:.5},children:"/mo"})]})]})},d.subscription));return e.jsxs(e.Fragment,{children:[e.jsxs(P,{children:[e.jsx(R,{title:"Plan"}),e.jsx(m,{container:!0,spacing:2,sx:{p:3},children:ee}),e.jsxs(j,{spacing:2,sx:{p:3,pt:0,typography:"body2"},children:[e.jsxs(m,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(m,{xs:12,md:4,sx:{color:"text.secondary"},children:"Plan"}),e.jsx(m,{xs:12,md:8,sx:{typography:"subtitle2",textTransform:"capitalize"},children:l||"-"})]}),e.jsxs(m,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(m,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing name"}),e.jsx(m,{xs:12,md:8,children:e.jsx(C,{onClick:o.onTrue,endIcon:e.jsx(i,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:n==null?void 0:n.name})})]}),e.jsxs(m,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(m,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing address"}),e.jsx(m,{xs:12,md:8,sx:{color:"text.secondary"},children:n==null?void 0:n.fullAddress})]}),e.jsxs(m,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(m,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing phone number"}),e.jsx(m,{xs:12,md:8,sx:{color:"text.secondary"},children:n==null?void 0:n.phoneNumber})]}),e.jsxs(m,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(m,{xs:12,md:4,sx:{color:"text.secondary"},children:"Payment method"}),e.jsx(m,{xs:12,md:8,children:e.jsx(C,{onClick:c.onTrue,endIcon:e.jsx(i,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:x==null?void 0:x.cardNumber})})]})]}),e.jsx(te,{sx:{borderStyle:"dashed"}}),e.jsxs(j,{spacing:1.5,direction:"row",justifyContent:"flex-end",sx:{p:3},children:[e.jsx(C,{variant:"outlined",children:"Cancel Plan"}),e.jsx(C,{variant:"contained",children:"Upgrade Plan"})]})]}),e.jsx(Z,{list:a,open:c.value,onClose:c.onFalse,selected:d=>(x==null?void 0:x.id)===d,onSelect:L}),e.jsx(Ne,{list:s,open:o.value,onClose:o.onFalse,selected:d=>(n==null?void 0:n.id)===d,onSelect:E,action:e.jsx(C,{size:"small",startIcon:e.jsx(i,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}Y.propTypes={addressBook:b.array,cardList:b.array,plans:b.array};function K({cards:a}){const s=I();return e.jsxs(e.Fragment,{children:[e.jsxs(P,{sx:{my:3},children:[e.jsx(R,{title:"Payment Method",action:e.jsx(C,{size:"small",color:"primary",startIcon:e.jsx(i,{icon:"mingcute:add-line"}),onClick:s.onTrue,children:"New Card"})}),e.jsx(A,{rowGap:2.5,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{p:3},children:a.map(t=>e.jsx(O,{card:t},t.id))})]}),e.jsx(De,{open:s.value,onClose:s.onFalse})]})}K.propTypes={cards:b.array};function Q({addressBook:a}){const[s,t]=h.useState(""),o=$(),c=I(),p=h.useCallback(u=>{console.info("ADDRESS",u)},[]),g=h.useCallback((u,n)=>{o.onOpen(u),t(n)},[o]),l=h.useCallback(()=>{o.onClose(),t("")},[o]);return e.jsxs(e.Fragment,{children:[e.jsxs(P,{children:[e.jsx(R,{title:"Address Book",action:e.jsx(C,{size:"small",color:"primary",startIcon:e.jsx(i,{icon:"mingcute:add-line"}),onClick:c.onTrue,children:"Address"})}),e.jsx(j,{spacing:2.5,sx:{p:3},children:a.map(u=>e.jsx(qe,{variant:"outlined",address:u,action:e.jsx(T,{onClick:n=>{g(n,`${u.id}`)},sx:{position:"absolute",top:8,right:8},children:e.jsx(i,{icon:"eva:more-vertical-fill"})}),sx:{p:2.5,borderRadius:1}},u.id))})]}),e.jsxs(W,{open:o.open,onClose:l,children:[e.jsxs(S,{onClick:()=>{l(),console.info("SET AS PRIMARY",s)},children:[e.jsx(i,{icon:"eva:star-fill"}),"Set as primary"]}),e.jsxs(S,{onClick:()=>{l(),console.info("EDIT",s)},children:[e.jsx(i,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(S,{onClick:()=>{l(),console.info("DELETE",s)},sx:{color:"error.main"},children:[e.jsx(i,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(Fe,{open:c.value,onClose:c.onFalse,onCreate:p})]})}Q.propTypes={addressBook:b.array};function X({cards:a,plans:s,invoices:t,addressBook:o}){return e.jsx(m,{container:!0,spacing:5,disableEqualOverflow:!0,children:e.jsxs(m,{xs:12,md:8,children:[e.jsx(Y,{plans:s,cardList:a,addressBook:o}),e.jsx(K,{cards:a}),e.jsx(Q,{addressBook:o})]})})}X.propTypes={addressBook:b.array,cards:b.array,invoices:b.array,plans:b.array};function J({socialLinks:a}){const{enqueueSnackbar:s}=N(),t={facebook:a.facebook,instagram:a.instagram,linkedin:a.linkedin,twitter:a.twitter},o=q({defaultValues:t}),{handleSubmit:c,formState:{isSubmitting:p}}=o,g=c(async l=>{try{await new Promise(u=>setTimeout(u,500)),s("Update success!"),console.info("DATA",l)}catch(u){console.error(u)}});return e.jsx(F,{methods:o,onSubmit:g,children:e.jsxs(j,{component:P,spacing:3,sx:{p:3},children:[Object.keys(a).map(l=>e.jsx(w,{name:l,InputProps:{startAdornment:e.jsx(k,{position:"start",children:e.jsx(i,{width:24,icon:l==="facebook"&&"eva:facebook-fill"||l==="instagram"&&"ant-design:instagram-filled"||l==="linkedin"&&"eva:linkedin-fill"||l==="twitter"&&"eva:twitter-fill"||"",color:l==="facebook"&&"#1877F2"||l==="instagram"&&"#DF3E30"||l==="linkedin"&&"#006097"||l==="twitter"&&"#1C9CEA"||""})})}},l)),e.jsx(D,{type:"submit",variant:"contained",loading:p,sx:{ml:"auto"},children:"Save Changes"})]})})}J.propTypes={socialLinks:b.object};const Oe=[{subheader:"Activity",caption:"",items:[{id:"activity_comments",label:"Email me when customer makes a purchase."},{id:"activity_answers",label:"Email me when customer cancels an order."},{id:"activityFollows",label:"Email me when order is delivered."},{id:"application_news",label:"Email me when  someone leaves a review."},{id:"application_product",label:"Email me when stock is below 5."}]}];function ze(){const{enqueueSnackbar:a}=N(),s=q({defaultValues:{selected:["activity_comments","application_product"]}}),{watch:t,control:o,handleSubmit:c,formState:{isSubmitting:p}}=s,g=t(),l=c(async n=>{try{await new Promise(r=>setTimeout(r,500)),a("Update success!"),console.info("DATA",n)}catch(r){console.error(r)}}),u=(n,r)=>n.includes(r)?n.filter(x=>x!==r):[...n,r];return e.jsx(F,{methods:s,onSubmit:l,children:e.jsxs(j,{component:P,spacing:3,sx:{p:3},children:[Oe.map(n=>e.jsxs(m,{container:!0,spacing:3,children:[e.jsx(m,{xs:12,md:4,children:e.jsx(ie,{primary:n.subheader,secondary:n.caption,primaryTypographyProps:{typography:"h6",mb:.5},secondaryTypographyProps:{component:"span"}})}),e.jsx(m,{xs:12,md:8,children:e.jsx(j,{spacing:1,sx:{p:3,borderRadius:2,bgcolor:"background.neutral"},children:e.jsx(Pe,{name:"selected",control:o,render:({field:r})=>e.jsx(e.Fragment,{children:n.items.map(x=>e.jsx(Ee,{label:x.label,labelPlacement:"start",control:e.jsx(Le,{checked:r.value.includes(x.id),onChange:()=>r.onChange(u(g.selected,x.id))}),sx:{m:0,width:1,justifyContent:"space-between"}},x.id))})})})})]},n.subheader)),e.jsx(D,{type:"submit",variant:"contained",loading:p,sx:{ml:"auto"},children:"Save Changes"})]})})}function Ue(){const{enqueueSnackbar:a}=N(),s=I(),t=H().shape({oldPassword:f().required("Old Password is required"),newPassword:f().required("New Password is required").min(6,"Password must be at least 6 characters").test("no-match","New password must be different than old password",(n,{parent:r})=>n!==r.oldPassword),confirmNewPassword:f().oneOf([Se("newPassword")],"Passwords must match")}),o={oldPassword:"",newPassword:"",confirmNewPassword:""},c=q({resolver:M(t),defaultValues:o}),{reset:p,handleSubmit:g,formState:{isSubmitting:l}}=c,u=g(async n=>{try{await new Promise(r=>setTimeout(r,500)),p(),a("Update success!"),console.info("DATA",n)}catch(r){console.error(r)}});return e.jsx(F,{methods:c,onSubmit:u,children:e.jsxs(j,{component:P,spacing:3,sx:{p:3},children:[e.jsx(w,{name:"oldPassword",type:s.value?"text":"password",label:"Old Password",InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(i,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(w,{name:"newPassword",label:"New Password",type:s.value?"text":"password",InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(i,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},helperText:e.jsxs(j,{component:"span",direction:"row",alignItems:"center",children:[e.jsx(i,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," Password must be minimum 6+"]})}),e.jsx(w,{name:"confirmNewPassword",type:s.value?"text":"password",label:"Confirm New Password",InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(i,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(D,{type:"submit",variant:"contained",loading:l,sx:{ml:"auto"},children:"Save Changes"})]})})}const _e=[{value:"general",label:"General",icon:e.jsx(i,{icon:"solar:user-id-bold",width:24})},{value:"billing",label:"Billing",icon:e.jsx(i,{icon:"solar:bill-list-bold",width:24})},{value:"notifications",label:"Notifications",icon:e.jsx(i,{icon:"solar:bell-bing-bold",width:24})},{value:"social",label:"Social links",icon:e.jsx(i,{icon:"solar:share-bold",width:24})},{value:"security",label:"Security",icon:e.jsx(i,{icon:"ic:round-vpn-key",width:24})}];function $e(){const a=le(),[s,t]=h.useState("general"),o=h.useCallback((c,p)=>{t(p)},[]);return e.jsxs(ce,{maxWidth:a.themeStretch?!1:"lg",children:[e.jsx(ye,{heading:"Account",links:[{name:"Dashboard",href:_.dashboard.root},{name:"User",href:_.dashboard.user.root},{name:"Account"}],sx:{mb:{xs:3,md:5}}}),e.jsx(de,{value:s,onChange:o,sx:{mb:{xs:3,md:5}},children:_e.map(c=>e.jsx(xe,{label:c.label,icon:c.icon,value:c.value},c.value))}),s==="general"&&e.jsx(Be,{}),s==="billing"&&e.jsx(X,{plans:me,cards:ue,invoices:pe,addressBook:he}),s==="notifications"&&e.jsx(ze,{}),s==="social"&&e.jsx(J,{socialLinks:be.socialLinks}),s==="security"&&e.jsx(Ue,{})]})}function is(){return e.jsxs(e.Fragment,{children:[e.jsx(je,{children:e.jsx("title",{children:" Dashboard: Account Settings"})}),e.jsx($e,{})]})}export{is as default};
