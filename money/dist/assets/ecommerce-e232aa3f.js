import{ae as e,aL as S,b3 as B,bH as O,bI as q,bJ as I,bK as W,as as r,bE as k,bF as u,aY as L,au as v,c3 as y,aw as N,aC as R,am as w,ac as f,c4 as G,aq as C,D as g,bw as T,aQ as H,aE as A,aG as n,c7 as D,c8 as F,c9 as U,b7 as J}from"./index-b8292cc5.js";import{T as K}from"./TableContainer-7b94333e.js";import{u as Q,C as V}from"./chart-d1a772bc.js";function E({title:t,subheader:a,tableData:i,tableLabels:h,...m}){return e.jsxs(S,{...m,children:[e.jsx(B,{title:t,subheader:a,sx:{mb:3}}),e.jsx(K,{sx:{overflow:"unset"},children:e.jsx(O,{children:e.jsxs(q,{sx:{minWidth:640},children:[e.jsx(I,{headLabel:h}),e.jsx(W,{children:i==null?void 0:i.map(l=>e.jsx(P,{row:l},l.id))})]})})})]})}E.propTypes={subheader:r.string,tableData:r.array,tableLabels:r.array,title:r.string};function P({row:t}){return e.jsxs(k,{children:[e.jsxs(u,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(L,{alt:t.name,src:t.images[0],sx:{mr:2}}),t.name]}),e.jsx(u,{children:t.salePrice}),e.jsx(u,{children:t.storeName}),e.jsx(u,{children:t.quantity})]})}P.propTypes={row:r.object};function o({title:t,percent:a,total:i,chart:h,sx:m,...l}){const c=v(),{colors:p=[c.palette.primary.light,c.palette.primary.main],series:j,options:x}=h,s=Q({colors:[p[1]],fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:p[0]},{offset:100,color:p[1]}]}},chart:{animations:{enabled:!0},sparkline:{enabled:!0}},tooltip:{x:{show:!1},y:{formatter:b=>y(b),title:{formatter:()=>""}},marker:{show:!1}},...x}),d=e.jsxs(N,{direction:"row",alignItems:"center",sx:{mt:2,mb:1},children:[e.jsx(R,{icon:a<0?"eva:trending-down-fill":"eva:trending-up-fill",sx:{mr:1,p:.5,width:24,height:24,borderRadius:"50%",color:"success.main",bgcolor:w(c.palette.success.main,.16),...a<0&&{color:"error.main",bgcolor:w(c.palette.error.main,.16)}}}),e.jsxs(f,{variant:"subtitle2",component:"div",noWrap:!0,children:[a>0&&"+",G(a),e.jsx(C,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:" than last week"})]})]});return e.jsxs(S,{sx:{display:"flex",alignItems:"center",p:3,...m},...l,children:[e.jsxs(C,{sx:{flexGrow:1},children:[e.jsx(f,{variant:"subtitle2",paragraph:!0,children:t}),e.jsx(f,{variant:"h3",gutterBottom:!0,children:y(i)}),d]}),e.jsx(V,{type:"line",series:[{data:j}],options:s,width:96,height:64})]})}o.propTypes={chart:r.object,percent:r.number,sx:r.object,title:r.string,total:r.number};function Y(){var x;const t=v(),[a,i]=g.useState([]),[h,m]=g.useState([]),[l,c]=g.useState([]),p=async()=>{const s=await D(F(U,"users")),d=[];s.forEach(b=>{d.push(b.data())}),m(d.reverse())};g.useEffect(()=>{p(),T.get("orders").then(s=>{i(s.data)}),T.get("products").then(s=>{c(s.data)})},[]);const j=H();return e.jsx(A,{maxWidth:j.themeStretch?!1:"xl",children:e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Active Partners",percent:0,total:h.length,chart:{series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Total Order Completed",percent:0,total:a.filter(s=>s.status==="completed").length,chart:{colors:[t.palette.info.light,t.palette.info.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Customers",percent:0,total:0,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Daily Signup",percent:0,total:0,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Total Product",percent:0,total:l.count,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Order Cancelled",percent:0,total:a.filter(s=>s.status==="cancelled").length,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:12,lg:12,children:e.jsx(E,{title:"Top Selling Products",tableData:(x=l.products)==null?void 0:x.sort((s,d)=>-s.quantity+d.quantity),tableLabels:[{id:"Product",label:"Product"},{id:"price",label:"Price"},{id:"Store Name",label:"Store Name"},{id:"Count",label:"Count"}]})})]})})}function X(){return e.jsxs(e.Fragment,{children:[e.jsx(J,{children:e.jsx("title",{children:" Dashboard: E-Commerce"})}),e.jsx(Y,{})]})}export{X as default};
