import{au as y,c3 as A,ae as e,aL as b,aq as v,ac as j,aw as m,aC as C,c4 as M,as as l,c5 as P,D as f,b3 as S,aj as R,c6 as W,b6 as E,bH as B,bw as N,aQ as Y,aE as G,aG as u,c7 as J,c8 as q,c9 as H,b7 as U}from"./index-b8292cc5.js";import{C as D,u as L}from"./chart-d1a772bc.js";function w({title:s,percent:o,total:d,chart:p,sx:c,...i}){const h=y(),{colors:r=[h.palette.primary.light,h.palette.primary.main],series:a,options:t}=p,x={colors:r.map(g=>g[1]),fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:r[0]},{offset:100,color:r[1]}]}},chart:{sparkline:{enabled:!0}},plotOptions:{bar:{columnWidth:"68%",borderRadius:2}},tooltip:{x:{show:!1},y:{formatter:g=>A(g),title:{formatter:()=>""}},marker:{show:!1}},...t};return e.jsxs(b,{sx:{display:"flex",alignItems:"center",p:3,...c},...i,children:[e.jsxs(v,{sx:{flexGrow:1},children:[e.jsx(j,{variant:"subtitle2",children:s}),e.jsxs(m,{direction:"row",alignItems:"center",sx:{mt:2,mb:1},children:[e.jsx(C,{width:24,icon:o<0?"solar:double-alt-arrow-down-bold-duotone":"solar:double-alt-arrow-up-bold-duotone",sx:{mr:1,color:"success.main",...o<0&&{color:"error.main"}}}),e.jsxs(j,{component:"div",variant:"subtitle2",children:[o>0&&"+",M(o)]})]}),e.jsx(j,{variant:"h3",children:A(d)})]}),e.jsx(D,{type:"bar",series:[{data:a}],options:x,width:60,height:36})]})}w.propTypes={chart:l.object,percent:l.number,sx:l.object,title:l.string,total:l.number};function T({title:s,subheader:o,chart:d,...p}){const c=y(),{colors:i=[[c.palette.primary.light,c.palette.primary.main],[c.palette.warning.light,c.palette.warning.main]],categories:h,series:r,options:a}=d,t=P(),[x,g]=f.useState("2024"),k=L({colors:i.map(n=>n[1]),fill:{type:"gradient",gradient:{colorStops:i.map(n=>[{offset:0,color:n[0]},{offset:100,color:n[1]}])}},xaxis:{categories:h},...a}),F=f.useCallback(n=>{t.onClose(),g(n)},[t]);return e.jsxs(e.Fragment,{children:[e.jsxs(b,{...p,children:[e.jsx(S,{title:s,subheader:o,action:e.jsxs(R,{onClick:t.onOpen,sx:{pl:1,py:.5,pr:.5,borderRadius:1,typography:"subtitle2",bgcolor:"background.neutral"},children:[x,e.jsx(C,{width:16,icon:t.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:.5}})]})}),r.map(n=>e.jsx(v,{sx:{mt:3,mx:3},children:n.year===x&&e.jsx(D,{dir:"ltr",type:"line",series:n.data,options:k,height:364})},n.year))]}),e.jsx(W,{open:t.open,onClose:t.onClose,sx:{width:140},children:r.map(n=>e.jsx(E,{selected:n.year===x,onClick:()=>F(n.year),children:n.year},n.year))})]})}T.propTypes={chart:l.object,subheader:l.string,title:l.string};function I({title:s,subheader:o,list:d,...p}){return e.jsxs(b,{...p,children:[e.jsx(S,{title:s,subheader:o}),e.jsx(B,{children:e.jsx(m,{spacing:3,sx:{p:3},children:d.map((c,i)=>e.jsx(O,{country:c,index:i},i))})})]})}I.propTypes={list:l.array,subheader:l.string,title:l.string};function O({country:s,index:o}){return e.jsxs(m,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(m,{direction:"row",alignItems:"center",children:o+1}),e.jsx(m,{direction:"row",alignItems:"center",children:e.jsx(j,{variant:"subtitle2",noWrap:!0,children:s.displayName})}),e.jsx(m,{direction:"row",alignItems:"center",children:e.jsx(j,{variant:"subtitle2",noWrap:!0,children:s.storeName})})]})}O.propTypes={country:l.object};function Q(){const[s,o]=f.useState([]),[d,p]=f.useState([]),c=async()=>{const r=await J(q(H,"users")),a=[];r.forEach(t=>{a.push(t.data())}),p(a.reverse())};f.useEffect(()=>{c(),N.get("/orders").then(r=>{o(r.data)})},[]);const i=y(),h=Y();return e.jsx(G,{maxWidth:h.themeStretch?!1:"xl",children:e.jsxs(u,{container:!0,spacing:3,children:[e.jsx(u,{xs:12,md:4,children:e.jsx(w,{title:"Total Active Partners",percent:0,total:d.length,chart:{series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(u,{xs:12,md:4,children:e.jsx(w,{title:"Total Revenue",percent:0,total:s.reduce((r,a)=>r+a.totalAmount,0),chart:{colors:[i.palette.info.light,i.palette.info.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(u,{xs:12,md:4,children:e.jsx(w,{title:"Total Completed Orders",percent:0,total:s.filter(r=>r.status==="completed").length,chart:{colors:[i.palette.warning.light,i.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(u,{xs:12,md:6,lg:8,children:e.jsx(T,{title:"Sales and Revenue",chart:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],series:[{year:"2023",data:[{name:"Revenue",data:[0,1,2,3,4,5,6,7,8,9,10,11].map(r=>s.reduce((a,t)=>new Date(t.createdAt).getFullYear()===2023&&new Date(t.createdAt).getMonth()===r?a+t.totalAmount:a,0)*5/100)},{name:"Sales",data:[0,1,2,3,4,5,6,7,8,9,10,11].map(r=>s.reduce((a,t)=>new Date(t.createdAt).getFullYear()===2023&&new Date(t.createdAt).getMonth()===r?a+t.totalAmount:a,0))}]},{year:"2024",data:[{name:"Revenue",data:[0,1,2,3,4,5,6,7,8,9,10,11].map(r=>s.reduce((a,t)=>new Date(t.createdAt).getFullYear()===2024&&new Date(t.createdAt).getMonth()===r?a+t.totalAmount:a,0)*5/100)},{name:"Sales",data:[0,1,2,3,4,5,6,7,8,9,10,11].map(r=>s.reduce((a,t)=>new Date(t.createdAt).getFullYear()===2024&&new Date(t.createdAt).getMonth()===r?a+t.totalAmount:a,0))}]}]}})}),e.jsx(u,{xs:12,md:6,lg:4,children:e.jsx(I,{title:"Top  Partners",list:d})})]})})}function z(){return e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx("title",{children:" Dashboard: App"})}),e.jsx(Q,{})]})}export{z as default};
