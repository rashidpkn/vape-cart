import{as as t,au as f,c3 as v,ae as e,aL as b,aq as A,ac as j,aw as m,aC as C,c4 as M,c5 as P,D as y,b3 as S,aj as R,c6 as W,b6 as E,bH as B,bw as N,aQ as Y,aE as G,aG as u,c7 as J,c8 as q,c9 as H,b7 as L}from"./index-1a7acf6a.js";import"./carousel-arrow-index-6ab30e75.js";import{C as D,u as U}from"./chart-dcfcbe08.js";t.node,t.string,t.node,t.string;t.array;t.bool,t.object;t.string,t.array,t.array,t.string;t.object;function w({title:n,percent:i,total:d,chart:p,sx:c,...l}){const h=f(),{colors:a=[h.palette.primary.light,h.palette.primary.main],series:s,options:r}=p,x={colors:a.map(g=>g[1]),fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:a[0]},{offset:100,color:a[1]}]}},chart:{sparkline:{enabled:!0}},plotOptions:{bar:{columnWidth:"68%",borderRadius:2}},tooltip:{x:{show:!1},y:{formatter:g=>v(g),title:{formatter:()=>""}},marker:{show:!1}},...r};return e.jsxs(b,{sx:{display:"flex",alignItems:"center",p:3,...c},...l,children:[e.jsxs(A,{sx:{flexGrow:1},children:[e.jsx(j,{variant:"subtitle2",children:n}),e.jsxs(m,{direction:"row",alignItems:"center",sx:{mt:2,mb:1},children:[e.jsx(C,{width:24,icon:i<0?"solar:double-alt-arrow-down-bold-duotone":"solar:double-alt-arrow-up-bold-duotone",sx:{mr:1,color:"success.main",...i<0&&{color:"error.main"}}}),e.jsxs(j,{component:"div",variant:"subtitle2",children:[i>0&&"+",M(i)]})]}),e.jsx(j,{variant:"h3",children:v(d)})]}),e.jsx(D,{type:"bar",series:[{data:s}],options:x,width:60,height:36})]})}w.propTypes={chart:t.object,percent:t.number,sx:t.object,title:t.string,total:t.number};function T({title:n,subheader:i,chart:d,...p}){const c=f(),{colors:l=[[c.palette.primary.light,c.palette.primary.main],[c.palette.warning.light,c.palette.warning.main]],categories:h,series:a,options:s}=d,r=P(),[x,g]=y.useState("2024"),k=U({colors:l.map(o=>o[1]),fill:{type:"gradient",gradient:{colorStops:l.map(o=>[{offset:0,color:o[0]},{offset:100,color:o[1]}])}},xaxis:{categories:h},...s}),F=y.useCallback(o=>{r.onClose(),g(o)},[r]);return e.jsxs(e.Fragment,{children:[e.jsxs(b,{...p,children:[e.jsx(S,{title:n,subheader:i,action:e.jsxs(R,{onClick:r.onOpen,sx:{pl:1,py:.5,pr:.5,borderRadius:1,typography:"subtitle2",bgcolor:"background.neutral"},children:[x,e.jsx(C,{width:16,icon:r.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:.5}})]})}),a.map(o=>e.jsx(A,{sx:{mt:3,mx:3},children:o.year===x&&e.jsx(D,{dir:"ltr",type:"line",series:o.data,options:k,height:364})},o.year))]}),e.jsx(W,{open:r.open,onClose:r.onClose,sx:{width:140},children:a.map(o=>e.jsx(E,{selected:o.year===x,onClick:()=>F(o.year),children:o.year},o.year))})]})}T.propTypes={chart:t.object,subheader:t.string,title:t.string};t.array,t.string,t.string;t.object;function I({title:n,subheader:i,list:d,...p}){return e.jsxs(b,{...p,children:[e.jsx(S,{title:n,subheader:i}),e.jsx(B,{children:e.jsx(m,{spacing:3,sx:{p:3},children:d.map((c,l)=>e.jsx(O,{country:c,index:l},l))})})]})}I.propTypes={list:t.array,subheader:t.string,title:t.string};function O({country:n,index:i}){return e.jsxs(m,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(m,{direction:"row",alignItems:"center",children:i+1}),e.jsx(m,{direction:"row",alignItems:"center",children:e.jsx(j,{variant:"subtitle2",noWrap:!0,children:n.displayName})}),e.jsx(m,{direction:"row",alignItems:"center",children:e.jsx(j,{variant:"subtitle2",noWrap:!0,children:n.storeName})})]})}O.propTypes={country:t.object};function Q(){const[n,i]=y.useState([]),[d,p]=y.useState([]),c=async()=>{const a=await J(q(H,"users")),s=[];a.forEach(r=>{s.push(r.data())}),p(s.reverse())};y.useEffect(()=>{c(),N.get("/orders").then(a=>{i(a.data)})},[]);const l=f(),h=Y();return e.jsx(G,{maxWidth:h.themeStretch?!1:"xl",children:e.jsxs(u,{container:!0,spacing:3,children:[e.jsx(u,{xs:12,md:4,children:e.jsx(w,{title:"Total Active Partners",percent:0,total:d.length,chart:{series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(u,{xs:12,md:4,children:e.jsx(w,{title:"Total Revenue",percent:0,total:n.reduce((a,s)=>a+s.totalAmount,0),chart:{colors:[l.palette.info.light,l.palette.info.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(u,{xs:12,md:4,children:e.jsx(w,{title:"Total Completed Orders",percent:0,total:n.filter(a=>a.status==="completed").length,chart:{colors:[l.palette.warning.light,l.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(u,{xs:12,md:6,lg:8,children:e.jsx(T,{title:"Sales and Revenue",chart:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],series:[{year:"2023",data:[{name:"Revenue",data:[0,1,2,3,4,5,6,7,8,9,10,11].map(a=>n.reduce((s,r)=>new Date(r.createdAt).getFullYear()===2023&&new Date(r.createdAt).getMonth()===a?s+r.totalAmount:s,0)*5/100)},{name:"Sales",data:[0,1,2,3,4,5,6,7,8,9,10,11].map(a=>n.reduce((s,r)=>new Date(r.createdAt).getFullYear()===2023&&new Date(r.createdAt).getMonth()===a?s+r.totalAmount:s,0))}]},{year:"2024",data:[{name:"Revenue",data:[0,1,2,3,4,5,6,7,8,9,10,11].map(a=>n.reduce((s,r)=>new Date(r.createdAt).getFullYear()===2024&&new Date(r.createdAt).getMonth()===a?s+r.totalAmount:s,0)*5/100)},{name:"Sales",data:[0,1,2,3,4,5,6,7,8,9,10,11].map(a=>n.reduce((s,r)=>new Date(r.createdAt).getFullYear()===2024&&new Date(r.createdAt).getMonth()===a?s+r.totalAmount:s,0))}]}]}})}),e.jsx(u,{xs:12,md:6,lg:4,children:e.jsx(I,{title:"Top  Partners",list:d})})]})})}function K(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{children:e.jsx("title",{children:" Dashboard: App"})}),e.jsx(Q,{})]})}export{K as default};
