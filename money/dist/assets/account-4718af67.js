import{cz as I,bZ as ne,bQ as $,bR as w,c1 as ae,dP as re,bS as q,bV as V,D as h,ae as e,bT as F,aG as x,aL as P,dQ as oe,ac as B,dR as te,dS as ie,az as C,aq as S,c0 as f,cE as le,dT as U,aC as c,aw as j,bU as D,c5 as G,aV as H,a$ as W,b4 as T,c6 as Z,b6 as A,as as b,bX as ce,b5 as de,bC as k,dU as xe,bu as N,b3 as R,aP as ue,bs as pe,bO as me,b0 as he,aR as be,dV as je,aQ as ye,by as ge,aB as _,aN as we,aO as fe,dW as Ce,dX as ve,dY as Pe,dZ as Se,dH as Ae,b7 as Te}from"./index-a5c6a5af.js";import{a as ke,b as Ne,c as Ie}from"./plan-premium-icon-9493e651.js";import{a as qe,b as Fe,A as De}from"./address-list-dialog-9f35c8c5.js";import{P as Ee}from"./payment-new-card-dialog-a339316e.js";import"./DialogTitle-8417c3c4.js";import"./DialogContent-5f33fc60.js";function Le(){const{enqueueSnackbar:n}=I(),{user:s}=ne(),t=$().shape({displayName:w().required("Name is required"),email:w().required("Email is required").email("Email must be a valid email address"),storeName:w().required("Store name is required"),contactPersonInTouch:w().required("Contact person in touch is required"),tradeLicense:ae().nullable().required("Avatar is required"),phoneNumber:w().required("Phone number is required"),country:w().required("Country is required"),address:w().required("Address is required"),state:w().required("State is required"),city:w().required("City is required"),zipCode:w().required("Zip code is required"),about:w().required("About is required"),isPublic:re()}),a={displayName:(s==null?void 0:s.displayName)||"",email:(s==null?void 0:s.email)||"",storeName:(s==null?void 0:s.storeName)||"",tradeLicense:(s==null?void 0:s.tradeLicense)||null,contactPersonInTouch:(s==null?void 0:s.contactPersonInTouch)||null,phoneNumber:(s==null?void 0:s.phoneNumber)||"",country:(s==null?void 0:s.country)||"",address:(s==null?void 0:s.address)||"",state:(s==null?void 0:s.state)||"",city:(s==null?void 0:s.city)||"",zipCode:(s==null?void 0:s.zipCode)||"",about:(s==null?void 0:s.about)||"",isPublic:(s==null?void 0:s.isPublic)||!1},u=q({resolver:V(t),defaultValues:a}),{setValue:m,handleSubmit:g,formState:{isSubmitting:i}}=u,p=g(async o=>{try{await new Promise(d=>setTimeout(d,500)),n("Update success!"),console.info("DATA",o)}catch(d){console.error(d)}}),r=h.useCallback(o=>{const d=o[0],y=Object.assign(d,{preview:URL.createObjectURL(d)});d&&m("tradeLicense",y,{shouldValidate:!0})},[m]);return e.jsx(F,{methods:u,onSubmit:p,children:e.jsxs(x,{container:!0,spacing:3,children:[e.jsx(x,{xs:12,md:4,children:e.jsxs(P,{sx:{pt:10,pb:5,px:3,textAlign:"center"},children:[e.jsx(oe,{name:"tradeLicense",maxSize:3145728,onDrop:r,helperText:e.jsxs(B,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",e.jsx("br",{})," max size of ",te(3145728)]})}),e.jsx(ie,{name:"isPublic",labelPlacement:"start",label:"Public Profile",sx:{mt:5}}),e.jsx(C,{variant:"soft",color:"error",sx:{mt:3},children:"Delete User"})]})}),e.jsx(x,{xs:12,md:8,children:e.jsxs(P,{sx:{p:3},children:[e.jsxs(S,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(f,{name:"displayName",label:"Name"}),e.jsx(f,{name:"email",label:"Email Address"}),e.jsx(f,{name:"storeName",label:"Store Name"}),e.jsx(f,{name:"contactPersonInTouch",label:"Contact person in touch"}),e.jsx(f,{name:"phoneNumber",label:"Phone Number"}),e.jsx(f,{name:"address",label:"Address"}),e.jsx(le,{name:"country",label:"Country",options:U.map(o=>o.label),getOptionLabel:o=>o,renderOption:(o,d)=>{const{code:y,label:v,phone:E}=U.filter(L=>L.label===d)[0];return v?h.createElement("li",{...o,key:v},e.jsx(c,{icon:`circle-flags:${y.toLowerCase()}`,width:28,sx:{mr:1}},v),v," (",y,") +",E):null}}),e.jsx(f,{name:"state",label:"State/Region"}),e.jsx(f,{name:"city",label:"City"}),e.jsx(f,{name:"zipCode",label:"Zip/Code"})]}),e.jsxs(j,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:[e.jsx(f,{name:"about",multiline:!0,rows:4,label:"About"}),e.jsx(D,{type:"submit",variant:"contained",loading:i,children:"Save Changes"})]})]})})]})})}function O({card:n,sx:s,...t}){const a=G();return e.jsxs(e.Fragment,{children:[e.jsxs(j,{spacing:1,component:H,variant:"outlined",sx:{p:2.5,width:1,position:"relative",...s},...t,children:[e.jsxs(j,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(c,{icon:n.cardType==="visa"&&"logos:visa"||"logos:mastercard",width:36}),n.primary&&e.jsx(W,{color:"info",children:"Default"})]}),e.jsx(B,{variant:"subtitle2",children:n.cardNumber}),e.jsx(T,{onClick:a.onOpen,sx:{top:8,right:8,position:"absolute"},children:e.jsx(c,{icon:"eva:more-vertical-fill"})})]}),e.jsxs(Z,{open:a.open,onClose:a.onClose,children:[e.jsxs(A,{onClick:a.onClose,children:[e.jsx(c,{icon:"eva:star-fill"}),"Set as primary"]}),e.jsxs(A,{onClick:a.onClose,children:[e.jsx(c,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(A,{onClick:a.onClose,sx:{color:"error.main"},children:[e.jsx(c,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}O.propTypes={card:b.object,sx:b.object};function M({open:n,list:s,onClose:t,selected:a,onSelect:u}){const[m,g]=h.useState(""),p=!Be({inputData:s,query:m}).length&&!!m,r=h.useCallback(y=>{g(y.target.value)},[]),o=h.useCallback(y=>{u(y),g(""),t()},[t,u]),d=e.jsx(j,{spacing:2.5,sx:{p:3},children:s.map(y=>e.jsx(O,{card:y,onClick:()=>o(y),sx:{cursor:"pointer",...a(y.id)&&{boxShadow:v=>`0 0 0 2px ${v.palette.text.primary}`}}},y.id))});return e.jsxs(ce,{fullWidth:!0,maxWidth:"xs",open:n,onClose:t,children:[e.jsxs(j,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:3,pr:1.5},children:[e.jsx(B,{variant:"h6",children:" Cards "}),e.jsx(C,{size:"small",startIcon:e.jsx(c,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})]}),e.jsx(j,{sx:{px:3},children:e.jsx(de,{value:m,onChange:r,placeholder:"Search...",InputProps:{startAdornment:e.jsx(k,{position:"start",children:e.jsx(c,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),p?e.jsx(xe,{query:m,sx:{px:3,pt:5,pb:10}}):d]})}M.propTypes={list:b.array,onClose:b.func,onSelect:b.func,open:b.bool,selected:b.func};function Be({inputData:n,query:s}){return s?n.filter(t=>t.cardNumber.toLowerCase().indexOf(s.toLowerCase())!==-1):n}function Q({cardList:n,addressBook:s,plans:t}){const a=N(),u=N(),m=s.filter(l=>l.primary)[0],g=n.filter(l=>l.primary)[0],[i,p]=h.useState(""),[r,o]=h.useState(m),[d,y]=h.useState(g),v=h.useCallback(l=>{t.filter(se=>se.primary)[0].subscription!==l&&p(l)},[t]),E=h.useCallback(l=>{o(l)},[]),L=h.useCallback(l=>{y(l)},[]),ee=t.map(l=>e.jsx(x,{xs:12,md:4,children:e.jsxs(j,{component:H,variant:"outlined",onClick:()=>v(l.subscription),sx:{p:2.5,position:"relative",cursor:"pointer",...l.primary&&{opacity:.48,cursor:"default"},...l.subscription===i&&{boxShadow:z=>`0 0 0 2px ${z.palette.text.primary}`}},children:[l.primary&&e.jsx(W,{color:"info",startIcon:e.jsx(c,{icon:"eva:star-fill"}),sx:{position:"absolute",top:8,right:8},children:"Current"}),e.jsxs(S,{sx:{width:48,height:48},children:[l.subscription==="basic"&&e.jsx(ke,{}),l.subscription==="starter"&&e.jsx(Ne,{}),l.subscription==="premium"&&e.jsx(Ie,{})]}),e.jsx(S,{sx:{typography:"subtitle2",mt:2,mb:.5,textTransform:"capitalize"},children:l.subscription}),e.jsxs(j,{direction:"row",alignItems:"center",sx:{typography:"h4"},children:[l.price||"Free",!!l.price&&e.jsx(S,{component:"span",sx:{typography:"body2",color:"text.disabled",ml:.5},children:"/mo"})]})]})},l.subscription));return e.jsxs(e.Fragment,{children:[e.jsxs(P,{children:[e.jsx(R,{title:"Plan"}),e.jsx(x,{container:!0,spacing:2,sx:{p:3},children:ee}),e.jsxs(j,{spacing:2,sx:{p:3,pt:0,typography:"body2"},children:[e.jsxs(x,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(x,{xs:12,md:4,sx:{color:"text.secondary"},children:"Plan"}),e.jsx(x,{xs:12,md:8,sx:{typography:"subtitle2",textTransform:"capitalize"},children:i||"-"})]}),e.jsxs(x,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(x,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing name"}),e.jsx(x,{xs:12,md:8,children:e.jsx(C,{onClick:a.onTrue,endIcon:e.jsx(c,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:r==null?void 0:r.name})})]}),e.jsxs(x,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(x,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing address"}),e.jsx(x,{xs:12,md:8,sx:{color:"text.secondary"},children:r==null?void 0:r.fullAddress})]}),e.jsxs(x,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(x,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing phone number"}),e.jsx(x,{xs:12,md:8,sx:{color:"text.secondary"},children:r==null?void 0:r.phoneNumber})]}),e.jsxs(x,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(x,{xs:12,md:4,sx:{color:"text.secondary"},children:"Payment method"}),e.jsx(x,{xs:12,md:8,children:e.jsx(C,{onClick:u.onTrue,endIcon:e.jsx(c,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:d==null?void 0:d.cardNumber})})]})]}),e.jsx(ue,{sx:{borderStyle:"dashed"}}),e.jsxs(j,{spacing:1.5,direction:"row",justifyContent:"flex-end",sx:{p:3},children:[e.jsx(C,{variant:"outlined",children:"Cancel Plan"}),e.jsx(C,{variant:"contained",children:"Upgrade Plan"})]})]}),e.jsx(M,{list:n,open:u.value,onClose:u.onFalse,selected:l=>(d==null?void 0:d.id)===l,onSelect:L}),e.jsx(qe,{list:s,open:a.value,onClose:a.onFalse,selected:l=>(r==null?void 0:r.id)===l,onSelect:E,action:e.jsx(C,{size:"small",startIcon:e.jsx(c,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}Q.propTypes={addressBook:b.array,cardList:b.array,plans:b.array};function X({cards:n}){const s=N();return e.jsxs(e.Fragment,{children:[e.jsxs(P,{sx:{my:3},children:[e.jsx(R,{title:"Payment Method",action:e.jsx(C,{size:"small",color:"primary",startIcon:e.jsx(c,{icon:"mingcute:add-line"}),onClick:s.onTrue,children:"New Card"})}),e.jsx(S,{rowGap:2.5,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{p:3},children:n.map(t=>e.jsx(O,{card:t},t.id))})]}),e.jsx(Ee,{open:s.value,onClose:s.onFalse})]})}X.propTypes={cards:b.array};function Y({addressBook:n}){const[s,t]=h.useState(""),a=G(),u=N(),m=h.useCallback(p=>{console.info("ADDRESS",p)},[]),g=h.useCallback((p,r)=>{a.onOpen(p),t(r)},[a]),i=h.useCallback(()=>{a.onClose(),t("")},[a]);return e.jsxs(e.Fragment,{children:[e.jsxs(P,{children:[e.jsx(R,{title:"Address Book",action:e.jsx(C,{size:"small",color:"primary",startIcon:e.jsx(c,{icon:"mingcute:add-line"}),onClick:u.onTrue,children:"Address"})}),e.jsx(j,{spacing:2.5,sx:{p:3},children:n.map(p=>e.jsx(Fe,{variant:"outlined",address:p,action:e.jsx(T,{onClick:r=>{g(r,`${p.id}`)},sx:{position:"absolute",top:8,right:8},children:e.jsx(c,{icon:"eva:more-vertical-fill"})}),sx:{p:2.5,borderRadius:1}},p.id))})]}),e.jsxs(Z,{open:a.open,onClose:i,children:[e.jsxs(A,{onClick:()=>{i(),console.info("SET AS PRIMARY",s)},children:[e.jsx(c,{icon:"eva:star-fill"}),"Set as primary"]}),e.jsxs(A,{onClick:()=>{i(),console.info("EDIT",s)},children:[e.jsx(c,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(A,{onClick:()=>{i(),console.info("DELETE",s)},sx:{color:"error.main"},children:[e.jsx(c,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(De,{open:u.value,onClose:u.onFalse,onCreate:m})]})}Y.propTypes={addressBook:b.array};function J({cards:n,plans:s,invoices:t,addressBook:a}){return e.jsx(x,{container:!0,spacing:5,disableEqualOverflow:!0,children:e.jsxs(x,{xs:12,md:8,children:[e.jsx(Q,{plans:s,cardList:n,addressBook:a}),e.jsx(X,{cards:n}),e.jsx(Y,{addressBook:a})]})})}J.propTypes={addressBook:b.array,cards:b.array,invoices:b.array,plans:b.array};function K({socialLinks:n}){const{enqueueSnackbar:s}=I(),t={facebook:n.facebook,instagram:n.instagram,linkedin:n.linkedin,twitter:n.twitter},a=q({defaultValues:t}),{handleSubmit:u,formState:{isSubmitting:m}}=a,g=u(async i=>{try{await new Promise(p=>setTimeout(p,500)),s("Update success!"),console.info("DATA",i)}catch(p){console.error(p)}});return e.jsx(F,{methods:a,onSubmit:g,children:e.jsxs(j,{component:P,spacing:3,sx:{p:3},children:[Object.keys(n).map(i=>e.jsx(f,{name:i,InputProps:{startAdornment:e.jsx(k,{position:"start",children:e.jsx(c,{width:24,icon:i==="facebook"&&"eva:facebook-fill"||i==="instagram"&&"ant-design:instagram-filled"||i==="linkedin"&&"eva:linkedin-fill"||i==="twitter"&&"eva:twitter-fill"||"",color:i==="facebook"&&"#1877F2"||i==="instagram"&&"#DF3E30"||i==="linkedin"&&"#006097"||i==="twitter"&&"#1C9CEA"||""})})}},i)),e.jsx(D,{type:"submit",variant:"contained",loading:m,sx:{ml:"auto"},children:"Save Changes"})]})})}K.propTypes={socialLinks:b.object};const Re=[{subheader:"Activity",caption:"",items:[{id:"activity_comments",label:"Email me when customer makes a purchase."},{id:"activity_answers",label:"Email me when customer cancels an order."},{id:"activityFollows",label:"Email me when order is delivered."},{id:"application_news",label:"Email me when  someone leaves a review."},{id:"application_product",label:"Email me when stock is below 5."}]}];function Oe(){const{enqueueSnackbar:n}=I(),s=q({defaultValues:{selected:["activity_comments","application_product"]}}),{watch:t,control:a,handleSubmit:u,formState:{isSubmitting:m}}=s,g=t(),i=u(async r=>{try{await new Promise(o=>setTimeout(o,500)),n("Update success!"),console.info("DATA",r)}catch(o){console.error(o)}}),p=(r,o)=>r.includes(o)?r.filter(d=>d!==o):[...r,o];return e.jsx(F,{methods:s,onSubmit:i,children:e.jsxs(j,{component:P,spacing:3,sx:{p:3},children:[Re.map(r=>e.jsxs(x,{container:!0,spacing:3,children:[e.jsx(x,{xs:12,md:4,children:e.jsx(pe,{primary:r.subheader,secondary:r.caption,primaryTypographyProps:{typography:"h6",mb:.5},secondaryTypographyProps:{component:"span"}})}),e.jsx(x,{xs:12,md:8,children:e.jsx(j,{spacing:1,sx:{p:3,borderRadius:2,bgcolor:"background.neutral"},children:e.jsx(me,{name:"selected",control:a,render:({field:o})=>e.jsx(e.Fragment,{children:r.items.map(d=>e.jsx(he,{label:d.label,labelPlacement:"start",control:e.jsx(be,{checked:o.value.includes(d.id),onChange:()=>o.onChange(p(g.selected,d.id))}),sx:{m:0,width:1,justifyContent:"space-between"}},d.id))})})})})]},r.subheader)),e.jsx(D,{type:"submit",variant:"contained",loading:m,sx:{ml:"auto"},children:"Save Changes"})]})})}function ze(){const{enqueueSnackbar:n}=I(),s=N(),t=$().shape({oldPassword:w().required("Old Password is required"),newPassword:w().required("New Password is required").min(6,"Password must be at least 6 characters").test("no-match","New password must be different than old password",(r,{parent:o})=>r!==o.oldPassword),confirmNewPassword:w().oneOf([je("newPassword")],"Passwords must match")}),a={oldPassword:"",newPassword:"",confirmNewPassword:""},u=q({resolver:V(t),defaultValues:a}),{reset:m,handleSubmit:g,formState:{isSubmitting:i}}=u,p=g(async r=>{try{await new Promise(o=>setTimeout(o,500)),m(),n("Update success!"),console.info("DATA",r)}catch(o){console.error(o)}});return e.jsx(F,{methods:u,onSubmit:p,children:e.jsxs(j,{component:P,spacing:3,sx:{p:3},children:[e.jsx(f,{name:"oldPassword",type:s.value?"text":"password",label:"Old Password",InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(c,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(f,{name:"newPassword",label:"New Password",type:s.value?"text":"password",InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(c,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},helperText:e.jsxs(j,{component:"span",direction:"row",alignItems:"center",children:[e.jsx(c,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," Password must be minimum 6+"]})}),e.jsx(f,{name:"confirmNewPassword",type:s.value?"text":"password",label:"Confirm New Password",InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(c,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(D,{type:"submit",variant:"contained",loading:i,sx:{ml:"auto"},children:"Save Changes"})]})})}const Ue=[{value:"general",label:"General",icon:e.jsx(c,{icon:"solar:user-id-bold",width:24})},{value:"notifications",label:"Notifications",icon:e.jsx(c,{icon:"solar:bell-bing-bold",width:24})},{value:"security",label:"Security",icon:e.jsx(c,{icon:"ic:round-vpn-key",width:24})}];function _e(){ye();const[n,s]=h.useState("general"),t=h.useCallback((a,u)=>{s(u)},[]);return e.jsxs(S,{px:5,children:[e.jsx(ge,{heading:"Account",links:[{name:"Dashboard",href:_.dashboard.root},{name:"User",href:_.dashboard.user.root},{name:"Account"}],sx:{mb:{xs:3,md:5}}}),e.jsx(we,{value:n,onChange:t,sx:{mb:{xs:3,md:5}},children:Ue.map(a=>e.jsx(fe,{label:a.label,icon:a.icon,value:a.value},a.value))}),n==="general"&&e.jsx(Le,{}),n==="billing"&&e.jsx(J,{plans:Ce,cards:ve,invoices:Pe,addressBook:Se}),n==="notifications"&&e.jsx(Oe,{}),n==="social"&&e.jsx(K,{socialLinks:Ae.socialLinks}),n==="security"&&e.jsx(ze,{})]})}function Me(){return e.jsxs(e.Fragment,{children:[e.jsx(Te,{children:e.jsx("title",{children:" Dashboard: Account Settings"})}),e.jsx(_e,{})]})}export{Me as default};
