import{j as e,aN as S,aR as E,aV as B,b0 as O,b1 as N,b2 as R,P as r,b3 as W,b4 as h,b5 as k,u as T,aM as f,S as q,aK as I,b6 as y,g as j,aP as A,aO as b,a4 as u,aW as w,aX as L,aY as n,aZ as G,a_ as H,a$ as U,W as V}from"./index-519398e3.js";import{T as _}from"./TableContainer-7d1c93e5.js";import{u as D}from"./chart-8464593c.js";function v({title:t,subheader:a,tableData:l,tableLabels:m,...p}){return e.jsxs(S,{...p,children:[e.jsx(E,{title:t,subheader:a,sx:{mb:3}}),e.jsx(_,{sx:{overflow:"unset"},children:e.jsx(B,{children:e.jsxs(O,{sx:{minWidth:640},children:[e.jsx(N,{headLabel:m}),e.jsx(R,{children:l==null?void 0:l.map(i=>e.jsx(P,{row:i},i.id))})]})})})]})}v.propTypes={subheader:r.string,tableData:r.array,tableLabels:r.array,title:r.string};function P({row:t}){return e.jsxs(W,{children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(k,{alt:t.name,src:t.images[0],sx:{mr:2}}),t.name]}),e.jsx(h,{children:t.salePrice}),e.jsx(h,{children:t.storeName}),e.jsx(h,{children:t.quantity})]})}P.propTypes={row:r.object};function o({title:t,percent:a,total:l,chart:m,sx:p,...i}){const c=T(),{colors:x=[c.palette.primary.light,c.palette.primary.main],series:g,options:s}=m;return D({colors:[x[1]],fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:x[0]},{offset:100,color:x[1]}]}},chart:{animations:{enabled:!0},sparkline:{enabled:!0}},tooltip:{x:{show:!1},y:{formatter:d=>f(d),title:{formatter:()=>""}},marker:{show:!1}},...s}),q,I,a<0,{bgcolor:y(c.palette.success.main,.16),...a<0&&{color:"error.main",bgcolor:y(c.palette.error.main,.16)}},j,a>0,A(a),b,e.jsx(S,{sx:{display:"flex",alignItems:"center",p:3,...p},...i,children:e.jsxs(b,{sx:{flexGrow:1},children:[e.jsx(j,{variant:"subtitle2",paragraph:!0,children:t}),e.jsx(j,{variant:"h3",gutterBottom:!0,children:f(l)})]})})}o.propTypes={chart:r.object,percent:r.number,sx:r.object,title:r.string,total:r.number};function F(){var g;const t=T(),[a,l]=u.useState([]),[m,p]=u.useState([]),[i,c]=u.useState([]),x=async()=>{const s=await G(H(U,"users")),d=[];s.forEach(C=>{d.push(C.data())}),p(d.reverse())};return u.useEffect(()=>{x(),w.get("orders").then(s=>{l(s.data)}),w.get("products").then(s=>{c(s.data)})},[]),L(),e.jsx(b,{px:5,children:e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Active Partners",percent:0,total:m.length,chart:{series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Total Order Completed",percent:0,total:a.filter(s=>s.status==="completed").length,chart:{colors:[t.palette.info.light,t.palette.info.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Customers",percent:0,total:0,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Daily Signup",percent:0,total:0,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Total Product",percent:0,total:i.count,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Order Cancelled",percent:0,total:a.filter(s=>s.status==="cancelled").length,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:12,lg:12,children:e.jsx(v,{title:"Top Selling Products",tableData:(g=i.products)==null?void 0:g.sort((s,d)=>-s.quantity+d.quantity),tableLabels:[{id:"Product",label:"Product"},{id:"price",label:"Price"},{id:"Store Name",label:"Store Name"},{id:"Count",label:"Count"}]})})]})})}function Y(){return e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx("title",{children:" Dashboard: Analytics"})}),e.jsx(F,{})]})}export{Y as default};
