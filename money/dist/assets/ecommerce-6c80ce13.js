import{as as t,ae as e,aL as S,b3 as O,bH as G,bI as q,bJ as L,bK as N,bE as R,bF as u,aY as W,ab as k,au as P,c3 as y,aw as A,aC as D,am as T,ac as f,c4 as _,aq as w,D as g,bw as C,aQ as F,aE as U,aG as n,c7 as $,c8 as J,c9 as K,b7 as Q}from"./index-fe07d94b.js";import{C as H,u as V}from"./chart-7674f66d.js";import{T as Y}from"./TableContainer-928a542c.js";import"./color-picker-194f4e56.js";t.object,t.string,t.string;function B({title:s,subheader:a,tableData:i,tableLabels:h,...p}){return e.jsxs(S,{...p,children:[e.jsx(O,{title:s,subheader:a,sx:{mb:3}}),e.jsx(Y,{sx:{overflow:"unset"},children:e.jsx(G,{children:e.jsxs(q,{sx:{minWidth:640},children:[e.jsx(L,{headLabel:h}),e.jsx(N,{children:i==null?void 0:i.map(l=>e.jsx(I,{row:l},l.id))})]})})})]})}B.propTypes={subheader:t.string,tableData:t.array,tableLabels:t.array,title:t.string};function I({row:s}){return e.jsxs(R,{children:[e.jsxs(u,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(W,{alt:s.name,src:s.images[0],sx:{mr:2}}),s.name]}),e.jsx(u,{children:s.salePrice}),e.jsx(u,{children:s.storeName}),e.jsx(u,{children:s.quantity})]})}I.propTypes={row:t.object};const v=400,E=72;k(H)(({theme:s})=>({height:v,"& .apexcharts-canvas, .apexcharts-inner, svg, foreignObject":{height:"100% !important"},"& .apexcharts-legend":{height:E,borderTop:`dashed 1px ${s.palette.divider}`,top:`calc(${v-E}px) !important`}}));t.object,t.string,t.string,t.number;t.array,t.string,t.string;t.object;function o({title:s,percent:a,total:i,chart:h,sx:p,...l}){const c=P(),{colors:m=[c.palette.primary.light,c.palette.primary.main],series:b,options:x}=h,r=V({colors:[m[1]],fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:m[0]},{offset:100,color:m[1]}]}},chart:{animations:{enabled:!0},sparkline:{enabled:!0}},tooltip:{x:{show:!1},y:{formatter:j=>y(j),title:{formatter:()=>""}},marker:{show:!1}},...x}),d=e.jsxs(A,{direction:"row",alignItems:"center",sx:{mt:2,mb:1},children:[e.jsx(D,{icon:a<0?"eva:trending-down-fill":"eva:trending-up-fill",sx:{mr:1,p:.5,width:24,height:24,borderRadius:"50%",color:"success.main",bgcolor:T(c.palette.success.main,.16),...a<0&&{color:"error.main",bgcolor:T(c.palette.error.main,.16)}}}),e.jsxs(f,{variant:"subtitle2",component:"div",noWrap:!0,children:[a>0&&"+",_(a),e.jsx(w,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:" than last week"})]})]});return e.jsxs(S,{sx:{display:"flex",alignItems:"center",p:3,...p},...l,children:[e.jsxs(w,{sx:{flexGrow:1},children:[e.jsx(f,{variant:"subtitle2",paragraph:!0,children:s}),e.jsx(f,{variant:"h3",gutterBottom:!0,children:y(i)}),d]}),e.jsx(H,{type:"line",series:[{data:b}],options:r,width:96,height:64})]})}o.propTypes={chart:t.object,percent:t.number,sx:t.object,title:t.string,total:t.number};t.array,t.string,t.string;t.object;t.number,t.number,t.object,t.string;function z(){var x;const s=P(),[a,i]=g.useState([]),[h,p]=g.useState([]),[l,c]=g.useState([]),m=async()=>{const r=await $(J(K,"users")),d=[];r.forEach(j=>{d.push(j.data())}),p(d.reverse())};g.useEffect(()=>{m(),C.get("orders").then(r=>{i(r.data)}),C.get("products").then(r=>{c(r.data)})},[]);const b=F();return e.jsx(U,{maxWidth:b.themeStretch?!1:"xl",children:e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Active Partners",percent:0,total:h.length,chart:{series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Total Order Completed",percent:0,total:a.filter(r=>r.status==="completed").length,chart:{colors:[s.palette.info.light,s.palette.info.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Customers",percent:0,total:0,chart:{colors:[s.palette.warning.light,s.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Daily Signup",percent:0,total:0,chart:{colors:[s.palette.warning.light,s.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Total Product",percent:0,total:l.count,chart:{colors:[s.palette.warning.light,s.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Order Cancelled",percent:0,total:a.filter(r=>r.status==="cancelled").length,chart:{colors:[s.palette.warning.light,s.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:12,lg:12,children:e.jsx(B,{title:"Top Selling Products",tableData:(x=l.products)==null?void 0:x.sort((r,d)=>-r.quantity+d.quantity),tableLabels:[{id:"Product",label:"Product"},{id:"price",label:"Price"},{id:"Store Name",label:"Store Name"},{id:"Count",label:"Count"}]})})]})})}function te(){return e.jsxs(e.Fragment,{children:[e.jsx(Q,{children:e.jsx("title",{children:" Dashboard: E-Commerce"})}),e.jsx(z,{})]})}export{te as default};
