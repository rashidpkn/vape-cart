import{aq as t,af as e,aI as E,aV as O,bp as N,aR as R,ab as q,as as P,au as A,az as G,am as y,ac as f,ao as T,D as u,aN as W,aB as k,aD as n,bz as D,bA as L,bB as U,aZ as _}from"./index-3a6092f3.js";import{C as B,u as z}from"./chart-b8d2f101.js";import{a as v,b as V}from"./format-number-55897087.js";import{b as $,T as F,a as g}from"./table-pagination-custom-9f2e8359.js";import{T as Z,a as J,b as K}from"./TableContainer-2bdb3670.js";import"./color-picker-ee22677c.js";import{a as w}from"./api-3aac980b.js";import"./Checkbox-2f389a9c.js";import"./axios-e0d8a382.js";t.object,t.string,t.string;function H({title:r,subheader:a,tableData:i,tableLabels:h,...m}){return e.jsxs(E,{...m,children:[e.jsx(O,{title:r,subheader:a,sx:{mb:3}}),e.jsx(Z,{sx:{overflow:"unset"},children:e.jsx(N,{children:e.jsxs(J,{sx:{minWidth:640},children:[e.jsx($,{headLabel:h}),e.jsx(K,{children:i==null?void 0:i.map(o=>e.jsx(I,{row:o},o.id))})]})})})]})}H.propTypes={subheader:t.string,tableData:t.array,tableLabels:t.array,title:t.string};function I({row:r}){return e.jsxs(F,{children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(R,{alt:r.name,src:r.avatarUrl,sx:{mr:2}}),r.name]}),e.jsx(g,{children:r.salePrice}),e.jsx(g,{children:r.storeName}),e.jsx(g,{children:r.quantity})]})}I.propTypes={row:t.object};const C=400,S=72;q(B)(({theme:r})=>({height:C,"& .apexcharts-canvas, .apexcharts-inner, svg, foreignObject":{height:"100% !important"},"& .apexcharts-legend":{height:S,borderTop:`dashed 1px ${r.palette.divider}`,top:`calc(${C-S}px) !important`}}));t.object,t.string,t.string,t.number;t.array,t.string,t.string;t.object;function l({title:r,percent:a,total:i,chart:h,sx:m,...o}){const c=P(),{colors:p=[c.palette.primary.light,c.palette.primary.main],series:b,options:x}=h,s=z({colors:[p[1]],fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:p[0]},{offset:100,color:p[1]}]}},chart:{animations:{enabled:!0},sparkline:{enabled:!0}},tooltip:{x:{show:!1},y:{formatter:j=>v(j),title:{formatter:()=>""}},marker:{show:!1}},...x}),d=e.jsxs(A,{direction:"row",alignItems:"center",sx:{mt:2,mb:1},children:[e.jsx(G,{icon:a<0?"eva:trending-down-fill":"eva:trending-up-fill",sx:{mr:1,p:.5,width:24,height:24,borderRadius:"50%",color:"success.main",bgcolor:y(c.palette.success.main,.16),...a<0&&{color:"error.main",bgcolor:y(c.palette.error.main,.16)}}}),e.jsxs(f,{variant:"subtitle2",component:"div",noWrap:!0,children:[a>0&&"+",V(a),e.jsx(T,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:" than last week"})]})]});return e.jsxs(E,{sx:{display:"flex",alignItems:"center",p:3,...m},...o,children:[e.jsxs(T,{sx:{flexGrow:1},children:[e.jsx(f,{variant:"subtitle2",paragraph:!0,children:r}),e.jsx(f,{variant:"h3",gutterBottom:!0,children:v(i)}),d]}),e.jsx(B,{type:"line",series:[{data:b}],options:s,width:96,height:64})]})}l.propTypes={chart:t.object,percent:t.number,sx:t.object,title:t.string,total:t.number};t.array,t.string,t.string;t.object;t.number,t.number,t.object,t.string;function M(){var x;const r=P(),[a,i]=u.useState([]),[h,m]=u.useState([]),[o,c]=u.useState([]),p=async()=>{const s=await D(L(U,"users")),d=[];s.forEach(j=>{d.push(j.data())}),m(d.reverse())};u.useEffect(()=>{p(),w.get("orders").then(s=>{i(s.data)}),w.get("products").then(s=>{c(s.data)})},[]);const b=W();return e.jsx(k,{maxWidth:b.themeStretch?!1:"xl",children:e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{xs:12,md:4,children:e.jsx(l,{title:"Active Store",percent:0,total:h.length,chart:{series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(l,{title:"Total Order Completed",percent:0,total:a.filter(s=>s.status==="completed").length,chart:{colors:[r.palette.info.light,r.palette.info.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(l,{title:"Customers",percent:0,total:0,chart:{colors:[r.palette.warning.light,r.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(l,{title:"Daily Signup",percent:0,total:0,chart:{colors:[r.palette.warning.light,r.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(l,{title:"Total Product",percent:0,total:o.count,chart:{colors:[r.palette.warning.light,r.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(l,{title:"Order Cancelled",percent:0,total:a.filter(s=>s.status==="cancelled").length,chart:{colors:[r.palette.warning.light,r.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:12,lg:12,children:e.jsx(H,{title:"Top Selling Products",tableData:(x=o.products)==null?void 0:x.sort((s,d)=>-s.quantity+d.quantity),tableLabels:[{id:"Product",label:"Product"},{id:"price",label:"Price"},{id:"Store Name",label:"Store Name"},{id:"Count",label:"Count"}]})})]})})}function ie(){return e.jsxs(e.Fragment,{children:[e.jsx(_,{children:e.jsx("title",{children:" Dashboard: E-Commerce"})}),e.jsx(M,{})]})}export{ie as default};
