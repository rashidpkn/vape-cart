import{ba as T,az as B,bb as E,bc as I,a4 as n,bd as P,be as A,bf as L,bg as O,bh as G,bi as U,bj as w,bk as _,bl as $,bm as Q,bn as F,p as x,aU as N,j as e,S as H,B as K,R as m,aK as p,aS as y,bo as D,aJ as R,aX as M,aY as q,bp as z,bq as J,br as V,a$ as S,bs as W,bt as X,aR as Y,bu as Z,aM as ee,bv as se,bw as ae,a_ as te,bx as ne,W as oe}from"./index-f22d2069.js";function le(){const s=T(),r=B(),a=E(t=>t.checkout),c=a.activeStep===I.length,u=n.useCallback(()=>{s(P())},[s]),i=n.useCallback(()=>{s(A())},[s]),d=n.useCallback(t=>{s(L(t))},[s]),b=n.useCallback(t=>{s(O(t))},[s]),l=n.useCallback(t=>{s(G(t))},[s]),o=n.useCallback(t=>{s(U(t))},[s]),C=n.useCallback(t=>{s(w(t)),s(P())},[s]),j=n.useCallback(()=>{s(w(null))},[s]),g=n.useCallback(t=>{s(_(t))},[s]),k=n.useCallback(t=>{a.cart.length&&s($(t))},[a.cart.length,s]),v=n.useCallback(t=>{s(Q(t))},[s]),f=n.useCallback(()=>{c&&(s(F()),r.replace(x.product.root))},[c,s,r]);return{checkout:a,completed:c,onResetAll:f,onAddCart:g,onGotoStep:d,onNextStep:u,onBackStep:i,onDeleteCart:b,onResetBilling:j,onCreateBilling:C,onApplyDiscount:k,onApplyShipping:v,onIncreaseQuantity:l,onDecreaseQuantity:o}}function ce({publish:s,backLink:r,editLink:a,liveLink:c,publishOptions:u,onChangePublish:i,sx:d,...b}){const l=N();return e.jsxs(e.Fragment,{children:[e.jsxs(H,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...d},...b,children:[e.jsx(K,{component:m,href:r,startIcon:e.jsx(p,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),e.jsx(y,{sx:{flexGrow:1}}),s==="published"&&e.jsx(D,{title:"Go Live",children:e.jsx(R,{component:m,href:c,children:e.jsx(p,{icon:"eva:external-link-fill"})})}),e.jsx(D,{title:"Edit",children:e.jsx(R,{component:m,href:a,children:e.jsx(p,{icon:"solar:pen-bold"})})})]}),e.jsx(M,{open:l.open,onClose:l.onClose,arrow:"top-right",sx:{width:140},children:u.map(o=>e.jsxs(q,{selected:o.value===s,onClick:()=>{l.onClose(),i(o.value)},children:[o.value==="published"&&e.jsx(p,{icon:"eva:cloud-upload-fill"}),o.value==="draft"&&e.jsx(p,{icon:"solar:file-text-bold"}),o.label]},o.value))})]})}function re(){const s=z(),{id:r}=s,[a,c]=n.useState({}),u=J();n.useEffect(()=>{(async()=>{try{const{data:h}=await te.get(`products/${r}`);c(h)}catch(h){alert(h.response.data.message),u(x.dashboard.product.root)}})()},[]);const[i,d]=n.useState("reviews"),[b,l]=n.useState(""),{checkout:o,onAddCart:C,onGotoStep:j}=le();n.useEffect(()=>{a&&l(a==null?void 0:a.publish)},[a]);const g=n.useCallback(t=>{l(t)},[]),k=n.useCallback((t,h)=>{d(h)},[]),v=e.jsx(ne,{}),f=a&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{backLink:x.dashboard.product.root,editLink:x.dashboard.product.edit(`${a==null?void 0:a.id}`),liveLink:x.product.details(`${a==null?void 0:a.id}`),publish:b||"",onChangePublish:g,publishOptions:V}),e.jsxs(S,{container:!0,spacing:{xs:3,md:5,lg:8},children:[e.jsx(S,{xs:12,md:6,lg:7,children:a&&e.jsx(W,{product:a})}),e.jsx(S,{xs:12,md:6,lg:5,children:a&&e.jsx(X,{disabledActions:!0,product:a,cart:o.cart,onAddCart:C,onGotoStep:j})})]}),e.jsxs(Y,{children:[e.jsx(Z,{value:i,onChange:k,sx:{px:3,boxShadow:t=>`inset 0 -2px 0 0 ${ee(t.palette.grey[500],.08)}`},children:[{value:"reviews",label:"Reviews (0)"}].map(t=>e.jsx(se,{value:t.value,label:t.label},t.value))}),i==="reviews"&&e.jsx(ae,{ratings:a.ratings,reviews:a.reviews,totalRatings:a.totalRatings,totalReviews:a.totalReviews})]})]});return e.jsxs(y,{px:5,children:[!a&&v,a&&f]})}function ue(){return e.jsxs(e.Fragment,{children:[e.jsx(oe,{children:e.jsx("title",{children:" Dashboard: Product Details"})}),e.jsx(re,{})]})}export{ue as default};
