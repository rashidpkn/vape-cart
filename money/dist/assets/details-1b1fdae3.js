import{bb as T,aA as B,bc as A,bd as E,a4 as n,be as P,bf as I,bg as L,bh as O,bi as G,bj as $,bk as w,bl as N,bm as Q,bn as U,bo as _,p as x,aV as F,j as e,S as H,B as K,R as m,aL as p,aT as R,bp as D,aK as y,aY as V,aZ as q,bq as M,br as W,bs as Y,b0 as S,bt as Z,bu as z,aS as J,bv as X,aN as ee,bw as se,bx as ae,a$ as te,by as ne,W as oe}from"./index-2ca7c1f5.js";function le(){const s=T(),r=B(),a=A(t=>t.checkout),c=a.activeStep===E.length,u=n.useCallback(()=>{s(P())},[s]),i=n.useCallback(()=>{s(I())},[s]),d=n.useCallback(t=>{s(L(t))},[s]),b=n.useCallback(t=>{s(O(t))},[s]),l=n.useCallback(t=>{s(G(t))},[s]),o=n.useCallback(t=>{s($(t))},[s]),C=n.useCallback(t=>{s(w(t)),s(P())},[s]),j=n.useCallback(()=>{s(w(null))},[s]),g=n.useCallback(t=>{s(N(t))},[s]),k=n.useCallback(t=>{a.cart.length&&s(Q(t))},[a.cart.length,s]),v=n.useCallback(t=>{s(U(t))},[s]),f=n.useCallback(()=>{c&&(s(_()),r.replace(x.product.root))},[c,s,r]);return{checkout:a,completed:c,onResetAll:f,onAddCart:g,onGotoStep:d,onNextStep:u,onBackStep:i,onDeleteCart:b,onResetBilling:j,onCreateBilling:C,onApplyDiscount:k,onApplyShipping:v,onIncreaseQuantity:l,onDecreaseQuantity:o}}function ce({publish:s,backLink:r,editLink:a,liveLink:c,publishOptions:u,onChangePublish:i,sx:d,...b}){const l=F();return e.jsxs(e.Fragment,{children:[e.jsxs(H,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...d},...b,children:[e.jsx(K,{component:m,href:r,startIcon:e.jsx(p,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),e.jsx(R,{sx:{flexGrow:1}}),s==="published"&&e.jsx(D,{title:"Go Live",children:e.jsx(y,{component:m,href:c,children:e.jsx(p,{icon:"eva:external-link-fill"})})}),e.jsx(D,{title:"Edit",children:e.jsx(y,{component:m,href:a,children:e.jsx(p,{icon:"solar:pen-bold"})})})]}),e.jsx(V,{open:l.open,onClose:l.onClose,arrow:"top-right",sx:{width:140},children:u.map(o=>e.jsxs(q,{selected:o.value===s,onClick:()=>{l.onClose(),i(o.value)},children:[o.value==="published"&&e.jsx(p,{icon:"eva:cloud-upload-fill"}),o.value==="draft"&&e.jsx(p,{icon:"solar:file-text-bold"}),o.label]},o.value))})]})}function re(){const s=M(),{id:r}=s,[a,c]=n.useState({}),u=W();n.useEffect(()=>{(async()=>{try{const{data:h}=await te.get(`products/${r}`);c(h)}catch(h){alert(h.response.data.message),u(x.dashboard.product.root)}})()},[]);const[i,d]=n.useState("reviews"),[b,l]=n.useState(""),{checkout:o,onAddCart:C,onGotoStep:j}=le();n.useEffect(()=>{a&&l(a==null?void 0:a.publish)},[a]);const g=n.useCallback(t=>{l(t)},[]),k=n.useCallback((t,h)=>{d(h)},[]),v=e.jsx(ne,{}),f=a&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{backLink:x.dashboard.product.root,editLink:x.dashboard.product.edit(`${a==null?void 0:a.id}`),liveLink:x.product.details(`${a==null?void 0:a.id}`),publish:b||"",onChangePublish:g,publishOptions:Y}),e.jsxs(S,{container:!0,spacing:{xs:3,md:5,lg:8},children:[e.jsx(S,{xs:12,md:6,lg:7,children:a&&e.jsx(Z,{product:a})}),e.jsx(S,{xs:12,md:6,lg:5,children:a&&e.jsx(z,{disabledActions:!0,product:a,cart:o.cart,onAddCart:C,onGotoStep:j})})]}),e.jsxs(J,{children:[e.jsx(X,{value:i,onChange:k,sx:{px:3,boxShadow:t=>`inset 0 -2px 0 0 ${ee(t.palette.grey[500],.08)}`},children:[{value:"reviews",label:"Reviews (0)"}].map(t=>e.jsx(se,{value:t.value,label:t.label},t.value))}),i==="reviews"&&e.jsx(ae,{ratings:a.ratings,reviews:a.reviews,totalRatings:a.totalRatings,totalReviews:a.totalReviews})]})]});return e.jsxs(R,{px:5,children:[!a&&v,a&&f]})}function ue(){return e.jsxs(e.Fragment,{children:[e.jsx(oe,{children:e.jsx("title",{children:" Dashboard: Product Details"})}),e.jsx(re,{})]})}export{ue as default};
