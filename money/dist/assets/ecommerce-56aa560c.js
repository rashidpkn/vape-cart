import{ae as e,aL as C,b3 as B,bH as O,bI as q,bJ as I,bK as k,as as r,bE as L,bF as u,aY as N,au as S,c3 as y,aw as R,aC as W,am as w,ac as b,c4 as G,aq as f,D as g,bw as T,aQ as H,aG as n,c7 as A,c8 as D,c9 as F,b7 as U}from"./index-f1bd24a1.js";import{T as J}from"./TableContainer-80ce2aad.js";import{u as K,C as Q}from"./chart-fff78946.js";function v({title:t,subheader:a,tableData:i,tableLabels:m,...h}){return e.jsxs(C,{...h,children:[e.jsx(B,{title:t,subheader:a,sx:{mb:3}}),e.jsx(J,{sx:{overflow:"unset"},children:e.jsx(O,{children:e.jsxs(q,{sx:{minWidth:640},children:[e.jsx(I,{headLabel:m}),e.jsx(k,{children:i==null?void 0:i.map(l=>e.jsx(E,{row:l},l.id))})]})})})]})}v.propTypes={subheader:r.string,tableData:r.array,tableLabels:r.array,title:r.string};function E({row:t}){return e.jsxs(L,{children:[e.jsxs(u,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(N,{alt:t.name,src:t.images[0],sx:{mr:2}}),t.name]}),e.jsx(u,{children:t.salePrice}),e.jsx(u,{children:t.storeName}),e.jsx(u,{children:t.quantity})]})}E.propTypes={row:r.object};function o({title:t,percent:a,total:i,chart:m,sx:h,...l}){const c=S(),{colors:p=[c.palette.primary.light,c.palette.primary.main],series:x,options:s}=m,d=K({colors:[p[1]],fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:p[0]},{offset:100,color:p[1]}]}},chart:{animations:{enabled:!0},sparkline:{enabled:!0}},tooltip:{x:{show:!1},y:{formatter:P=>y(P),title:{formatter:()=>""}},marker:{show:!1}},...s}),j=e.jsxs(R,{direction:"row",alignItems:"center",sx:{mt:2,mb:1},children:[e.jsx(W,{icon:a<0?"eva:trending-down-fill":"eva:trending-up-fill",sx:{mr:1,p:.5,width:24,height:24,borderRadius:"50%",color:"success.main",bgcolor:w(c.palette.success.main,.16),...a<0&&{color:"error.main",bgcolor:w(c.palette.error.main,.16)}}}),e.jsxs(b,{variant:"subtitle2",component:"div",noWrap:!0,children:[a>0&&"+",G(a),e.jsx(f,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:" than last week"})]})]});return e.jsxs(C,{sx:{display:"flex",alignItems:"center",p:3,...h},...l,children:[e.jsxs(f,{sx:{flexGrow:1},children:[e.jsx(b,{variant:"subtitle2",paragraph:!0,children:t}),e.jsx(b,{variant:"h3",gutterBottom:!0,children:y(i)}),j]}),e.jsx(Q,{type:"line",series:[{data:x}],options:d,width:96,height:64})]})}o.propTypes={chart:r.object,percent:r.number,sx:r.object,title:r.string,total:r.number};function V(){var x;const t=S(),[a,i]=g.useState([]),[m,h]=g.useState([]),[l,c]=g.useState([]),p=async()=>{const s=await A(D(F,"users")),d=[];s.forEach(j=>{d.push(j.data())}),h(d.reverse())};return g.useEffect(()=>{p(),T.get("orders").then(s=>{i(s.data)}),T.get("products").then(s=>{c(s.data)})},[]),H(),e.jsx(f,{px:5,children:e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Active Partners",percent:0,total:m.length,chart:{series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Total Order Completed",percent:0,total:a.filter(s=>s.status==="completed").length,chart:{colors:[t.palette.info.light,t.palette.info.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Customers",percent:0,total:0,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Daily Signup",percent:0,total:0,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Total Product",percent:0,total:l.count,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:4,children:e.jsx(o,{title:"Order Cancelled",percent:0,total:a.filter(s=>s.status==="cancelled").length,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(n,{xs:12,md:12,lg:12,children:e.jsx(v,{title:"Top Selling Products",tableData:(x=l.products)==null?void 0:x.sort((s,d)=>-s.quantity+d.quantity),tableLabels:[{id:"Product",label:"Product"},{id:"price",label:"Price"},{id:"Store Name",label:"Store Name"},{id:"Count",label:"Count"}]})})]})})}function M(){return e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx("title",{children:" Dashboard: E-Commerce"})}),e.jsx(V,{})]})}export{M as default};
