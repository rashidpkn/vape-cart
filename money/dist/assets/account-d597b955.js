import{cv as N,bS as Z,bI as U,bJ as h,bW as K,dH as Q,bK as I,bN as _,D as j,af as e,bL as q,aE as t,aJ as C,dI as Y,ac as X,dJ as ee,dK as se,ax as f,ao as S,bV as b,cA as ae,dL as z,aA as u,au as g,bM as F,bs as A,aT as ne,aZ as oe,dM as re,dN as te,dO as ie,b1 as B,aN as le,dP as ce,du as de,aq as w,dQ as ue,bH as xe,c0 as me,dR as pe,b2 as T,c1 as he,b4 as L,bR as be,bz as k,bq as je,bF as ye,a_ as ge,aP as we,dS as fe,aO as Ce,aC as Pe,bv as ve,az as O,aL as Se,aM as Ae,dT as Te,dU as ke,dV as Ne,dW as Ie,dz as qe,b5 as Fe}from"./index-0a6e54eb.js";function Ee(){const{enqueueSnackbar:i}=N(),{user:s}=Z(),x=U().shape({displayName:h().required("Name is required"),email:h().required("Email is required").email("Email must be a valid email address"),storeName:h().required("Store name is required"),contactPersonInTouch:h().required("Contact person in touch is required"),tradeLicense:K().nullable().required("Avatar is required"),phoneNumber:h().required("Phone number is required"),country:h().required("Country is required"),address:h().required("Address is required"),state:h().required("State is required"),city:h().required("City is required"),zipCode:h().required("Zip code is required"),about:h().required("About is required"),isPublic:Q()}),l={displayName:(s==null?void 0:s.displayName)||"",email:(s==null?void 0:s.email)||"",storeName:(s==null?void 0:s.storeName)||"",tradeLicense:(s==null?void 0:s.tradeLicense)||null,contactPersonInTouch:(s==null?void 0:s.contactPersonInTouch)||null,phoneNumber:(s==null?void 0:s.phoneNumber)||"",country:(s==null?void 0:s.country)||"",address:(s==null?void 0:s.address)||"",state:(s==null?void 0:s.state)||"",city:(s==null?void 0:s.city)||"",zipCode:(s==null?void 0:s.zipCode)||"",about:(s==null?void 0:s.about)||"",isPublic:(s==null?void 0:s.isPublic)||!1},c=I({resolver:_(x),defaultValues:l}),{setValue:p,handleSubmit:y,formState:{isSubmitting:o}}=c,m=y(async n=>{try{await new Promise(d=>setTimeout(d,500)),i("Update success!"),console.info("DATA",n)}catch(d){console.error(d)}}),a=j.useCallback(n=>{const d=n[0],P=Object.assign(d,{preview:URL.createObjectURL(d)});d&&p("tradeLicense",P,{shouldValidate:!0})},[p]);return e.jsx(q,{methods:c,onSubmit:m,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{xs:12,md:4,children:e.jsxs(C,{sx:{pt:10,pb:5,px:3,textAlign:"center"},children:[e.jsx(Y,{name:"tradeLicense",maxSize:3145728,onDrop:a,helperText:e.jsxs(X,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",e.jsx("br",{})," max size of ",ee(3145728)]})}),e.jsx(se,{name:"isPublic",labelPlacement:"start",label:"Public Profile",sx:{mt:5}}),e.jsx(f,{variant:"soft",color:"error",sx:{mt:3},children:"Delete User"})]})}),e.jsx(t,{xs:12,md:8,children:e.jsxs(C,{sx:{p:3},children:[e.jsxs(S,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(b,{name:"displayName",label:"Name"}),e.jsx(b,{name:"email",label:"Email Address"}),e.jsx(b,{name:"storeName",label:"Store Name"}),e.jsx(b,{name:"contactPersonInTouch",label:"Contact person in touch"}),e.jsx(b,{name:"phoneNumber",label:"Phone Number"}),e.jsx(b,{name:"address",label:"Address"}),e.jsx(ae,{name:"country",label:"Country",options:z.map(n=>n.label),getOptionLabel:n=>n,renderOption:(n,d)=>{const{code:P,label:v,phone:E}=z.filter(D=>D.label===d)[0];return v?j.createElement("li",{...n,key:v},e.jsx(u,{icon:`circle-flags:${P.toLowerCase()}`,width:28,sx:{mr:1}},v),v," (",P,") +",E):null}}),e.jsx(b,{name:"state",label:"State/Region"}),e.jsx(b,{name:"city",label:"City"}),e.jsx(b,{name:"zipCode",label:"Zip/Code"})]}),e.jsxs(g,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:[e.jsx(b,{name:"about",multiline:!0,rows:4,label:"About"}),e.jsx(F,{type:"submit",variant:"contained",loading:o,children:"Save Changes"})]})]})})]})})}function V({cardList:i,addressBook:s,plans:x}){const l=A(),c=A(),p=s.filter(r=>r.primary)[0],y=i.filter(r=>r.primary)[0],[o,m]=j.useState(""),[a,n]=j.useState(p),[d,P]=j.useState(y),v=j.useCallback(r=>{x.filter(J=>J.primary)[0].subscription!==r&&m(r)},[x]),E=j.useCallback(r=>{n(r)},[]),D=j.useCallback(r=>{P(r)},[]),W=x.map(r=>e.jsx(t,{xs:12,md:4,children:e.jsxs(g,{component:ne,variant:"outlined",onClick:()=>v(r.subscription),sx:{p:2.5,position:"relative",cursor:"pointer",...r.primary&&{opacity:.48,cursor:"default"},...r.subscription===o&&{boxShadow:R=>`0 0 0 2px ${R.palette.text.primary}`}},children:[r.primary&&e.jsx(oe,{color:"info",startIcon:e.jsx(u,{icon:"eva:star-fill"}),sx:{position:"absolute",top:8,right:8},children:"Current"}),e.jsxs(S,{sx:{width:48,height:48},children:[r.subscription==="basic"&&e.jsx(re,{}),r.subscription==="starter"&&e.jsx(te,{}),r.subscription==="premium"&&e.jsx(ie,{})]}),e.jsx(S,{sx:{typography:"subtitle2",mt:2,mb:.5,textTransform:"capitalize"},children:r.subscription}),e.jsxs(g,{direction:"row",alignItems:"center",sx:{typography:"h4"},children:[r.price||"Free",!!r.price&&e.jsx(S,{component:"span",sx:{typography:"body2",color:"text.disabled",ml:.5},children:"/mo"})]})]})},r.subscription));return e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsx(B,{title:"Plan"}),e.jsx(t,{container:!0,spacing:2,sx:{p:3},children:W}),e.jsxs(g,{spacing:2,sx:{p:3,pt:0,typography:"body2"},children:[e.jsxs(t,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(t,{xs:12,md:4,sx:{color:"text.secondary"},children:"Plan"}),e.jsx(t,{xs:12,md:8,sx:{typography:"subtitle2",textTransform:"capitalize"},children:o||"-"})]}),e.jsxs(t,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(t,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing name"}),e.jsx(t,{xs:12,md:8,children:e.jsx(f,{onClick:l.onTrue,endIcon:e.jsx(u,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:a==null?void 0:a.name})})]}),e.jsxs(t,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(t,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing address"}),e.jsx(t,{xs:12,md:8,sx:{color:"text.secondary"},children:a==null?void 0:a.fullAddress})]}),e.jsxs(t,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(t,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing phone number"}),e.jsx(t,{xs:12,md:8,sx:{color:"text.secondary"},children:a==null?void 0:a.phoneNumber})]}),e.jsxs(t,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(t,{xs:12,md:4,sx:{color:"text.secondary"},children:"Payment method"}),e.jsx(t,{xs:12,md:8,children:e.jsx(f,{onClick:c.onTrue,endIcon:e.jsx(u,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:d==null?void 0:d.cardNumber})})]})]}),e.jsx(le,{sx:{borderStyle:"dashed"}}),e.jsxs(g,{spacing:1.5,direction:"row",justifyContent:"flex-end",sx:{p:3},children:[e.jsx(f,{variant:"outlined",children:"Cancel Plan"}),e.jsx(f,{variant:"contained",children:"Upgrade Plan"})]})]}),e.jsx(ce,{list:i,open:c.value,onClose:c.onFalse,selected:r=>(d==null?void 0:d.id)===r,onSelect:D}),e.jsx(de,{list:s,open:l.value,onClose:l.onFalse,selected:r=>(a==null?void 0:a.id)===r,onSelect:E,action:e.jsx(f,{size:"small",startIcon:e.jsx(u,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}V.propTypes={addressBook:w.array,cardList:w.array,plans:w.array};function $({cards:i}){const s=A();return e.jsxs(e.Fragment,{children:[e.jsxs(C,{sx:{my:3},children:[e.jsx(B,{title:"Payment Method",action:e.jsx(f,{size:"small",color:"primary",startIcon:e.jsx(u,{icon:"mingcute:add-line"}),onClick:s.onTrue,children:"New Card"})}),e.jsx(S,{rowGap:2.5,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{p:3},children:i.map(x=>e.jsx(ue,{card:x},x.id))})]}),e.jsx(xe,{open:s.value,onClose:s.onFalse})]})}$.propTypes={cards:w.array};function G({addressBook:i}){const[s,x]=j.useState(""),l=me(),c=A(),p=j.useCallback(m=>{console.info("ADDRESS",m)},[]),y=j.useCallback((m,a)=>{l.onOpen(m),x(a)},[l]),o=j.useCallback(()=>{l.onClose(),x("")},[l]);return e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsx(B,{title:"Address Book",action:e.jsx(f,{size:"small",color:"primary",startIcon:e.jsx(u,{icon:"mingcute:add-line"}),onClick:c.onTrue,children:"Address"})}),e.jsx(g,{spacing:2.5,sx:{p:3},children:i.map(m=>e.jsx(pe,{variant:"outlined",address:m,action:e.jsx(T,{onClick:a=>{y(a,`${m.id}`)},sx:{position:"absolute",top:8,right:8},children:e.jsx(u,{icon:"eva:more-vertical-fill"})}),sx:{p:2.5,borderRadius:1}},m.id))})]}),e.jsxs(he,{open:l.open,onClose:o,children:[e.jsxs(L,{onClick:()=>{o(),console.info("SET AS PRIMARY",s)},children:[e.jsx(u,{icon:"eva:star-fill"}),"Set as primary"]}),e.jsxs(L,{onClick:()=>{o(),console.info("EDIT",s)},children:[e.jsx(u,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(L,{onClick:()=>{o(),console.info("DELETE",s)},sx:{color:"error.main"},children:[e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(be,{open:c.value,onClose:c.onFalse,onCreate:p})]})}G.propTypes={addressBook:w.array};function H({cards:i,plans:s,invoices:x,addressBook:l}){return e.jsx(t,{container:!0,spacing:5,disableEqualOverflow:!0,children:e.jsxs(t,{xs:12,md:8,children:[e.jsx(V,{plans:s,cardList:i,addressBook:l}),e.jsx($,{cards:i}),e.jsx(G,{addressBook:l})]})})}H.propTypes={addressBook:w.array,cards:w.array,invoices:w.array,plans:w.array};function M({socialLinks:i}){const{enqueueSnackbar:s}=N(),x={facebook:i.facebook,instagram:i.instagram,linkedin:i.linkedin,twitter:i.twitter},l=I({defaultValues:x}),{handleSubmit:c,formState:{isSubmitting:p}}=l,y=c(async o=>{try{await new Promise(m=>setTimeout(m,500)),s("Update success!"),console.info("DATA",o)}catch(m){console.error(m)}});return e.jsx(q,{methods:l,onSubmit:y,children:e.jsxs(g,{component:C,spacing:3,sx:{p:3},children:[Object.keys(i).map(o=>e.jsx(b,{name:o,InputProps:{startAdornment:e.jsx(k,{position:"start",children:e.jsx(u,{width:24,icon:o==="facebook"&&"eva:facebook-fill"||o==="instagram"&&"ant-design:instagram-filled"||o==="linkedin"&&"eva:linkedin-fill"||o==="twitter"&&"eva:twitter-fill"||"",color:o==="facebook"&&"#1877F2"||o==="instagram"&&"#DF3E30"||o==="linkedin"&&"#006097"||o==="twitter"&&"#1C9CEA"||""})})}},o)),e.jsx(F,{type:"submit",variant:"contained",loading:p,sx:{ml:"auto"},children:"Save Changes"})]})})}M.propTypes={socialLinks:w.object};const De=[{subheader:"Activity",caption:"",items:[{id:"activity_comments",label:"Email me when customer makes a purchase."},{id:"activity_answers",label:"Email me when customer cancels an order."},{id:"activityFollows",label:"Email me when order is delivered."},{id:"application_news",label:"Email me when  someone leaves a review."},{id:"application_product",label:"Email me when stock is below 5."}]}];function Le(){const{enqueueSnackbar:i}=N(),s=I({defaultValues:{selected:["activity_comments","application_product"]}}),{watch:x,control:l,handleSubmit:c,formState:{isSubmitting:p}}=s,y=x(),o=c(async a=>{try{await new Promise(n=>setTimeout(n,500)),i("Update success!"),console.info("DATA",a)}catch(n){console.error(n)}}),m=(a,n)=>a.includes(n)?a.filter(d=>d!==n):[...a,n];return e.jsx(q,{methods:s,onSubmit:o,children:e.jsxs(g,{component:C,spacing:3,sx:{p:3},children:[De.map(a=>e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{xs:12,md:4,children:e.jsx(je,{primary:a.subheader,secondary:a.caption,primaryTypographyProps:{typography:"h6",mb:.5},secondaryTypographyProps:{component:"span"}})}),e.jsx(t,{xs:12,md:8,children:e.jsx(g,{spacing:1,sx:{p:3,borderRadius:2,bgcolor:"background.neutral"},children:e.jsx(ye,{name:"selected",control:l,render:({field:n})=>e.jsx(e.Fragment,{children:a.items.map(d=>e.jsx(ge,{label:d.label,labelPlacement:"start",control:e.jsx(we,{checked:n.value.includes(d.id),onChange:()=>n.onChange(m(y.selected,d.id))}),sx:{m:0,width:1,justifyContent:"space-between"}},d.id))})})})})]},a.subheader)),e.jsx(F,{type:"submit",variant:"contained",loading:p,sx:{ml:"auto"},children:"Save Changes"})]})})}function Be(){const{enqueueSnackbar:i}=N(),s=A(),x=U().shape({oldPassword:h().required("Old Password is required"),newPassword:h().required("New Password is required").min(6,"Password must be at least 6 characters").test("no-match","New password must be different than old password",(a,{parent:n})=>a!==n.oldPassword),confirmNewPassword:h().oneOf([fe("newPassword")],"Passwords must match")}),l={oldPassword:"",newPassword:"",confirmNewPassword:""},c=I({resolver:_(x),defaultValues:l}),{reset:p,handleSubmit:y,formState:{isSubmitting:o}}=c,m=y(async a=>{try{await new Promise(n=>setTimeout(n,500)),p(),i("Update success!"),console.info("DATA",a)}catch(n){console.error(n)}});return e.jsx(q,{methods:c,onSubmit:m,children:e.jsxs(g,{component:C,spacing:3,sx:{p:3},children:[e.jsx(b,{name:"oldPassword",type:s.value?"text":"password",label:"Old Password",InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(u,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(b,{name:"newPassword",label:"New Password",type:s.value?"text":"password",InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(u,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},helperText:e.jsxs(g,{component:"span",direction:"row",alignItems:"center",children:[e.jsx(u,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," Password must be minimum 6+"]})}),e.jsx(b,{name:"confirmNewPassword",type:s.value?"text":"password",label:"Confirm New Password",InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(T,{onClick:s.onToggle,edge:"end",children:e.jsx(u,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(F,{type:"submit",variant:"contained",loading:o,sx:{ml:"auto"},children:"Save Changes"})]})})}const Re=[{value:"general",label:"General",icon:e.jsx(u,{icon:"solar:user-id-bold",width:24})},{value:"billing",label:"Billing",icon:e.jsx(u,{icon:"solar:bill-list-bold",width:24})},{value:"notifications",label:"Notifications",icon:e.jsx(u,{icon:"solar:bell-bing-bold",width:24})},{value:"social",label:"Social links",icon:e.jsx(u,{icon:"solar:share-bold",width:24})},{value:"security",label:"Security",icon:e.jsx(u,{icon:"ic:round-vpn-key",width:24})}];function ze(){const i=Ce(),[s,x]=j.useState("general"),l=j.useCallback((c,p)=>{x(p)},[]);return e.jsxs(Pe,{maxWidth:i.themeStretch?!1:"lg",children:[e.jsx(ve,{heading:"Account",links:[{name:"Dashboard",href:O.dashboard.root},{name:"User",href:O.dashboard.user.root},{name:"Account"}],sx:{mb:{xs:3,md:5}}}),e.jsx(Se,{value:s,onChange:l,sx:{mb:{xs:3,md:5}},children:Re.map(c=>e.jsx(Ae,{label:c.label,icon:c.icon,value:c.value},c.value))}),s==="general"&&e.jsx(Ee,{}),s==="billing"&&e.jsx(H,{plans:Te,cards:ke,invoices:Ne,addressBook:Ie}),s==="notifications"&&e.jsx(Le,{}),s==="social"&&e.jsx(M,{socialLinks:qe.socialLinks}),s==="security"&&e.jsx(Be,{})]})}function Ue(){return e.jsxs(e.Fragment,{children:[e.jsx(Fe,{children:e.jsx("title",{children:" Dashboard: Account Settings"})}),e.jsx(ze,{})]})}export{Ue as default};
