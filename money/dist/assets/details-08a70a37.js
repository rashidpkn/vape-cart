import{b9 as T,az as B,ba as E,a4 as o,bb as S,bc as I,bd as A,be as L,bf as O,bg as G,bh as w,bi as U,bj as _,bk as $,bl as Q,p as x,aU as F,j as e,S as N,B as H,R as f,aK as h,aS as y,bm as D,aJ as R,aX as K,aY as M,bn as q,bo as z,a$ as P,aR as J,bp as V,aM as W,bq as X,a_ as Y,W as Z}from"./index-58c1d6b6.js";import{P as ee,a as se,b as ae,c as te}from"./product-details-description-6d0b6f21.js";import"./lightbox-38eaca70.js";import"./confirm-dialog-e89759f5.js";import{P as oe,a as ne}from"./_product-fa61ef0b.js";import"./DialogTitle-fb5136bb.js";import"./DialogContent-41485218.js";function le(){const s=T(),r=B(),a=E(t=>t.checkout),c=a.activeStep===oe.length,u=o.useCallback(()=>{s(S())},[s]),i=o.useCallback(()=>{s(I())},[s]),d=o.useCallback(t=>{s(A(t))},[s]),p=o.useCallback(t=>{s(L(t))},[s]),l=o.useCallback(t=>{s(O(t))},[s]),n=o.useCallback(t=>{s(G(t))},[s]),C=o.useCallback(t=>{s(w(t)),s(S())},[s]),j=o.useCallback(()=>{s(w(null))},[s]),g=o.useCallback(t=>{s(U(t))},[s]),k=o.useCallback(t=>{a.cart.length&&s(_(t))},[a.cart.length,s]),m=o.useCallback(t=>{s($(t))},[s]),v=o.useCallback(()=>{c&&(s(Q()),r.replace(x.product.root))},[c,s,r]);return{checkout:a,completed:c,onResetAll:v,onAddCart:g,onGotoStep:d,onNextStep:u,onBackStep:i,onDeleteCart:p,onResetBilling:j,onCreateBilling:C,onApplyDiscount:k,onApplyShipping:m,onIncreaseQuantity:l,onDecreaseQuantity:n}}function ce({publish:s,backLink:r,editLink:a,liveLink:c,publishOptions:u,onChangePublish:i,sx:d,...p}){const l=F();return e.jsxs(e.Fragment,{children:[e.jsxs(N,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...d},...p,children:[e.jsx(H,{component:f,href:r,startIcon:e.jsx(h,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),e.jsx(y,{sx:{flexGrow:1}}),s==="published"&&e.jsx(D,{title:"Go Live",children:e.jsx(R,{component:f,href:c,children:e.jsx(h,{icon:"eva:external-link-fill"})})}),e.jsx(D,{title:"Edit",children:e.jsx(R,{component:f,href:a,children:e.jsx(h,{icon:"solar:pen-bold"})})})]}),e.jsx(K,{open:l.open,onClose:l.onClose,arrow:"top-right",sx:{width:140},children:u.map(n=>e.jsxs(M,{selected:n.value===s,onClick:()=>{l.onClose(),i(n.value)},children:[n.value==="published"&&e.jsx(h,{icon:"eva:cloud-upload-fill"}),n.value==="draft"&&e.jsx(h,{icon:"solar:file-text-bold"}),n.label]},n.value))})]})}function re(){const s=q(),{id:r}=s,[a,c]=o.useState({}),u=z();o.useEffect(()=>{(async()=>{try{const{data:b}=await Y.get(`products/${r}`);c(b)}catch(b){alert(b.response.data.message),u(x.dashboard.product.root)}})()},[]);const[i,d]=o.useState("reviews"),[p,l]=o.useState(""),{checkout:n,onAddCart:C,onGotoStep:j}=le();o.useEffect(()=>{a&&l(a==null?void 0:a.publish)},[a]);const g=o.useCallback(t=>{l(t)},[]),k=o.useCallback((t,b)=>{d(b)},[]),m=e.jsx(te,{}),v=a&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{backLink:x.dashboard.product.root,editLink:x.dashboard.product.edit(`${a==null?void 0:a.id}`),liveLink:x.product.details(`${a==null?void 0:a.id}`),publish:p||"",onChangePublish:g,publishOptions:ne}),e.jsxs(P,{container:!0,spacing:{xs:3,md:5,lg:8},children:[e.jsx(P,{xs:12,md:6,lg:7,children:a&&e.jsx(ee,{product:a})}),e.jsx(P,{xs:12,md:6,lg:5,children:a&&e.jsx(se,{disabledActions:!0,product:a,cart:n.cart,onAddCart:C,onGotoStep:j})})]}),e.jsxs(J,{children:[e.jsx(V,{value:i,onChange:k,sx:{px:3,boxShadow:t=>`inset 0 -2px 0 0 ${W(t.palette.grey[500],.08)}`},children:[{value:"reviews",label:"Reviews (0)"}].map(t=>e.jsx(X,{value:t.value,label:t.label},t.value))}),i==="reviews"&&e.jsx(ae,{ratings:a.ratings,reviews:a.reviews,totalRatings:a.totalRatings,totalReviews:a.totalReviews})]})]});return e.jsxs(y,{px:5,children:[!a&&m,a&&v]})}function Ce(){return e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsx("title",{children:" Dashboard: Product Details"})}),e.jsx(re,{})]})}export{Ce as default};
