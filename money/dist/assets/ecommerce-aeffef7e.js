import{j as e,aS as g,aW as P,b4 as v,a_ as C,b5 as E,b6 as B,b7 as O,P as r,b8 as q,b9 as h,ba as N,aT as b,g as m,aR as R,u as W,a4 as p,a$ as j,b0 as a,b1 as A,b2 as L,b3 as G,W as H}from"./index-2ca7c1f5.js";function f({title:t,subheader:c,tableData:n,tableLabels:d,...o}){return e.jsxs(g,{...o,children:[e.jsx(P,{title:t,subheader:c,sx:{mb:3}}),e.jsx(v,{sx:{overflow:"unset"},children:e.jsx(C,{children:e.jsxs(E,{sx:{minWidth:640},children:[e.jsx(B,{headLabel:d}),e.jsx(O,{children:n==null?void 0:n.map(l=>e.jsx(y,{row:l},l.id))})]})})})]})}f.propTypes={subheader:r.string,tableData:r.array,tableLabels:r.array,title:r.string};function y({row:t}){return e.jsxs(q,{children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(N,{alt:t.name,src:t.images[0],sx:{mr:2}}),t.name]}),e.jsx(h,{children:t.salePrice}),e.jsx(h,{children:t.storeName}),e.jsx(h,{children:t.quantity})]})}y.propTypes={row:r.object};function i({title:t,percent:c,total:n,chart:d,sx:o,...l}){return e.jsx(g,{sx:{display:"flex",alignItems:"center",p:3,...o},...l,children:e.jsxs(b,{sx:{flexGrow:1},children:[e.jsx(m,{variant:"subtitle2",paragraph:!0,children:t}),e.jsx(m,{variant:"h3",gutterBottom:!0,children:R(n)})]})})}i.propTypes={chart:r.object,percent:r.number,sx:r.object,title:r.string,total:r.number};function I(){var u;const t=W(),[c,n]=p.useState([]),[d,o]=p.useState([]),[l,T]=p.useState([]),S=async()=>{const s=await A(L(G,"users")),x=[];s.forEach(w=>{x.push(w.data())}),o(x.reverse())};return p.useEffect(()=>{S(),j.get("orders").then(s=>{n(s.data)}),j.get("products").then(s=>{T(s.data)})},[]),e.jsx(b,{px:5,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{xs:12,md:4,children:e.jsx(i,{title:"Active Partners",percent:0,total:d.length,chart:{series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(a,{xs:12,md:4,children:e.jsx(i,{title:"Total Order Completed",percent:0,total:c.filter(s=>s.status==="completed").length,chart:{colors:[t.palette.info.light,t.palette.info.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(a,{xs:12,md:4,children:e.jsx(i,{title:"Customers",percent:0,total:0,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(a,{xs:12,md:4,children:e.jsx(i,{title:"Daily Signup",percent:0,total:0,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(a,{xs:12,md:4,children:e.jsx(i,{title:"Total Product",percent:0,total:l.count,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(a,{xs:12,md:4,children:e.jsx(i,{title:"Order Cancelled",percent:0,total:c.filter(s=>s.status==="cancelled").length,chart:{colors:[t.palette.warning.light,t.palette.warning.main],series:[0,0,0,0,0,0,0,0,0,0]}})}),e.jsx(a,{xs:12,md:12,lg:12,children:e.jsx(f,{title:"Top Selling Products",tableData:(u=l.products)==null?void 0:u.sort((s,x)=>-s.quantity+x.quantity),tableLabels:[{id:"Product",label:"Product"},{id:"price",label:"Price"},{id:"Store Name",label:"Store Name"},{id:"Count",label:"Count"}]})})]})})}function _(){return e.jsxs(e.Fragment,{children:[e.jsx(H,{children:e.jsx("title",{children:" Dashboard: Analytics"})}),e.jsx(I,{})]})}export{_ as default};
